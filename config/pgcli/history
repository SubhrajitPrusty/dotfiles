
# 2024-06-03 16:25:57.155850
+insert into flows (name, template_id) values ('llm_flow', '404');

# 2024-06-03 16:26:15.568341
+insert into flows (uuid, name, template_id) values (uuid(), 'llm_flow', '404');

# 2024-06-03 16:26:42.775303
+insert into flows (uuid, name, template_id) values (gen_random_uuid(), 'llm_flow', '404');

# 2024-06-03 16:27:00.794560
+select * from flows where name = 'llm_flow';

# 2024-06-03 16:27:30.301056
+select client_id from flows where id = 404;

# 2024-06-03 16:27:46.533887
+update flows set client_id = 1 where id = 517;

# 2024-06-03 16:28:36.867989
+insert into flow_configs (flow_id, version, current_config) values (517, '0.0.1', true);

# 2024-06-03 16:29:03.572148
+update flow_configs set application_parameters = ''::jsonb where flow_id = 517;

# 2024-06-03 16:29:39.357593
+update flow_configs set application_parameters = '{"parameters": {"model": "gpt-4", "module": "NAME-VERIFICATION", "agency_name": "SCJ"}}' where flow_id = 517;

# 2024-06-03 16:30:08.031083
+update virtual_numbers set flow_id = 517 where virtual_number = '100';

# 2024-06-03 16:31:00.416845
+select version, current_config from flow_configs where flow_id = 404;

# 2024-06-03 16:31:42.305753
+update flows set template_id = 100 where id = 517;

# 2024-06-03 17:01:47.476675
+select version, current_config from flow_configs where flow_id = 517;

# 2024-06-03 17:01:49.874250
+select version, current_config from flow_configs where flow_id = 100;;

# 2024-06-03 17:01:51.530819
+select version, current_config from flow_configs where flow_id = 100;

# 2024-06-03 17:01:59.123406
+select version, current_config from flow_configs where flow_id = 100, version='0.0.1';

# 2024-06-03 17:02:06.079224
+select version, current_config from flow_configs where flow_id = 100, current_config=true;

# 2024-06-03 17:02:12.482779
+select version, current_config from flow_configs where flow_id = 100 and current_config=true;

# 2024-06-03 17:02:22.804843
+select version, current_config from flow_configs where flow_id = 100;

# 2024-06-03 17:02:41.737187
+update flow_configs set current_config = true where flow_id = 100 and version = '0.0.1';

# 2024-06-03 17:07:43.814300
+select state from flow_configs where current_config=true;

# 2024-06-03 17:07:46.146715
+select states from flow_configs where current_config=true;

# 2024-06-03 17:08:07.411230
+select OCTET_LENGTH(states) from flow_configs where current_config=true;

# 2024-06-03 17:08:15.645846
+select states, version from flow_configs where current_config=true;

# 2024-06-03 17:08:21.891214
+select version from flow_configs where current_config=true;

# 2024-06-03 17:08:33.678325
+select created_at, version from flow_configs where current_config=true;

# 2024-06-03 17:08:47.623274
+select id,created_at, version from flow_configs where current_config=true;

# 2024-06-03 17:08:55.549116
+select id,created_at, version from flow_configs where current_config=true order by id desc;

# 2024-06-03 17:09:26.514494
+update flow_configs set version = '0.0.x' where id = 3492;

# 2024-06-03 17:09:32.559193
+update flow_configs set version = '0.0.x' where id = 3042;

# 2024-06-03 17:09:36.813899
+select id,created_at, version from flow_configs where current_config=true order by id desc;

# 2024-06-03 17:10:21.981445
+update flow_configs set current_config = false where version != '0.0.1';

# 2024-06-03 17:10:42.948571
+select id,created_at, version from flow_configs where current_config=true order by id desc;

# 2024-06-03 17:10:54.311371
+select id, created_at, version, deleted_at from flow_configs where current_config=true order by id desc;

# 2024-06-03 17:11:58.961255
+select flow_id, id, created_at, version, deleted_at from flow_configs where current_config=true order by id desc;

# 2024-06-03 17:12:49.677931
+update flow_configs set current_config = true where version = '0.0.1' and flow_id = 100;

# 2024-06-03 17:13:25.561240
+update flow_configs set version = '0.0.1' where flow_id = 100 and version = '0.0.x';

# 2024-06-03 17:13:56.132059
+select current_config, version, flow_id from flow_configs;

# 2024-06-03 17:14:02.519287
+select current_config, version, flow_id from flow_configs where current_config = true;

# 2024-06-03 17:14:21.231232
+update flow_configs set current_config = true where flow_id = 100 and version = '0.0.1';

# 2024-06-03 17:14:24.634944
+select current_config, version, flow_id from flow_configs where current_config = true;

# 2024-06-03 17:15:02.979253
+select states from flow_configs where current_config = true and flow_id =100;

# 2024-06-03 17:15:08.223675
+select OCTET_LENGTH(states) from flow_configs where current_config = true and flow_id =100;

# 2024-06-03 17:15:10.472821
+select states from flow_configs where current_config = true and flow_id =100;

# 2024-06-03 17:15:18.920950
+select version from flow_configs where current_config = true and flow_id =100;

# 2024-06-03 17:15:22.685424
+select created_at, version from flow_configs where current_config = true and flow_id =100;

# 2024-06-03 17:28:25.674414
+select flow_id, id, version, current_config where flow_id = 100;

# 2024-06-03 17:28:31.698165
+select flow_id, id, version, current_config from flow_configs where flow_id = 100;

# 2024-06-03 17:28:51.008731
+select flow_id, id, version, current_config, deleted_at from flow_configs where flow_id = 100;

# 2024-06-03 17:29:02.211012
+select flow_id, id, version, current_config, deleted_at from flow_configs where flow_id = 100 and deleted_at is null;

# 2024-06-03 17:29:26.088836
+update flow_configs set deleted_at = null where flow_id = 100 and version = '0.0.1';

# 2024-06-03 17:31:37.913165
+select * from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-03 17:31:44.775863
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-03 17:31:49.141396
+select id,text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-03 17:31:54.237366
+select type,text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-03 17:37:34.412809
+select type,text from conversations where call_id = (select id from calls order by id desc limit 12;

# 2024-06-03 17:37:37.407691
+select type,text from conversations where call_id = (select id from calls order by id desc limit 2);

# 2024-06-03 17:37:39.206738
+select type,text from conversations where call_id = (select id from calls order by id desc limit 21;

# 2024-06-03 17:37:41.834099
+select type,text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-04 18:14:54.916149
+select virtual_number, caller_number from meta_data_caches;

# 2024-06-04 18:15:01.699227
+select  * from meta_data_caches;

# 2024-06-04 18:15:16.036595
+select metadata->>'caller_details' from meta_data_caches;

# 2024-06-06 18:46:08.106654
+select metadata->>'language_code' from meta_data_caches;

# 2024-06-06 18:46:17.421654
+select metadata->'caller_details'->>'language_code' from meta_data_caches;

# 2024-06-06 18:46:22.224803
+select metadata->'caller_details'->>'language' from meta_data_caches;

# 2024-06-06 18:48:02.523499
+select count(1) from meta_data_caches where metadata::text like '%lang%';

# 2024-06-06 19:05:02.664636
+select metadata->>'language_code' from meta_data_caches where metadata::text like '%lang%';

# 2024-06-07 16:41:53.220096
+select type,text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-11 15:43:43.091683
+update flow_configs set application_parameters = '{"parameters": {"model": "gpt-4", "module": "NAME-VERIFICATION", "agency_name": "SCJ", "language_code": "es-LATAM"}}' where flow_id = 517;

# 2024-06-12 13:48:18.208883
+update flow_configs set application_parameters = '{"parameters": {"model": "gpt-4", "module": "NAME-VERIFICATION", "agency_name": "SCJ", "language_code": "en-US"}}' where flow_id = 517;

# 2024-06-12 18:18:58.078348
+select type,text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-12 18:19:06.147807
+select type,text,metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-12 18:19:13.093529
+select type,metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-12 18:19:27.033884
+select type,metadata::text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-12 18:19:41.372493
+select metadat from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-12 18:19:43.232875
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-06-12 18:19:52.049020
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1) limit 1;

# 2024-06-12 18:20:04.391163
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1)

# 2024-06-12 18:20:09.043697
+select type, text, metadata from conversations where call_id = (select id from calls order by id desc limit 1)

# 2024-06-12 18:20:15.983461
+select type, text from conversations where call_id = (select id from calls order by id desc limit 1)

# 2024-06-12 18:20:36.099684
+select metadata from live_contexts where call_id = (select id from calls order by id desc limit 1)

# 2024-06-12 18:25:54.634064
+select application_parameters from flow_configs where flow_id = 517;

# 2024-06-12 18:26:03.896974
+select * from meta_data_caches;

# 2024-06-13 14:16:53.870239
+select type, text from conversations where call_id = (select id from calls order by id desc limit 1)

# 2024-06-13 14:17:10.486101
+select metadata->>'context' from live_contexts where call_id = (select id from calls order by id desc limit 1)

# 2024-06-13 14:19:16.539008
+select type, text from conversations where call_id = (select id from calls order by id desc limit 1)

# 2024-06-13 14:20:51.454061
+select uuid, 
+type, text from conversations where call_id = (select id from calls order by id desc limit 1)

# 2024-06-13 14:20:54.433377
+select uuid, type, text from conversations where call_id = (select id from calls order by id desc limit 1)

# 2024-06-13 16:00:03.744202
+select * from meta_data_caches;

# 2024-06-14 16:11:01.387299
+select * from flows where name = 'llm_flow';

# 2024-06-14 16:11:08.088084
+select name, enable from flows where name = 'llm_flow';

# 2024-06-14 16:11:28.104686
+update flows set enable = true where name = 'llm_flow';

# 2024-06-21 14:10:38.985880
+select name, enable from flows where name = 'paragon_test';

# 2024-06-21 14:10:48.106733
+update flows set enable = true where name = 'paragon_test';

# 2024-06-21 14:11:51.911707
+select name, enable from flows where name = 'paragon_test';

# 2024-06-21 14:11:58.082932
+select name, id, is_template from flows where name = 'paragon_test';

# 2024-06-21 14:12:13.087310
+update flows set is_template = true where id = 519;

# 2024-06-21 14:12:41.628634
+insert into flows (uuid, name, template_id) values (gen_random_uuid(), 'pargon_app', '519');

# 2024-06-21 14:12:44.362321
+select name, id, is_template from flows where name = 'paragon_test';

# 2024-06-21 14:13:06.038353
+insert into flow_configs (flow_id, version, current_config) values (520, '0.0.1', true);

# 2024-06-21 14:13:20.704184
+select name, id, is_template from flows where id in (519, 520);

# 2024-06-21 14:13:36.204562
+select name, id, is_template, enable, template_id from flows where id in (519, 520);

# 2024-06-21 14:13:51.903290
+update flows set enable = true where id=520;

# 2024-06-21 14:14:16.243889
+select flow_id from flow_configs where flow_id = 520;

# 2024-06-21 14:14:21.571435
+select current_config from flow_configs where flow_id = 520;

# 2024-06-21 14:14:25.637159
+select current_config, latest_config from flow_configs where flow_id = 520;

# 2024-06-21 14:14:50.122835
+select uuid from flows where id = 520

# 2024-06-21 14:16:30.197266
+update flows set client_id = 1 where id = 520;

# 2024-06-21 16:29:07.012553
+:

# 2024-06-26 17:56:30.734539
+select * from flows where id = 404;

# 2024-06-26 18:03:48.235017
+select application_parameters from flow_configs where flow_id = 517;

# 2024-06-26 18:04:00.165381
+select application_parameters from flow_configs where flow_id = 520;

# 2024-06-26 18:04:03.081581
+select application_parameters from flow_configs where flow_id = 404;

# 2024-06-26 18:04:06.474520
+select application_parameters from flow_configs where flow_id = 517;

# 2024-06-26 18:09:29.953100
+select * from flows order by id desc limit 5;

# 2024-06-26 18:09:40.004952
+select client_id from flows order by id desc limit 5;

# 2024-06-26 18:29:56.854193
+select * from meta_data_caches;

# 2024-06-26 18:53:01.439005
+select * from migrations;

# 2024-06-26 18:53:41.358078
+select * from migrations where id like '%metadata'

# 2024-06-26 18:53:49.344629
+select * from migrations where id like '%metadata%

# 2024-06-26 18:53:52.470827
+select * from migrations where id like '%metadata%'

# 2024-06-26 18:54:06.062220
+select * from migrations where id like '0505%'

# 2024-06-27 18:46:02.947369
+select * from meta_data_caches;

# 2024-06-27 18:46:09.016435
+select metadata from meta_data_caches;

# 2024-06-27 18:46:17.655769
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-06-27 18:46:24.615839
+select metadata->>'first_name' from meta_data_caches order by id desc limit 1;

# 2024-06-27 18:46:34.528250
+select metadata->'caller_details'->>'first_name' from meta_data_caches order by id desc limit 1;

# 2024-06-27 18:47:04.102662
+select metadata->'user_metadata' from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:30:14.372733
+select json_object_keys(metadata) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:30:22.019761
+select json_object_keys(metadata::jsonb) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:30:33.136693
+select jsonb_object_keys(metadata::jsonb) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:30:45.681435
+select jsonb_object_keys(metadata->>'caller_details'::jsonb) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:30:49.750993
+select jsonb_object_keys(metadata->'caller_details'::jsonb) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:31:14.961830
+select json_object_keys(metadata->'caller_details'::json) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:31:23.634039
+select json_object_keys(metadata->>'caller_details'::json) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:31:31.704743
+select json_object_keys(metadata->>'caller_details'::text) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:31:40.028452
+select metadata->>'caller_details'::text from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:31:46.785051
+select metadata->>'caller_details'::text::jsonb from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:31:52.248866
+select metadata->'caller_details'::text::jsonb from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:31:56.587416
+select metadata->'caller_details'::jsonb from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:32:00.598571
+select metadata->>'caller_details'::jsonb from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:32:05.316796
+select metadata->>'caller_details' from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:32:38.654929
+select json_array_elements(metadata) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:32:42.567917
+select jsonb_array_elements(metadata) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:32:51.618927
+select jsonb_array_elements(metadata::jsonb) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:33:10.416152
+select jsonb_array_elements_text(metadata::jsonb) from meta_data_caches order by id desc limit 1;

# 2024-06-27 19:33:20.225141
+select jsonb_each(metadata::jsonb) from meta_data_caches order by id desc limit 1;

# 2024-07-03 16:20:40.088013
+select uuid, type, text from conversations where call_id = (select id from calls order by id desc limit 1)

# 2024-07-03 16:46:29.902576
+select uuid, type, text from conversations where call_id = (select id from calls order by id desc limit 2)

# 2024-07-03 16:46:34.985416
+select uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 2)

# 2024-07-03 16:46:38.368420
+select uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 3)

# 2024-07-03 16:46:41.473926
+select uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 2)

# 2024-07-03 16:47:32.393385
+select call_id,uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 2)

# 2024-07-03 16:47:35.754157
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 2)

# 2024-07-03 17:07:34.255513
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 5)

# 2024-07-04 14:57:45.467591
+select application_parameters from flow_configs where flow_id = 517;

# 2024-07-04 14:57:54.113982
+select application_metadata from flow_configs where flow_id = 517;

# 2024-07-04 14:58:01.968086
+select jsonb_each(metadata::jsonb) from meta_data_caches order by id desc limit 1;

# 2024-07-04 14:58:10.927946
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-07-04 14:58:22.832285
+select metadata->'caller_details'::jsonb from meta_data_caches order by id desc limit 1;

# 2024-07-04 14:58:28.513233
+select metadata->>'caller_details'::jsonb from meta_data_caches order by id desc limit 1;

# 2024-07-04 14:58:34.549762
+select metadata->>'caller_details' from meta_data_caches order by id desc limit 1;

# 2024-07-04 14:58:55.636538
+select json_each(metadata->>'caller_details'::json) from meta_data_caches order by id desc limit 1;

# 2024-07-04 14:59:02.045016
+select json_each(metadata->'caller_details'::json) from meta_data_caches order by id desc limit 1;

# 2024-07-04 17:47:12.665793
+update meta_data_caches set metadata='{"caller_details": {"DOB": "03-12-1990", "ZIP": "", "Zip": "", "City": "Toronto", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": " 123 King Street East", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Wilson", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Wilson ", "pay_later": "transfer", "Cell Phone": "+15197304810", "Child City": "", "Child SSN#": "", "Due Amount": "2400", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "2400", "first_name": "John", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "['DOB']", "cease_desist": "transfer", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC Group", "agree_payment": "bot", "auth_required": "True", "caller_number": "+15197304810", "no_auth_steps": "1", "second_option": "4 months", "Address Line 1": "", "minimum amount": "0.01", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "60", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "0.01", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "0.01", "last_4_digits_of_SSN": "", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+15197304810", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-04 17:47:28.573755
+update meta_data_caches set metadata='{"caller_details": {"DOB": "03-12-1990", "ZIP": "", "Zip": "", "City": "Toronto", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": " 123 King Street East", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Wilson", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Wilson ", "pay_later": "transfer", "Cell Phone": "+15197304810", "Child City": "", "Child SSN#": "", "Due Amount": "2400", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "2400", "first_name": "John", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "['DOB']", "cease_desist": "transfer", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC Group", "agree_payment": "bot", "auth_required": "True", "caller_number": "+15197304810", "no_auth_steps": "1", "second_option": "4 months", "Address Line 1": "", "minimum amount": "0.01", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "60", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "0.01", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "0.01", "last_4_digits_of_SSN": "", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+15197304810", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}'::text;

# 2024-07-04 17:47:33.949695
+update meta_data_caches set metadata='{"caller_details": {"DOB": "03-12-1990", "ZIP": "", "Zip": "", "City": "Toronto", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": " 123 King Street East", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Wilson", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Wilson ", "pay_later": "transfer", "Cell Phone": "+15197304810", "Child City": "", "Child SSN#": "", "Due Amount": "2400", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "2400", "first_name": "John", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "['DOB']", "cease_desist": "transfer", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC Group", "agree_payment": "bot", "auth_required": "True", "caller_number": "+15197304810", "no_auth_steps": "1", "second_option": "4 months", "Address Line 1": "", "minimum amount": "0.01", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "60", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "0.01", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "0.01", "last_4_digits_of_SSN": "", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+15197304810", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}'::jsonb;

# 2024-07-04 17:48:25.636152
+update meta_data_caches set metadata='{"caller_details": {"DOB": "03-12-1990", "ZIP": "", "Zip": "", "City": "Toronto", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": " 123 King Street East", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Wilson", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Wilson ", "pay_later": "transfer", "Cell Phone": "+15197304810", "Child City": "", "Child SSN#": "", "Due Amount": "2400", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "2400", "first_name": "John", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[\'DOB\']", "cease_desist": "transfer", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC Group", "agree_payment": "bot", "auth_required": "True", "caller_number": "+15197304810", "no_auth_steps": "1", "second_option": "4 months", "Address Line 1": "", "minimum amount": "0.01", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "60", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "0.01", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "0.01", "last_4_digits_of_SSN": "", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+15197304810", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}'::jsonb;

# 2024-07-04 17:50:11.104561
+update meta_data_caches set metadata='{"caller_details": {"DOB": "03-12-1990", "ZIP": "", "Zip": "", "City": "Toronto", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": " 123 King Street East", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Wilson", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Wilson ", "pay_later": "transfer", "Cell Phone": "+15197304810", "Child City": "", "Child SSN#": "", "Due Amount": "2400", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "2400", "first_name": "John", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC Group", "agree_payment": "bot", "auth_required": "True", "caller_number": "+15197304810", "no_auth_steps": "1", "second_option": "4 months", "Address Line 1": "", "minimum amount": "0.01", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "60", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "0.01", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "0.01", "last_4_digits_of_SSN": "", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+15197304810", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-04 17:50:32.651309
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 5)

# 2024-07-04 17:50:35.712121
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-04 17:52:29.099431
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "first_option": "95.5475", "mini_miranda": "False", "third_option": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "transfer", "auth_required": "True", "caller_number": "+19179858369", "no_auth_steps": "1", "second_option": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-05 15:32:09.075949
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "first_option": "95.5475", "mini_miranda": "False", "third_option": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "transfer", "auth_required": "True", "caller_number": "+19179858369", "no_auth_steps": "1", "second_option": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';
+

# 2024-07-05 15:36:49.783144
+select fl

# 2024-07-05 15:36:56.507362
+select name, id, is_template, enable, template_id from flows where id in (519, 520);

# 2024-07-05 15:37:15.354889
+select * from virtual_numbers;

# 2024-07-05 15:37:27.373465
+select * from flows where id = 517;

# 2024-07-05 15:43:43.522133
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-05 16:15:21.411449
+select application_parameters->>'agency' from flow_configs where flow_id = 517;

# 2024-07-05 16:15:25.872812
+select application_parameters->>'agency_name' from flow_configs where flow_id = 517;

# 2024-07-05 16:15:30.013823
+select application_parameters from flow_configs where flow_id = 517;

# 2024-07-05 16:15:49.737765
+select json_each(application_parameters) from flow_configs where flow_id = 517;

# 2024-07-05 16:15:56.384772
+select json(application_parameters) from flow_configs where flow_id = 517;

# 2024-07-05 16:17:07.780484
+select application_parameters from flow_configs where flow_id = 517;

# 2024-07-05 16:17:31.178592
+select application_parameters->>'parameters' from flow_configs where flow_id = 517;

# 2024-07-05 16:17:40.958107
+select application_parameters->'parameters'->>'agency_name' from flow_configs where flow_id = 517;

# 2024-07-05 16:21:28.643326
+select application_parameters->>'parameters' from flow_configs where flow_id = 517;

# 2024-07-05 20:17:18.961575
+select * from virtual_numbers;

# 2024-07-05 20:17:26.966825
+select * from virtual_numbers where use_beta = true;

# 2024-07-05 20:17:34.982894
+select virtual_number, use_beta from virtual_numbers where use_beta = true;

# 2024-07-05 20:17:40.205808
+select virtual_number, use_beta from virtual_numbers;

# 2024-07-05 20:17:43.873982
+select flow_id, virtual_number, use_beta from virtual_numbers;

# 2024-07-05 20:20:09.804456
+select uuid from flows where id = 520;

# 2024-07-05 20:20:14.834113
+select uuid, name from flows where id = 520;

# 2024-07-05 20:20:53.739123
+select flow_id, virtual_number, use_beta from virtual_numbers;

# 2024-07-11 16:34:44.477253
+select * from meta_data_caches;

# 2024-07-11 16:34:52.268168
+select metadata from meta_data_caches;

# 2024-07-11 16:35:05.880957
+select metadata->'caller_details'->>'caller_number' from meta_data_caches;

# 2024-07-11 16:35:23.941242
+select metadata->'caller_details'->>'rmn' from meta_data_caches;

# 2024-07-11 16:35:31.988233
+select metadata->>'caller_details' from meta_data_caches;

# 2024-07-11 16:35:49.122388
+select json_each(metadata->'caller_details') from meta_data_caches;

# 2024-07-11 16:35:52.737289
+select jsonb_each(metadata->'caller_details') from meta_data_caches;

# 2024-07-11 16:58:50.369520
+select caller_number, jsonb_each(metadata->'caller_details') from meta_data_caches;

# 2024-07-11 16:59:45.023620
+select virtual_number, caller_number, jsonb_each(metadata->'caller_details') from meta_data_caches;

# 2024-07-11 17:00:37.222778
+select virtual_number, caller_number, jsonb_each(metadata->'caller_details') from meta_data_caches limit 1;

# 2024-07-11 17:00:55.510742
+select virtual_number, caller_number, jsonb_each(metadata->'caller_details'->>'caller_number') from meta_data_caches limit 1;

# 2024-07-11 17:01:01.592976
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number' from meta_data_caches limit 1;

# 2024-07-11 17:01:32.924099
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "first_option": "95.5475", "mini_miranda": "False", "third_option": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "transfer", "auth_required": "True", "caller_number": "+16001", "no_auth_steps": "1", "second_option": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-11 17:01:36.681519
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number' from meta_data_caches limit 1;

# 2024-07-11 17:02:20.583536
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "first_option": "95.5475", "mini_miranda": "False", "third_option": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "transfer", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "second_option": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-11 17:02:37.638007
+update meta_data_caches set caller_number="+18885313475";

# 2024-07-11 17:02:44.502165
+update meta_data_caches set caller_number='+18885313475';

# 2024-07-11 17:02:47.464190
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number' from meta_data_caches limit 1;

# 2024-07-11 17:03:13.586017
+select virtual_number, caller_number, metadata->'caller_details'->>'zip_code' from meta_data_caches limit 1;

# 2024-07-11 17:03:21.994508
+select virtual_number, caller_number, metadata->'caller_details'->>'DOB' from meta_data_caches limit 1;

# 2024-07-11 17:03:35.704719
+select virtual_number, caller_number, jsonb_each(metadata->'caller_details') from meta_data_caches limit 1;

# 2024-07-11 17:10:39.407709
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "first_option": "95.5475", "mini_miranda": "False", "third_option": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "transfer", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "second_option": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "Negotiation One": "3 months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873433 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-11 17:14:22.512784
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "first_option": "95.5475", "mini_miranda": "False", "third_option": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "transfer", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "second_option": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-11 17:18:15.861227
+select virtual_number, caller_number, jsonb_each(metadata->'caller_details') from meta_data_caches limit 1;

# 2024-07-11 17:18:26.332487
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number' from meta_data_caches limit 1;

# 2024-07-11 17:18:33.490039
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number' from meta_data_caches;

# 2024-07-11 17:18:42.969675
+select virtual_number, caller_number, jsonb_each(metadata->'caller_details') from meta_data_caches limit 1;

# 2024-07-11 17:18:47.552598
+select virtual_number, caller_number, jsonb_each(metadata->'caller_details') from meta_data_caches;

# 2024-07-11 17:19:38.788462
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number' from meta_data_caches limit 1;

# 2024-07-11 17:20:03.778604
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "first_option": "95.5475", "mini_miranda": "False", "third_option": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "transfer", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "second_option": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}'

# 2024-07-11 17:20:07.985023
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number' from meta_data_caches limit 1;

# 2024-07-11 17:20:12.502106
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number', meta from meta_data_caches limit 1;

# 2024-07-11 17:20:24.061883
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number', metadata from meta_data_caches limit 1;

# 2024-07-11 17:20:31.892743
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number', json_key(metadata) from meta_data_caches limit 1;

# 2024-07-11 17:20:36.378252
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number', jsonb_key(metadata) from meta_data_caches limit 1;

# 2024-07-11 17:20:40.274273
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number', jsonb_keys(metadata) from meta_data_caches limit 1;

# 2024-07-11 17:20:44.965792
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number', json_keys(metadata) from meta_data_caches limit 1;

# 2024-07-11 17:20:49.809865
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number', json_keys(metadata::jsonb) from meta_data_caches limit 1;

# 2024-07-11 17:40:43.241785
+update flow_configs set application_parameters = '{"parameters": {"model": "gpt-4o", "module": "NAME-VERIFICATION", "prompt": "USER_METADATA: {'DOB': '{{.caller_details.DOB}}', 'Zip': '{{.caller_details.Zip}}', 'auth_method': {{authMethod}}, 'due_amount': {{.caller_details.due_amount}}, 'first_name': '{{.caller_details.first_name}}', 'first_option': {{.caller_details.first_option}}, 'last_4_digits_of_SSN': '{{.caller_details.last_4_digits_of_SSN}}', 'last_4_digits_phone_number': '{{.caller_details.last_4_digits_phone_number}}', 'last_name': '{{.caller_details.last_name}}', 'minimum_acceptable': {{.caller_details.minimum_acceptable}}, 'payment_method': [], 'second_option': {{.caller_details.second_option}}, 'third_option': {{.caller_details.third_option}}, 'user_address': '{{userAddress}}', 'vehicle_details': '2019 Nissan Leaf'}\\nCLIENT_CONFIG: {'auth_required': '{{.caller_details.auth_required}}', 'auth_type': '{{.caller_details.auth_type}}', 'company_name': '{{.application_parameters.agency_name}}', 'mini_miranda': '{{.caller_details.mini_miranda}}', 'no_auth_steps': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {'already_paid': '{{.caller_details.already_paid}}', 'attorney': '{{.caller_details.attorney}}', 'cease_desist': '{{.caller_details.cease_desist}}', 'deceased': '{{.caller_details.deceased}}', 'dispute': '{{.caller_details.dispute}}', 'pay_later': '{{.caller_details.pay_later}}', 'refuse_auth': '{{.caller_details.refuse_auth}}', 'refuse_payment': '{{.caller_details.refuse_payment}}', 'right_party': '{{.caller_details.right_party}}', 'wrong_party': '{{.caller_details.wrong_party}}'}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n", "is_local": "False", "demo_call": "True", "end_point": " us_3p_demo", "providers": "tcn", "tts_model": "eleven_turbo_v2", "tts_voice": "Sarah", "agency_name": "NFC", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "language_code": "en-US", "connector_uuid": "d22e9c47-c63d-4cfe-ac20-7e787b2aa4a4", "inbound_module": "OUTBOUND-CALLBACK", "transfer_default": "+18885121690", "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}", "primary_tts_persona": "{}", "digital_agent_number": "[\\\"+18883911087\\\"]", "payment_provider_name": "usaepay", "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.", "tcn_schedule_template_id": "13", "digital_agent_number_in_use": "{\\\"id\\\": 300, \\\"virtual_number\\\": \\\"+18883911087\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"tcn\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}", "preverification_agency_name": "NFC"}}' where flow_id = 517;

# 2024-07-11 17:41:42.325441
+update flow_configs set application_parameters = '{"parameters": {"model": "gpt-4o", "module": "NAME-VERIFICATION", "prompt": "USER_METADATA: {''DOB'': '{{.caller_details.DOB}}', ''Zip'': '{{.caller_details.Zip}}', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': '{{.caller_details.first_name}}', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': '{{.caller_details.last_4_digits_of_SSN}}', ''last_4_digits_phone_number'': '{{.caller_details.last_4_digits_phone_number}}', ''last_name'': '{{.caller_details.last_name}}', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': '{{userAddress}}', ''vehicle_details'': '2019 Nissan Leaf'}\\nCLIENT_CONFIG: {''auth_required'': '{{.caller_details.auth_required}}', ''auth_type'': '{{.caller_details.auth_type}}', ''company_name'': '{{.application_parameters.agency_name}}', ''mini_miranda'': '{{.caller_details.mini_miranda}}', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': '{{.caller_details.already_paid}}', ''attorney'': '{{.caller_details.attorney}}', ''cease_desist'': '{{.caller_details.cease_desist}}', ''deceased'': '{{.caller_details.deceased}}', ''dispute'': '{{.caller_details.dispute}}', ''pay_later'': '{{.caller_details.pay_later}}', ''refuse_auth'': '{{.caller_details.refuse_auth}}', ''refuse_payment'': '{{.caller_details.refuse_payment}}', ''right_party'': '{{.caller_details.right_party}}', ''wrong_party'': '{{.caller_details.wrong_party}}'}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n", "is_local": "False", "demo_call": "True", "end_point": " us_3p_demo", "providers": "tcn", "tts_model": "eleven_turbo_v2", "tts_voice": "Sarah", "agency_name": "NFC", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "language_code": "en-US", "connector_uuid": "d22e9c47-c63d-4cfe-ac20-7e787b2aa4a4", "inbound_module": "OUTBOUND-CALLBACK", "transfer_default": "+18885121690", "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}", "primary_tts_persona": "{}", "digital_agent_number": "[\\\"+18883911087\\\"]", "payment_provider_name": "usaepay", "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.", "tcn_schedule_template_id": "13", "digital_agent_number_in_use": "{\\\"id\\\": 300, \\\"virtual_number\\\": \\\"+18883911087\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"tcn\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}", "preverification_agency_name": "NFC"}}'  where flow_id = 517;

# 2024-07-11 17:42:18.119292
+update flow_configs set application_parameters = '{"parameters": {"model": "gpt-4o", "module": "NAME-VERIFICATION", "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n", "is_local": "False", "demo_call": "True", "end_point": " us_3p_demo", "providers": "tcn", "tts_model": "eleven_turbo_v2", "tts_voice": "Sarah", "agency_name": "NFC", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "language_code": "en-US", "connector_uuid": "d22e9c47-c63d-4cfe-ac20-7e787b2aa4a4", "inbound_module": "OUTBOUND-CALLBACK", "transfer_default": "+18885121690", "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}", "primary_tts_persona": "{}", "digital_agent_number": "[\\\"+18883911087\\\"]", "payment_provider_name": "usaepay", "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.", "tcn_schedule_template_id": "13", "digital_agent_number_in_use": "{\\\"id\\\": 300, \\\"virtual_number\\\": \\\"+18883911087\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"tcn\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}", "preverification_agency_name": "NFC"}}'  where flow_id = 517;

# 2024-07-11 17:42:29.333081
+select application_parameters->>'parameters' from flow_configs where flow_id = 517;

# 2024-07-11 18:10:00.607495
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number', json_keys(metadata::jsonb) from meta_data_caches limit 1;

# 2024-07-11 18:10:05.909280
+select virtual_number, caller_number, metadata->'caller_details'->>'caller_number' from meta_data_caches limit 1;

# 2024-07-11 18:10:38.031902
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "transfer", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-11 18:14:34.933659
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';
+

# 2024-07-11 19:28:43.605928
+select virtual_number, caller_number, metadata->'caller_details'->>'Customer Number' from meta_data_caches limit 1;

# 2024-07-12 15:37:05.957295
+select uuid, name from flows where id = 520;

# 2024-07-12 15:37:40.255440
+select uuid, name, client_id from flows where template_id != 0;

# 2024-07-12 15:37:44.522750
+select uuid, name, client_id from flows where template_id = 0;

# 2024-07-12 15:38:31.686685
+select version, current_config from flow_configs where flow_id = 404;

# 2024-07-12 15:39:00.819454
+update flow_configs set version = '0.0.1' where flow_id = 404 and version = '0.0.x';

# 2024-07-12 15:39:03.438567
+select version, current_config from flow_configs where flow_id = 404;

# 2024-07-12 15:39:31.638363
+update flow_configs set current_config where flow_id and version = 0.0.1;

# 2024-07-12 15:39:37.795822
+update flow_configs set current_config =true where flow_id and version = 0.0.1;

# 2024-07-12 15:39:44.060726
+update flow_configs set current_config =true where flow_id and version = '0.0.1';

# 2024-07-12 15:39:56.126135
+update flow_configs set current_config = true where flow_id = 404 and version = '0.0.1';

# 2024-07-12 15:39:59.594564
+select version, current_config from flow_configs where flow_id = 404;

# 2024-07-12 15:40:58.672418
+select version, current_config, latest_config from flow_configs where flow_id = 404;

# 2024-07-12 15:41:06.615721
+update flow_configs set current_config = true where flow_id = 404 and version = '0.0.6';

# 2024-07-12 15:41:24.782949
+update flow_configs set current_config = true where flow_id = 404 and version != '0.0.6';

# 2024-07-12 15:41:34.217135
+update flow_configs set current_config = false where flow_id = 404 and version = '0.0.6';

# 2024-07-12 15:41:43.001133
+update flow_configs set current_config = true where flow_id = 404 and version = '0.0.6';

# 2024-07-12 15:41:50.122517
+select version, current_config, latest_config from flow_configs where flow_id = 404;

# 2024-07-12 15:41:57.462264
+update flow_configs set current_config = false where flow_id = 404 and version = '0.0.1';

# 2024-07-12 15:42:01.757958
+update flow_configs set current_config = true where flow_id = 404 and version = '0.0.6';

# 2024-07-12 15:42:04.858062
+select version, current_config, latest_config from flow_configs where flow_id = 404;

# 2024-07-12 15:48:03.540991
+select version, current_config, latest_config from flow_configs where flow_id = 1;

# 2024-07-12 15:48:14.597756
+select name, id, is_template, enable, template_id from flows where id in (519, 520);

# 2024-07-12 15:48:18.251838
+select name, id, is_template, enable, template_id from flows where id in (1);

# 2024-07-12 15:48:20.496911
+select name, id, is_template, enable, template_id from flows where id in (2);

# 2024-07-12 15:48:24.261497
+select name, id, is_template, enable, template_id from flows where id in (2, 3);

# 2024-07-12 15:48:26.771384
+select name, id, is_template, enable, template_id from flows where id in (2, 4);

# 2024-07-12 15:48:29.400668
+select name, id, is_template, enable, template_id from flows where id in (2, 3);

# 2024-07-12 15:48:38.259651
+select name, id, is_template, enable, template_id from flows where id in (2);

# 2024-07-12 15:48:46.101906
+select name, id, is_template, enable, template_id, uuid, deleted_at from flows where id in (2);

# 2024-07-12 15:48:55.810506
+select client_id, name, id, is_template, enable, template_id, uuid, deleted_at from flows where id in (2);

# 2024-07-12 15:49:43.462776
+select uuid from clients where id = 4;

# 2024-07-12 16:00:41.684148
+select name from flows where enable = true and deleted_at is not null;

# 2024-07-12 16:00:47.230646
+select name, uuid from flows where enable = true and deleted_at is not null;

# 2024-07-12 16:01:26.952597
+select name, uuid from flows where enable = true and deleted_at is not null and name like '%subhra%';

# 2024-07-12 16:01:37.488023
+select name, uuid from flows where enable = true  and name like '%subhra%';

# 2024-07-12 16:01:44.673173
+select name, uuid, deleted_at from flows where enable = true  and name like '%subhra%';

# 2024-07-12 16:01:55.009926
+select name, uuid, enable, deleted_at from flows where enable = true  and name like '%subhra%';

# 2024-07-12 16:02:07.855981
+select name, uuid, enable, deleted_at from flows where enable = true and deleted_at is null and name like '%subhra%';

# 2024-07-12 16:02:16.865770
+select name, uuid, enable, deleted_at from flows where enable = true and deleted_at is null;

# 2024-07-12 16:02:37.427268
+select name, uuid, enable, deleted_at from flows inner join flow_configs on flows.id = flow_configs.flow_id where enable = true and deleted_at is null;

# 2024-07-12 16:02:46.080673
+select name, uuid, enable, flows.deleted_at from flows inner join flow_configs on flows.id = flow_configs.flow_id where enable = true and deleted_at is null;

# 2024-07-12 16:02:49.952848
+select name, uuid, enable, flows.deleted_at from flows inner join flow_configs on flows.id = flow_configs.flow_id where enable = true and flows.deleted_at is null;

# 2024-07-12 16:03:05.153310
+select current_config, version, name, uuid, enable, flows.deleted_at from flows inner join flow_configs on flows.id = flow_configs.flow_id where enable = true and flows.deleted_at is null;

# 2024-07-12 16:03:38.747793
+select current_config, version, name, uuid, enable, flows.deleted_at from flows inner join flow_configs on flows.id = flow_configs.flow_id where enable = true and flows.deleted_at is null and current_config = true;

# 2024-07-12 16:04:03.652836
+update flows set template_id = 0 where id = 404;

# 2024-07-12 16:04:15.376147
+select name, uuid, enable, deleted_at, template_id from flows where enable = true  and name like '%subhra%';

# 2024-07-12 16:04:24.387228
+select name, uuid, enable, deleted_at, template_id, is_template from flows where enable = true  and name like '%subhra%';

# 2024-07-12 16:04:35.413590
+update flows set is_template = false where id = 404;

# 2024-07-12 17:07:30.746413
+select version, current_config, latest_config from flow_configs where flow_id = 2;

# 2024-07-12 17:07:52.109103
+update flow_configs set current_config = true where flow_id = 2 and version = '0.0.1';

# 2024-07-12 17:30:17.763755
+select version, current_config, latest_config from flow_configs where flow_id = 2;

# 2024-07-12 17:30:19.415798
+select version, current_config, latest_config from flow_configs where flow_id = 404;

# 2024-07-12 17:30:29.380993
+select deleted_at, version, current_config, latest_config from flow_configs where flow_id = 404;

# 2024-07-12 17:30:54.135212
+update flow_configs set deleted_at = null where flow_id = 404;

# 2024-07-12 17:31:35.805040
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-12 17:32:00.194626
+select metadata->>'state_transit_trace' from live_contexts order by id desc limit 1;

# 2024-07-12 17:43:41.550165
+select metadata->>'state_transit_trace' from live_contexts order by id desc limit 4;

# 2024-07-12 17:43:48.186164
+select metadata->>'state_transit_trace' from live_contexts order by id desc limit 2;

# 2024-07-12 18:02:32.345275
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-12 18:51:05.506705
+select virtual_number, caller_number, metadata->'caller_details'->>'Customer Number' from meta_data_caches limit 1;

# 2024-07-12 18:51:18.946512
+select virtual_number, caller_number, metadata->'caller_details'->>'client_account_number' from meta_data_caches limit 1;

# 2024-07-12 20:10:09.008499
+update meta_data_caches set metadata='{"caller_details": {"client_account_number": "110-135525", "customer_number": "110-135525", "reference_code": "110-135525", "DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-15 22:00:45.414931
+\c validation_service

# 2024-07-15 22:00:54.370247
+create database validation_service;

# 2024-07-15 22:00:56.546724
+\c validation_service

# 2024-07-16 14:59:10.303389
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:07:19.123671
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-07-16 15:07:28.112839
+select metadata->>'context' from live_contexts order by id desc limit 4;

# 2024-07-16 15:07:34.828428
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-07-16 15:08:00.781700
+select metadata->>'context' from live_contexts order by id desc limit 3;

# 2024-07-16 15:08:05.645740
+select metadata->>'context' from live_contexts order by id desc limit 2;

# 2024-07-16 15:08:07.642608
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-07-16 15:08:47.765807
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:09:17.083383
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-07-16 15:09:19.804919
+select metadata->>'context' from live_contexts order by id desc limit 2;

# 2024-07-16 15:09:21.861383
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-07-16 15:13:34.147505
+select metadata->>'context' from live_contexts order by id desc limit 2;

# 2024-07-16 15:13:35.481343
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-07-16 15:13:38.286032
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:13:41.188416
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-07-16 15:16:02.001970
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:16:46.757920
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:16:48.500552
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:18:10.177056
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:18:12.160716
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:18:33.102034
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:18:35.459191
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:20:45.159861
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:20:46.482304
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:23:03.597974
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:23:05.518588
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:23:34.170540
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:23:36.284974
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:26:52.483404
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:27:06.425439
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:30:59.108736
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:31:02.077257
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:31:24.105488
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:31:54.773713
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:32:57.876463
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:32:59.731681
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:35:42.699627
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:43:01.482018
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 15:43:06.028658
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 15:43:32.894910
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-16 21:54:05.705759
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-16 21:54:08.046911
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-18 16:38:08.116041
+select application_parameters->>'parameters' from flow_configs where flow_id = 517;

# 2024-07-18 16:38:21.526579
+select json_each(application_parameters->>'parameters') from flow_configs where flow_id = 517;

# 2024-07-18 16:38:29.372875
+select json_eachb(application_parameters->'parameters') from flow_configs where flow_id = 517;

# 2024-07-18 16:38:31.353710
+select json_each(application_parameters->'parameters') from flow_configs where flow_id = 517;

# 2024-07-18 16:38:41.566247
+select json_each(application_parameters->'parameters'::json) from flow_configs where flow_id = 517;

# 2024-07-18 16:38:46.267869
+select json_each(application_parameters) from flow_configs where flow_id = 517;

# 2024-07-18 16:38:51.305107
+select jsonb_each(application_parameters) from flow_configs where flow_id = 517;

# 2024-07-18 16:39:11.969174
+select jsonb_keys(application_parameters) from flow_configs where flow_id = 517;

# 2024-07-18 16:39:14.446274
+select jsonb_key(application_parameters) from flow_configs where flow_id = 517;

# 2024-07-18 16:39:17.439357
+select jsonb_each(application_parameters) from flow_configs where flow_id = 517;

# 2024-07-18 16:39:23.522080
+select application_parameters->>'parameters' from flow_configs where flow_id = 517;

# 2024-07-18 16:39:48.177097
+select application_parameters->>'parameters'::text from flow_configs where flow_id = 517;

# 2024-07-18 16:40:01.990101
+select application_parameters->'parameters'::text from flow_configs where flow_id = 517;

# 2024-07-18 16:47:56.517536
+update meta_data_caches set metadata='{"caller_details": {"client_account_number": "110-135525", "customer_number": "110-135525", "reference_code": "110-135525", "DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "invalid", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-18 16:49:49.684368
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-07-22 18:41:42.810308
+update meta_data_caches set metadata='{"caller_details": {"client_account_number": "110-135525", "customer_number": "110-135525", "reference_code": "110-135525", "DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-07-22 18:48:13.143885
+update flow_configs set application_parameters = '{"parameters": {"model": "gpt-4o", "module": "NAME-VERIFICATION", "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n", "is_local": "False", "demo_call": "True", "end_point": " us_3p_demo", "providers": "tcn", "tts_model": "eleven_turbo_v2", "tts_voice": "Drew", "agency_name": "NFC", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "language_code": "en-US", "connector_uuid": "d22e9c47-c63d-4cfe-ac20-7e787b2aa4a4", "inbound_module": "OUTBOUND-CALLBACK", "transfer_default": "+18885121690", "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}", "primary_tts_persona": "{}", "digital_agent_number": "[\\\"+18883911087\\\"]", "payment_provider_name": "usaepay", "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.", "tcn_schedule_template_id": "13", "digital_agent_number_in_use": "{\\\"id\\\": 300, \\\"virtual_number\\\": \\\"+18883911087\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"tcn\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}", "preverification_agency_name": "NFC"}}'  where flow_id = 517;

# 2024-07-24 17:25:41.434573
+update flow_configs set application_parameters = '{"parameters": {"model": "gpt-4o", "module": "NAME-VERIFICATION", "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n", "is_local": "False", "demo_call": "True", "end_point": " us_3p_demo", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "agency_name": "NFC", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "language_code": "en-US", "connector_uuid": "d22e9c47-c63d-4cfe-ac20-7e787b2aa4a4", "inbound_module": "OUTBOUND-CALLBACK", "transfer_default": "+18885121690", "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}", "primary_tts_persona": "{}", "digital_agent_number": "[\\\"+18883911087\\\"]", "payment_provider_name": "usaepay", "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.", "tcn_schedule_template_id": "13", "digital_agent_number_in_use": "{\\\"id\\\": 300, \\\"virtual_number\\\": \\\"+18883911087\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"tcn\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}", "preverification_agency_name": "NFC"}}'  where flow_id = 517;

# 2024-07-24 17:33:55.032809
+update flow_configs set application_parameters = '{"parameters": {"model": "gpt-4o", "module": "NAME-VERIFICATION", "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n", "is_local": "False", "demo_call": "True", "end_point": " us_3p_demo", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "agency_name": "NFC", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "language_code": "en-US", "connector_uuid": "d22e9c47-c63d-4cfe-ac20-7e787b2aa4a4", "inbound_module": "OUTBOUND-CALLBACK", "transfer_default": "+18885121690", "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}", "primary_tts_persona": "{}", "digital_agent_number": "[\\\"+18883911087\\\"]", "payment_provider_name": "usaepay", "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.", "tcn_schedule_template_id": "13", "digital_agent_number_in_use": "{\\\"id\\\": 300, \\\"virtual_number\\\": \\\"+18883911087\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"tcn\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}", "preverification_agency_name": "NFC", "llm_domain": "first-party", "flow_type": "ob"}}'  where flow_id = 517;
+

# 2024-07-24 18:36:40.734290
+select call_id, uuid, type, text from conversations where call_id in (select id from calls order by id desc limit 1)

# 2024-07-25 19:01:14.994674
+update flow_configs set application_parameters = '{"parameters": {"model": "gpt-4o", "module": "NAME-VERIFICATION", "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n", "is_local": "False", "demo_call": "True", "end_point": " us_3p_demo", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "agency_name": "NFC", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "language_code": "en-US", "connector_uuid": "d22e9c47-c63d-4cfe-ac20-7e787b2aa4a4", "inbound_module": "OUTBOUND-CALLBACK", "transfer_default": "+18885121690", "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}", "primary_tts_persona": "{}", "digital_agent_number": "[\\\"+18883911087\\\"]", "payment_provider_name": "usaepay", "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.", "tcn_schedule_template_id": "13", "digital_agent_number_in_use": "{\\\"id\\\": 300, \\\"virtual_number\\\": \\\"+18883911087\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"tcn\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}", "preverification_agency_name": "NFC", "llm_domain": "first-party", "flow_type": "ob"}}'  where flow_id = 517;

# 2024-07-25 19:01:25.806450
+update meta_data_caches set metadata='{"caller_details": {"client_account_number": "110-135525", "customer_number": "110-135525", "reference_code": "110-135525", "DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-08-01 16:47:00.202444
+select text

# 2024-08-01 16:47:12.115466
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-08-01 16:47:28.157931
+select uuid from calls order by id desc limit 1;

# 2024-08-01 17:45:10.717936
+\d iproxy

# 2024-08-01 17:45:18.780588
+\c iproxy

# 2024-08-01 17:47:09.900183
+create database iproxy;

# 2024-08-01 17:48:02.847763
+\d

# 2024-08-01 17:48:16.162091
+drop table django*;

# 2024-08-01 17:48:21.901906
+drop table django_migrations;

# 2024-08-02 12:18:40.451341
+select application_parameters->'parameters'::text from flow_configs where flow_id = 517;

# 2024-08-02 12:19:36.355624
+select json_each(application_parameters->'parameters') from flow_configs where flow_id = 517;

# 2024-08-02 12:19:43.659567
+select jsonb_each(application_parameters->'parameters') from flow_configs where flow_id = 517;

# 2024-08-02 12:20:06.493855
+select jsonb_each(application_parameters->'prompts') from flow_configs where flow_id = 517;

# 2024-08-02 12:20:12.547143
+select jsonb_each(application_parameters) from flow_configs where flow_id = 517;

# 2024-08-02 12:20:26.475800
+select jsonb_each(application_parameters->'parameters') from flow_configs where flow_id = 517;

# 2024-08-02 12:21:45.426707
+select template_id from flows where id = 517;

# 2024-08-02 12:21:58.167224
+select application_parameters->'parameters'::text from flow_configs where flow_id = 100;

# 2024-08-02 12:22:06.327766
+select jsonb_each(application_parameters) from flow_configs where flow_id = 100;

# 2024-08-02 12:22:18.695988
+select jsonb_each(application_parameters->'prompts') from flow_configs where flow_id = 100;

# 2024-08-02 12:23:02.328420
+select application_parameters from flow_configs where flow_id = 100;

# 2024-08-02 12:23:11.109027
+select application_parameters from flow_configs where flow_id = 100 order by id desc limit 1;

# 2024-08-02 12:23:15.484983
+select application_parameters from flow_configs where flow_id = 100 order by id desc limit 2;

# 2024-08-02 12:23:30.154282
+select application_parameters from flow_configs where flow_id = 100 and application_parameters <> '';

# 2024-08-02 12:23:38.276775
+select application_parameters from flow_configs where flow_id = 100 and application_parameters is not null order by id;

# 2024-08-02 12:23:43.924446
+select application_parameters from flow_configs where flow_id = 100 and application_parameters is not null order by id desc limit 1;

# 2024-08-02 12:23:52.585059
+select application_parameters from flow_configs where flow_id = 100 and application_parameters <> '{}' order by id desc limit 1;

# 2024-08-02 12:25:50.968889
+\copy select application_parameters from flow_configs where flow_id = 100 and application_parameters <> '{}' order by id desc limit 1;

# 2024-08-02 12:26:09.069391
+select application_parameters from flow_configs where flow_id = 100 and application_parameters <> '{}' order by id desc limit 1 \e

# 2024-08-02 12:26:14.353689
+select application_parameters from flow_configs where flow_id = 100 and application_parameters <> '{}' order by id desc limit 1

# 2024-08-02 12:26:18.903983
+select application_parameters from flow_configs where flow_id = 100 and application_parameters <> '{}' order by id desc limit 1 \c

# 2024-08-02 12:28:22.013959
+select application_parameters from flow_configs where flow_id = 100 and application_parameters <> '{}' order by id desc limit 1 \o params.json

# 2024-08-02 12:28:35.317975
+select application_parameters from flow_configs where flow_id = 100 and application_parameters <> '{}' order by id desc limit 1; \o 'params.json'

# 2024-08-02 12:29:41.785421
+\x

# 2024-08-02 12:29:45.787477
+select application_parameters from flow_configs where flow_id = 100 and application_parameters <> '{}' order by id desc limit 1;

# 2024-08-02 12:29:54.681240
+select application_parameters from flow_configs where flow_id = 100 and application_parameters <> '{}' order by id desc limit 1; \o params.json

# 2024-08-02 12:32:29.198358
+update flow_configs set application_parameters = '{
+  "prompts": {
+  },
+  "parameters": {
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney's information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 100;

# 2024-08-02 12:32:48.500186
+update flow_configs set application_parameters = '{
+  "prompts": {
+  },
+  "parameters": {
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 100;

# 2024-08-02 12:33:22.049966
+select application_parameters->'parameters'::text from flow_configs where flow_id = 517;

# 2024-08-02 16:49:47.425394
+\i params.json

# 2024-08-02 16:49:53.123828
+select application_parameters->'parameters'::text from flow_configs where flow_id = 517;

# 2024-08-02 16:50:07.548842
+select jsonb(application_parameters->'parameters') from flow_configs where flow_id = 517;

# 2024-08-02 16:50:13.463319
+select jsonb_keys(application_parameters->'parameters') from flow_configs where flow_id = 517;

# 2024-08-02 16:50:28.517206
+select json_keys(application_parameters->'parameters') from flow_configs where flow_id = 517;

# 2024-08-02 16:50:33.977253
+select jsonb_each(application_parameters->'parameters') from flow_configs where flow_id = 517;

# 2024-08-02 16:57:09.124382
+select uuid from flows where id = 517;

# 2024-08-02 16:57:11.696044
+select name, uuid from flows where id = 517;

# 2024-08-05 15:53:10.276300
+select application_parameters->'parameters'::text from flow_configs where flow_id = 517;

# 2024-08-05 15:53:29.348902
+select metadata from meta_data_caches;

# 2024-08-05 15:53:34.089389
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-08-05 15:53:45.423023
+select metadata->>'caller_details'->>'first_name' from meta_data_caches order by id desc limit 1;

# 2024-08-05 15:53:47.512003
+select metadata->'caller_details'->>'first_name' from meta_data_caches order by id desc limit 1;

# 2024-08-05 15:58:11.626615
+update meta_data_caches set metadata='{"caller_details": {"client_account_number": "110-135525", "customer_number": "110-135525", "reference_code": "110-135525", "DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-08-05 15:58:47.680590
+update flow_configs set application_parameters = '{
+  "prompts": {
+  },
+  "parameters": {
+    "type_of_collection": "settlement",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 100;

# 2024-08-05 16:00:56.584456
+update meta_data_caches set metadata='{"caller_details": {"client_account_number": "110-135525", "customer_number": "110-135525", "reference_code": "110-135525", "DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer", "type_of_collection": "settlement"}}';

# 2024-08-06 18:25:39.303278
+select metadata->'caller_details'->>'first_name' from meta_data_caches order by id desc limit 1;

# 2024-08-06 18:26:15.357710
+update flow_configs set application_parameters = '{
+  "prompts": {
+  },
+  "parameters": {
+    "type_of_collection": "settlement",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 100;

# 2024-08-07 18:06:39.028355
+update flow_configs set application_parameters = '{
+  "prompts": {
+  },
+  "parameters": {
+    "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+    "type_of_collection": "settlement",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 100;

# 2024-08-07 18:12:34.475297
+select metadata->'caller_details'->>'first_name' from meta_data_caches order by id desc limit 1;

# 2024-08-07 18:12:41.588262
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-08-07 18:12:55.235291
+select metadata->>'fetch_data_route_name' from live_contexts order by id desc limit 1;

# 2024-08-07 18:12:57.774631
+select metadata->>'fetch_data_route_name' from live_contexts order by id desc limit 5;

# 2024-08-07 18:12:59.436033
+select metadata->>'fetch_data_route_name' from live_contexts order by id desc limit 10;

# 2024-08-07 18:13:06.664816
+select id, metadata->>'fetch_data_route_name' from live_contexts order by id desc limit 10;

# 2024-08-07 18:13:09.793838
+select id, metadata->>'fetch_data_route_name' from live_contexts order by id desc limit 5;

# 2024-08-07 18:13:18.288492
+select id, metadata->>'fetch_data_success_trigger' from live_contexts order by id desc limit 5;

# 2024-08-07 18:13:25.992220
+select id, metadata->>'callType' from live_contexts order by id desc limit 5;

# 2024-08-07 18:24:45.773475
+update flow_configs set application_parameters = '{
+  "prompts": {
+  },
+  "parameters": {
+    "flow_uuid": "dummy_flow",
+    "type_of_collection": "settlement",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 100;

# 2024-08-07 18:29:38.772886
+update flow_configs set application_parameters = '{
+  "prompts": {
+  },
+  "parameters": {
+    "flow_uuid": "1a158bb7-d27c-40ba-b184-a52ed9fa9583",
+    "type_of_collection": "settlement",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 100;

# 2024-08-12 13:50:21.433296
+select * from virtual_numbers;

# 2024-08-12 13:51:04.555526
+update virtual_numbers set flow_id = 404 and virtual_number = '101' and client_id = 1;

# 2024-08-12 13:51:24.275792
+update virtual_numbers set flow_id=404 and virtual_number='101' and client_id=1;

# 2024-08-12 13:51:35.967367
+update virtual_numbers set flow_id=404 virtual_number='101' client_id=1;

# 2024-08-12 13:54:35.993372
+insert into virtual_numbers (virtual_number, flow_id, client_id) values ('101', 404, 1);

# 2024-08-12 13:54:39.642204
+select * from virtual_numbers;

# 2024-08-12 13:54:51.809477
+select * from flows where id = 404;

# 2024-08-12 15:46:48.897302
+select * from flow_configs where current_config = true and flow_id = 404;

# 2024-08-12 15:46:54.874590
+select states from flow_configs where current_config = true and flow_id = 404;

# 2024-08-12 15:47:11.446304
+select states::text from flow_configs where current_config = true and flow_id = 404;

# 2024-08-12 15:47:48.320613
+decode

# 2024-08-12 15:48:04.547142
+\d flow_configs

# 2024-08-12 15:49:03.217452
+select to_string(states) from flow_configs where current_config = true and flow_id = 404;

# 2024-08-12 15:49:52.629629
+select to_string(states::bytea) from flow_configs where current_config = true and flow_id = 404;

# 2024-08-12 15:51:33.069622
+select convert_from(states, 'utf8') from flow_configs where current_config = true and flow_id = 404;

# 2024-08-12 15:52:16.703399
+convert_to('asdasd', 'utf8')

# 2024-08-12 15:52:19.488115
+convert_to

# 2024-08-12 16:33:53.891312
+select flows.uuid, clients.uuid from flows inner join clients on flows.client_id = clients.id where flows.id = 404;

# 2024-08-12 17:45:38.887164
+update meta_data_caches set metadata='{"caller_details": {"client_account_number": "110-135525", "customer_number": "110-135525", "reference_code": "110-135525", "DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer", "type_of_collection": "settlement"}}' caller_number='+1101';
+

# 2024-08-12 17:45:53.444966
+update meta_data_caches set metadata='{"caller_details": {"client_account_number": "110-135525", "customer_number": "110-135525", "reference_code": "110-135525", "DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer", "type_of_collection": "settlement"}}', caller_number='+1101';

# 2024-08-21 16:42:33.726214
+\d

# 2024-08-27 18:56:26.264073
+select * from metadata_cache;

# 2024-08-27 18:56:33.223508
+select * from meta_data_caches;

# 2024-08-27 18:57:03.070909
+update flow_configs set application_parameters = '{
+  "prompts": {},
+  "parameters": {
+    "flow_uuid": "1a158bb7-d27c-40ba-b184-a52ed9fa9583",
+    "type_of_collection": "settlement",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 100;

# 2024-08-28 13:42:40.601981
+update flow_configs set application_parameters = '{
+  "prompts": {},
+  "parameters": {
+    "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+    "type_of_collection": "settlement",
+    "language_code": "en-US",
+    "tts_provider": "elevenlabs_http",
+    "tts_model": "eleven_turbo_v2_5",
+    "tts_voice": "Hope",
+    "asr_provider": "deepgram",
+    "demo_call": false,
+    "llm_domain": "third-party",
+    "flow_type": "ib",
+    "attribute": "Account Number",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 100;

# 2024-08-28 13:44:45.799815
+update flow_configs set application_parameters = '{
+  "prompts": {},
+  "parameters": {
+    "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+    "type_of_collection": "settlement",
+    "language_code": "en-US",
+    "tts_provider": "elevenlabs_http",
+    "tts_model": "eleven_turbo_v2_5",
+    "tts_voice": "Hope",
+    "asr_provider": "deepgram",
+    "demo_call": "false",
+    "llm_domain": "third-party",
+    "flow_type": "ib",
+    "attribute": "Account Number",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 100;

# 2024-08-28 13:51:05.887792
+select * from virtual_numbers;

# 2024-08-28 13:51:13.617909
+update flow_configs set application_parameters = '{
+  "prompts": {},
+  "parameters": {
+    "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+    "type_of_collection": "settlement",
+    "language_code": "en-US",
+    "tts_provider": "elevenlabs_http",
+    "tts_model": "eleven_turbo_v2_5",
+    "tts_voice": "Hope",
+    "asr_provider": "deepgram",
+    "demo_call": "false",
+    "llm_domain": "third-party",
+    "flow_type": "ib",
+    "attribute": "Account Number",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 517;

# 2024-08-28 13:56:28.835220
+update flow_configs set application_parameters = '{
+  "prompts": {},
+  "parameters": {
+    "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+    "type_of_collection": "settlement",
+    "language_code": "en-US",
+    "tts_provider": "elevenlabs_http",
+    "tts_model": "eleven_turbo_v2_5",
+    "tts_voice": "Hope",
+    "asr_provider": "deepgram",
+    "demo_call": "false",
+    "llm_domain": "third-party",
+    "flow_type": "ob",
+    "attribute": "Account Number",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 517;

# 2024-08-28 13:56:46.751528
+update flow_configs set application_parameters = '{
+  "prompts": {},
+  "parameters": {
+    "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+    "type_of_collection": "settlement",
+    "language_code": "en-US",
+    "tts_provider": "elevenlabs_websocket",
+    "tts_model": "eleven_turbo_v2_5",
+    "tts_voice": "Hope",
+    "asr_provider": "deepgram",
+    "demo_call": "false",
+    "llm_domain": "third-party",
+    "flow_type": "ob",
+    "attribute": "Account Number",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 517;

# 2024-08-28 14:41:03.356890
+update flow_configs set application_parameters = '{
+  "prompts": {},
+  "parameters": {
+    "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+    "type_of_collection": "settlement",
+    "language_code": "en-US",
+    "tts_provider": "elevenlabs_websocket",
+    "tts_model": "eleven_turbo_v2_5",
+    "tts_voice": "Hope",
+    "asr_provider": "deepgram",
+    "demo_call": "false",
+    "llm_domain": "third-party",
+    "flow_type": "ib",
+    "attribute": "Account Number",
+    "ocp": "Disable",
+    "PG_name": "-",
+    "holidays": "12-25-2023",
+    "timezone": "US/Eastern",
+    "agency_city": "New York",
+    "agency_name": "Skit collection",
+    "client_uuid": "-",
+    "ib_transfer": "Go ahead with the bot",
+    "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+    "tts_agent_en": "en-US-JennyNeural",
+    "PG_integrated": "No",
+    "cb_sheet_name": "Contact_Manager",
+    "sms_link_type": "Static Link",
+    "agency_address": "-",
+    "dd_payment_link": "-",
+    "perc_pg_charges": "2.5",
+    "ptp_agent_email": "-",
+    "card_capture_mode": "DTMF",
+    "agency_address_zip": "-",
+    "de_agency_name_SMS": "-",
+    "dispute_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can raise your dispute requests against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "ca_google_sheet_name": "US-Debt-collection-App-database",
+    "ea_SMS_number_twillio": "+16413545941",
+    "pay_later_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, in future you can set the payment arrangements or make the payment against your {{.agency_name_SMS}} account no: {{.account}}, by visiting our secure payment page: {{.payment_link}}. \\nCall us on {{.transfer_number_unverified_users}} if you need any help. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "bi_call_later_email_id": "-",
+    "eb_payment_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}} with {{.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+    "transfer_number_dispute": "-",
+    "transfer_number_deceased": "-",
+    "action_after_card_on_file": "Agent transfer",
+    "fix_dollar_charges_amount": "4",
+    "transfer_number_rpc_users": "-",
+    "transfer_number_voicemail": "-",
+    "ec_already_paid_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us the information to support your payment claim by filling up this form: {{ index . \\\"caller_details\\\" \\\"already_paid_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "preverification_agency_name": "Skit",
+    "transfer_number_attorney_rep": "-",
+    "negotiation_portal_sms_content": "Dear {{.first_name}}, \\nAs discussed on call, you can view and set up the payment arrangements for your {{.agency_name_SMS}} account no: {{.account}}, by visiting our portal at {{payment_link}}. \\nReply HELP for help. Reply STOP to stop receiving this SMS.",
+    "transaction_number_sms_content": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+    "transfer_number_verified_users": "-",
+    "type_of_PG_charges_on_call_card": "No charges to the consumer",
+    "transfer_number_payment_helpline": "-",
+    "transfer_number_unverified_users": "-",
+    "bi_agent_transfer_email_id_dispute": "-",
+    "bi_agent_transfer_email_id_payment": "-",
+    "bi_agent_transfer_email_id_attorney_rep": "-",
+    "bi_agent_transfer_email_id_verified_users": "-",
+    "ed_attorney_detail_collection_sms_content": "Dear {{.first_name}}, \\n As discussed on call, please leave us your attorney''s information to take up the matter with your attorney by filling up this form: {{ index . \\\"caller_details\\\" \\\"attorney_form_link\\\" }} \\n Reply HELP for help. Reply STOP to stop receiving this SMS. \\n {{.agency_name_SMS}}",
+    "bi_agent_transfer_email_id_unverified_users": "-"
+  }
+}'  where flow_id = 517;

# 2024-08-28 14:52:35.010930
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {'DOB': '{{.caller_details.DOB}}', 'Zip': '{{.caller_details.Zip}}', 'auth_method': {{authMethod}}, 'due_amount': {{.caller_details.due_amount}}, 'first_name': '{{.caller_details.first_name}}', 'first_option': {{.caller_details.first_option}}, 'last_4_digits_of_SSN': '{{.caller_details.last_4_digits_of_SSN}}', 'last_4_digits_phone_number': '{{.caller_details.last_4_digits_phone_number}}', 'last_name': '{{.caller_details.last_name}}', 'minimum_acceptable': {{.caller_details.minimum_acceptable}}, 'payment_method': [], 'second_option': {{.caller_details.second_option}}, 'third_option': {{.caller_details.third_option}}, 'user_address': '{{userAddress}}', 'vehicle_details': '2019 Nissan Leaf'}\\nCLIENT_CONFIG: {'auth_required': '{{.caller_details.auth_required}}', 'auth_type': '{{.caller_details.auth_type}}', 'company_name': '{{.application_parameters.agency_name}}', 'mini_miranda': '{{.caller_details.mini_miranda}}', 'no_auth_steps': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {'already_paid': '{{.caller_details.already_paid}}', 'attorney': '{{.caller_details.attorney}}', 'cease_desist': '{{.caller_details.cease_desist}}', 'deceased': '{{.caller_details.deceased}}', 'dispute': '{{.caller_details.dispute}}', 'pay_later': '{{.caller_details.pay_later}}', 'refuse_auth': '{{.caller_details.refuse_auth}}', 'refuse_payment': '{{.caller_details.refuse_payment}}', 'right_party': '{{.caller_details.right_party}}', 'wrong_party': '{{.caller_details.wrong_party}}'}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ib",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-08-28 14:53:00.015600
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ib",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-08-28 15:00:02.615023
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ib",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-08-28 15:03:24.311730
+select * from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-08-28 15:03:30.810704
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-08-28 15:43:27.834626
+select id, metadata->>'call_outcome_note' from live_contexts order by id desc limit 5;

# 2024-08-28 15:43:44.025048
+select id, metadata->>'call_outcome_note' from live_contexts order by id desc limit 50;

# 2024-08-30 15:36:04.028865
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "true",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ib",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-06 15:30:34.551300
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "true",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ib",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-06 15:31:20.309682
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "true",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ib",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-06 17:11:13.145550
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-3",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "true",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ib",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-06 17:12:05.128163
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "true",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ib",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-09 16:07:35.163587
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "True",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ib",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-09 16:10:16.651542
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "True",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-09 16:11:23.895339
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-09-09 16:11:29.414586
+select * from meta_data_caches order by id desc limit 1;

# 2024-09-09 16:11:43.983304
+select id, metadata->>'call_outcome_note' from live_contexts order by id desc limit 50;

# 2024-09-09 16:11:55.339828
+select id, metadata->>'virtual_number' from live_contexts order by id desc limit 50;

# 2024-09-09 16:11:59.290819
+select id, metadata->>'virtual_number' from live_contexts order by id desc limit 10;

# 2024-09-09 16:12:05.608136
+select id, metadata->>'caller_number' from live_contexts order by id desc limit 10;

# 2024-09-09 16:12:43.421029
+update meta_data_caches set caller_number='+18885313475';

# 2024-09-09 16:15:08.477031
+select id, metadata->>'use_fetch_update_api' from live_contexts order by id desc limit 10;

# 2024-09-09 16:15:33.425883
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "True",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-09 16:15:38.328673
+select id, metadata->>'use_fetch_update_api' from live_contexts order by id desc limit 10;

# 2024-09-09 16:15:56.102132
+select id, metadata->'application_parameters'->>'use_fetch_update_api' from live_contexts order by id desc limit 10;

# 2024-09-09 16:16:01.194866
+select id, metadata->'application_parameters'->>'use_fetch_update_api' from live_contexts order by id desc limit 3;

# 2024-09-09 16:16:04.261687
+select id, metadata->>'use_fetch_update_api' from live_contexts order by id desc limit 10;

# 2024-09-09 16:16:07.428334
+select id, metadata->>'use_fetch_update_api' from live_contexts order by id desc limit 3;

# 2024-09-09 16:16:08.206974
+select id, metadata->>'use_fetch_update_api' from live_contexts order by id desc limit 10;

# 2024-09-09 16:16:11.220985
+select id, metadata->'application_parameters'->>'use_fetch_update_api' from live_contexts order by id desc limit 3;

# 2024-09-09 16:16:13.260745
+select id, metadata->>'use_fetch_update_api' from live_contexts order by id desc limit 3;

# 2024-09-16 16:29:06.016845
+insert into virtual_numbers (virtual_number, flow_id, client_id) values ('+918069490106', 517, 1);

# 2024-09-16 18:00:52.859506
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "True",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-16 18:01:31.823174
+select * from calls;

# 2024-09-16 18:01:39.232781
+select * from calls order by id desc limit 1;

# 2024-09-16 18:02:19.651173
+select * from meta_data_caches order by id desc limit 1;

# 2024-09-16 18:02:25.739847
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-09-16 18:02:37.932087
+help

# 2024-09-16 18:09:02.569753
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-09-16 18:09:08.028936
+\e select metadata from meta_data_caches order by id desc limit 1;

# 2024-09-16 18:09:16.306366
+select metadata from meta_data_caches order by id desc limit 1 \e;

# 2024-09-16 18:09:19.100843
+select metadata from meta_data_caches order by id desc limit 1; \e

# 2024-09-16 18:11:55.457949
+\o metadata.json select metadata from meta_data_caches order by id desc limit 1; 

# 2024-09-16 18:12:01.436941
+\e metadata.json

# 2024-09-16 18:12:45.040599
+\o metadata.json

# 2024-09-16 18:12:52.676298
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-09-16 18:13:41.051178
+select metadata from meta_data_caches order by id desc limit 1; \o metadata.json

# 2024-09-16 18:15:03.867902
+\x

# 2024-09-16 18:15:07.895303
+select metadata from meta_data_caches order by id desc limit 1; \o metadata.json

# 2024-09-16 18:20:25.538984
+select flows.uuid, clients.uuid from flows inner join clients on flows.client_id = clients.id where flows.id = 517;

# 2024-09-16 18:28:11.036472
+insert into virtual_numbers (virtual_number, flow_id, client_id) values ('101', 517, 1);

# 2024-09-16 18:28:19.878754
+select * from virtual_numbers;;

# 2024-09-16 18:28:40.349214
+update virtual_numbers set flow_id=517 virtual_number='101' client_id=1;

# 2024-09-16 18:29:12.882601
+update virtual_numbers set flow_id=517 and virtual_number='101' and client_id=1;

# 2024-09-16 18:29:26.989928
+update virtual_numbers set flow_id=517, virtual_number='101', client_id=1;

# 2024-09-16 18:29:41.237569
+update virtual_numbers set flow_id=517 where virtual_number='101';

# 2024-09-16 18:39:33.970126
+\e metadata.json

# 2024-09-16 18:40:55.458342
+select * from calls order by id desc limit 1;

# 2024-09-16 18:40:59.552272
+select * from calls order by id desc limit 10

# 2024-09-16 18:41:40.024203
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "['DOB']", "cease_desist": "transfer", "mini_miranda": "False", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Address Line 1": "new apartment", "minimum amount": "873434", "reference_code": "110-135525", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "95.5475", "Negotiation Six": "-", "Negotiation Two": "63.69833333333333", "customer_number": "110-135525", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "31.849166666666665", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "type_of_collection": "settlement", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "client_account_number": "110-135525", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '+918069490106', '+917008066654');

# 2024-09-16 18:41:51.381170
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "mini_miranda": "False", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Address Line 1": "new apartment", "minimum amount": "873434", "reference_code": "110-135525", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "95.5475", "Negotiation Six": "-", "Negotiation Two": "63.69833333333333", "customer_number": "110-135525", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "31.849166666666665", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "type_of_collection": "settlement", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "client_account_number": "110-135525", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '+918069490106', '+917008066654');

# 2024-09-16 18:43:26.602052
+update meta_data_caches set metadata='{"caller_details": {"client_account_number": "110-135525", "customer_number": "110-135525", "reference_code": "110-135525", "DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer", "type_of_collection": "settlement"}}', caller_number='+1101';

# 2024-09-19 15:15:08.320832
+\d clients

# 2024-09-23 19:03:54.833749
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "True",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-23 19:04:02.481680
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "True",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-24 17:41:32.176630
+\c fsm_service

# 2024-09-24 17:42:07.671029
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "True",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_websocket",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-24 17:48:04.760062
+\c fsm_service

# 2024-09-24 17:48:18.253517
+select metadata from meta_data_caches order by id desc limit 1; \o metadata.json

# 2024-09-24 17:54:04.729196
+\c fsm_service

# 2024-09-24 17:54:13.957785
+select caller_number, metadata from meta_data_caches order by id desc limit 1;

# 2024-09-24 17:54:23.468717
+select caller_number, metadata from meta_data_caches order by id desc limit 10;

# 2024-09-24 17:55:35.519763
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-09-30 14:34:49.126316
+\c fsm_service

# 2024-09-30 14:35:00.765836
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "use_fetch_update_api": "True",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-30 18:02:25.491141
+\c fsm_service

# 2024-09-30 18:02:46.820566
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "tts_voice_speed": "2.0",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-30 18:03:09.921800
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "tts_speed": "2.0",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-30 18:03:29.514108
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "tts_speed": "0.5",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-30 18:03:49.595425
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "tts_speed": "0",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-30 18:04:07.693824
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "tts_speed": "300",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-09-30 18:04:24.986677
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "tts_speed": "0.88",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-10-01 17:28:48.018052
+\c fsm_service

# 2024-10-01 17:28:53.673180
+select caller_number, metadata from meta_data_caches order by id desc limit 10;

# 2024-10-01 17:29:17.332168
+update meta_data_caches set metadata='{"caller_details": {"client_account_number": "110-135525", "customer_number": "110-135525", "reference_code": "110-135525", "DOB": "1994-02-17", "ZIP": "37167", "Zip": "37167", "City": "NY", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "NY", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "ABC 123", "dispute": "transfer", "attorney": "transfer", "deceased": "transfer", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Doe", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Doe ", "pay_later": "transfer", "Cell Phone": "+19179858369", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "John", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "John ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "transfer", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[''DOB'']", "cease_desist": "transfer", "Negotiation One": "95.5475", "mini_miranda": "False", "Negotiation Three": "31.849166666666665", "user_address": "ABC 123 new apartment NY", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "ABC collection", "agree_payment": "bot", "auth_required": "True", "caller_number": "+18885313475", "no_auth_steps": "1", "Negotiation Two": "63.69833333333333", "Address Line 1": "new apartment", "minimum amount": "873434", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation Six": "-", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "873434 ", "settlement percent": "50", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179858369", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer", "type_of_collection": "settlement"}}', caller_number='+1101';

# 2024-10-01 17:29:20.454937
+select caller_number, metadata from meta_data_caches order by id desc limit 10;

# 2024-10-01 17:31:11.928246
+\c fsm_service

# 2024-10-01 17:31:32.630639
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "tts_speed": "0.88",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC"
+    }
+}'  where flow_id = 517;

# 2024-10-01 17:31:53.227340
+\c fsm_service

# 2024-10-01 17:32:23.790383
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "prompt": "USER_METADATA: {''DOB'': ''{{.caller_details.DOB}}'', ''Zip'': ''{{.caller_details.Zip}}'', ''auth_method'': {{authMethod}}, ''due_amount'': {{.caller_details.due_amount}}, ''first_name'': ''{{.caller_details.first_name}}'', ''first_option'': {{.caller_details.first_option}}, ''last_4_digits_of_SSN'': ''{{.caller_details.last_4_digits_of_SSN}}'', ''last_4_digits_phone_number'': ''{{.caller_details.last_4_digits_phone_number}}'', ''last_name'': ''{{.caller_details.last_name}}'', ''minimum_acceptable'': {{.caller_details.minimum_acceptable}}, ''payment_method'': [], ''second_option'': {{.caller_details.second_option}}, ''third_option'': {{.caller_details.third_option}}, ''user_address'': ''{{userAddress}}'', ''vehicle_details'': ''2019 Nissan Leaf''}\\nCLIENT_CONFIG: {''auth_required'': ''{{.caller_details.auth_required}}'', ''auth_type'': ''{{.caller_details.auth_type}}'', ''company_name'': ''{{.application_parameters.agency_name}}'', ''mini_miranda'': ''{{.caller_details.mini_miranda}}'', ''no_auth_steps'': {{.caller_details.no_auth_steps}}, }\\nSTATE_BASED_ACTIONS: {''already_paid'': ''{{.caller_details.already_paid}}'', ''attorney'': ''{{.caller_details.attorney}}'', ''cease_desist'': ''{{.caller_details.cease_desist}}'', ''deceased'': ''{{.caller_details.deceased}}'', ''dispute'': ''{{.caller_details.dispute}}'', ''pay_later'': ''{{.caller_details.pay_later}}'', ''refuse_auth'': ''{{.caller_details.refuse_auth}}'', ''refuse_payment'': ''{{.caller_details.refuse_payment}}'', ''right_party'': ''{{.caller_details.right_party}}'', ''wrong_party'': ''{{.caller_details.wrong_party}}''}\\nCALL_TYPE: OUTBOUND\\nCALL:\\n",
+        "is_local": "False",
+        "attribute": "Account Number",
+        "end_point": "default",
+        "flow_type": "ob",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "providers": "tcn",
+        "tts_provider": "elevenlabs_http",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "tts_speed": "0.88",
+        "llm_domain": "third-party",
+        "agency_name": "NFC",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "language_code": "en-US",
+        "connector_uuid": "db585e07-ecca-40eb-aa4b-d1689962bd80",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "transfer_default": "+18885121690",
+        "payment_sms_content": "Dear {{.caller_details.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.caller_details.account}} with {{.application_parameters.agency_name_SMS}}, from your interactions with {{ index . \\\"caller_details\\\" \\\"Creditor Name\\\"}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. \\nPlease press pound # on the call once you have made the payment. \\n Call us on {{.application_parameters.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.application_parameters.agency_name_SMS}}",
+        "primary_tts_persona": "{}",
+        "digital_agent_number": "[\\\"+18664426973\\\"]",
+        "payment_provider_name": "usaepay",
+        "eb_payment_sms_content": "Dear {{.FirstName}}, as discussed on call, you can make the payment of ${{.Amount}} against your SameDay Auto Services, Account No: {{.Account}} by visiting our payment page: https://www.paynearme.com/~SbCgyfbwkHTg7lAVxLNCVw==#. Please press pound once you have made the payment. Reply STOP to stop receiving this SMS.",
+        "tcn_schedule_template_id": "16",
+        "digital_agent_number_in_use": "{\\\"id\\\": 269, \\\"virtual_number\\\": \\\"+18664426973\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"\\\", \\\"is_local\\\": false, \\\"is_live\\\": true}",
+        "preverification_agency_name": "NFC",
+        "auth_required": "No"
+    }
+}'  where flow_id = 517;

# 2024-10-01 17:32:38.101806
+\c fsm_service

# 2024-10-01 17:37:03.773543
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "false", "timezone": "US/Eastern", "flow_type": "ob", "flow_uuid": "df3a9805-4f6d-432c-b881-78eceaa9a3cd", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +13023062862", "agency_name": "Sensible Auto", "client_uuid": "3f35a74f-23bf-4555-b286-7773f60e1efa", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "https://www.paynearme.com/sensible", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "True", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "8507803042", "card_capture_mode": "DTMF", "primary_tts_persona": "{}", "use_fetch_update_api": "True", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "1", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "payment_link_sms_template": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}}, by visiting our secure payment page: {{.rec_payment_link}} \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}", "data_update_api_integration": "Yes", "preverification_agency_name": "Sensible Auto", "sms_consent_required_on_call": "True", "confirmation_code_sms_template": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}", "type_of_PG_charges_on_call_card": "No charges to the consumer"}}'  where flow_id = 517;

# 2024-10-01 17:38:23.698196
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "false",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "df3a9805-4f6d-432c-b881-78eceaa9a3cd",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +13023062862",
+        "agency_name": "Sensible Auto",
+        "client_uuid": "3f35a74f-23bf-4555-b286-7773f60e1efa",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "https://www.paynearme.com/sensible",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "True",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "8507803042",
+        "card_capture_mode": "DTMF",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "True",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "1",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "payment_link_sms_template": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}}, by visiting our secure payment page: {{.rec_payment_link}} \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+        "data_update_api_integration": "Yes",
+        "preverification_agency_name": "Sensible Auto",
+        "sms_consent_required_on_call": "True",
+        "confirmation_code_sms_template": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer"
+    }
+}' where flow_id = 517;

# 2024-10-01 17:39:30.213624
+drop table meta_data_caches;

# 2024-10-01 17:41:00.740236
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "auth_required": "No",
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "false",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "df3a9805-4f6d-432c-b881-78eceaa9a3cd",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +13023062862",
+        "agency_name": "Sensible Auto",
+        "client_uuid": "3f35a74f-23bf-4555-b286-7773f60e1efa",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "https://www.paynearme.com/sensible",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "True",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "8507803042",
+        "card_capture_mode": "DTMF",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "True",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "1",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "payment_link_sms_template": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}}, by visiting our secure payment page: {{.rec_payment_link}} \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+        "data_update_api_integration": "Yes",
+        "preverification_agency_name": "Sensible Auto",
+        "sms_consent_required_on_call": "True",
+        "confirmation_code_sms_template": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer"
+    }
+}' where flow_id = 517;

# 2024-10-01 17:41:32.127678
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "auth_required": "No",
+        "auth_type": "DOB",
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "false",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "df3a9805-4f6d-432c-b881-78eceaa9a3cd",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +13023062862",
+        "agency_name": "Sensible Auto",
+        "client_uuid": "3f35a74f-23bf-4555-b286-7773f60e1efa",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "https://www.paynearme.com/sensible",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "True",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "8507803042",
+        "card_capture_mode": "DTMF",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "True",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "1",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "payment_link_sms_template": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}}, by visiting our secure payment page: {{.rec_payment_link}} \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+        "data_update_api_integration": "Yes",
+        "preverification_agency_name": "Sensible Auto",
+        "sms_consent_required_on_call": "True",
+        "confirmation_code_sms_template": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer"
+    }
+}' where flow_id = 517;

# 2024-10-01 17:44:12.782182
+select * from virtual_numbers;;

# 2024-10-01 17:45:44.471876
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "auth_required": "No",
+        "auth_type": "DOB",
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "false",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "df3a9805-4f6d-432c-b881-78eceaa9a3cd",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +13023062862",
+        "agency_name": "Sensible Auto",
+        "client_uuid": "3f35a74f-23bf-4555-b286-7773f60e1efa",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"09:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "https://www.paynearme.com/sensible",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "True",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "8507803042",
+        "card_capture_mode": "DTMF",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "True",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "1",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "payment_link_sms_template": "Dear {{.first_name}}, \\nAs discussed on call, you can make the payment of ${{.payment_amount}} against your account no: {{.account}}, by visiting our secure payment page: {{.rec_payment_link}} \\n Call us on {{.transfer_number_unverified_users}} if you need help with the payment. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n- {{.agency_name_SMS}}",
+        "data_update_api_integration": "Yes",
+        "preverification_agency_name": "Sensible Auto",
+        "sms_consent_required_on_call": "True",
+        "confirmation_code_sms_template": "Dear {{.first_name}} {{.last_name}}, \\nAs discussed on call, we have received the payment of ${{.payment_amount}} against your {{.agency_name_SMS}} account number {{.account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. \\nCall us on {{.transfer_number_unverified_users}} for any further question. \\nReply HELP for help. Reply STOP to stop receiving this SMS. \\n - {{.agency_name_SMS}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer"
+    }
+}' where flow_id = 517;

# 2024-10-01 17:46:59.030463
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "-",
+        "holidays": "12-25-2023",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "-",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": "+16413545941",
+        "agency_name": "Skit collection",
+        "client_uuid": "-",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "No",
+        "language_code": "en-US",
+        "sms_link_type": "Dynamic Link",
+        "connector_uuid": "d22e9c47-c63d-4cfe-ac20-7e787b2aa4a4",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "2.5",
+        "ptp_agent_email": "-",
+        "schedule_payment": "False",
+        "transfer_default": "-",
+        "card_capture_mode": "Voice",
+        "digital_agent_name": "-",
+        "use_fetch_update_api": "false",
+        "payment_provider_name": "usaepay",
+        "check_agent_availability": "False",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "4",
+        "payment_link_sms_template": "Dear {{.caller_details.first_name}}, As discussed on the call, you can make the payment of ${{.caller_details.due_amount}} against your account no: {{.caller_details.Account}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. Call us on {{.application_parameters.transfer_default}} if you need help with the payment. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "data_update_api_integration": "No",
+        "preverification_agency_name": "Skit",
+        "sms_consent_required_on_call": "true",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer"
+    }
+}' where flow_id = 517;

# 2024-10-01 17:48:34.906820
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "OUTBOUND-CALLBACK", "is_local": "false", "timezone": "US/Central", "flow_type": "ib", "flow_uuid": "7888493d-07b9-4097-948f-dd8907e5b5fe", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "third-party", "agency_name": "Day Knight and Associates", "ib_transfer": "bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"08:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"08:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"08:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"08:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"17:00\\\", \\\"START_TIME\\\": \\\"08:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "https://dayknight.com/pay-online/", "language_code": "en-US", "connector_uuid": "d22e9c47-c63d-4cfe-ac20-7e787b2aa4a4", "inbound_module": "OUTBOUND-CALLBACK", "transfer_default": "6364051000", "digital_agent_name": "Daisy", "primary_tts_persona": "{}", "digital_agent_number": "000000091", "use_fetch_update_api": "True", "payment_provider_name": "usaepay", "tcn_schedule_template_id": "", "action_after_card_on_file": "default", "digital_agent_number_in_use": "{\\\"id\\\": 543, \\\"virtual_number\\\": \\\"+18774170159\\\", \\\"is_spam\\\": null, \\\"last_scanned_at\\\": null, \\\"provider\\\": \\\"tcn\\\", \\\"is_local\\\": false, \\\"is_live\\\": false, \\\"procured_by_client\\\": false, \\\"reserved_for_client\\\": false, \\\"client_uuid\\\": \\\"a32d096a-01ba-4ee9-8de7-015b851ab9d4\\\"}", "preverification_agency_name": "Day Knight and Associates", "type_of_PG_charges_on_call_card": "No charges to consumer"}}' where flow_id = 517;

# 2024-10-01 17:49:01.510418
+select * from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 17:49:06.956548
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 17:49:20.685623
+select metadata->'request'->>'persisted_data' from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 17:50:01.825243
+select metadata->'response'->>'persisted_data' from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 17:52:36.042551
+select metadata->'request'->>'persisted_data' from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 17:52:53.459692
+select metadata->'response'->>'persisted_data', metadata->'request'->>'persisted_data' from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 17:52:57.902258
+select metadata->'response'->>'persisted_data', metadata->'request'->>'persisted_data' from conversations where call_id = (select id from calls order by id desc limit 1)0;

# 2024-10-01 17:53:03.298334
+select metadata->'response'->>'persisted_data', metadata->'request'->>'persisted_data' from conversations where call_id = (select id from calls order by id desc limit 10);

# 2024-10-01 17:53:08.299963
+select metadata->'response'->>'persisted_data', metadata->'request'->>'persisted_data' from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 18:03:57.683682
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Prez", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19173103058", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "Juan", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'', ''user_address'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "skit", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19173103058", "no_auth_steps": "2", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '100', '9040468489');

# 2024-10-01 18:04:31.930225
+create table meta_data_caches;

# 2024-10-01 18:04:33.524767
+create table meta_data_caches

# 2024-10-01 18:04:41.238898
+create table meta_data_caches \

# 2024-10-01 18:04:43.994609
+create table meta_data_caches;

# 2024-10-01 18:06:26.821678
+CREATE TABLE meta_data_cache (
+    id SERIAL PRIMARY KEY,
+    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
+    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
+    deleted_at TIMESTAMP NULL,
+    uuid VARCHAR(50) UNIQUE,
+    caller_number VARCHAR(20),
+    virtual_number VARCHAR(20),
+    metadata JSONB,
+    CONSTRAINT idx_call_metadata_id UNIQUE (uuid)
+);
+

# 2024-10-01 18:06:32.318319
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Prez", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19173103058", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "Juan", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'', ''user_address'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "skit", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19173103058", "no_auth_steps": "2", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '100', '9040468489');

# 2024-10-01 18:06:42.748507
+CREATE TABLE meta_data_caches (
+    id SERIAL PRIMARY KEY,
+    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
+    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
+    deleted_at TIMESTAMP NULL,
+    uuid VARCHAR(50) UNIQUE,
+    caller_number VARCHAR(20),
+    virtual_number VARCHAR(20),
+    metadata JSONB,
+    CONSTRAINT idx_call_metadata_id UNIQUE (uuid)
+);
+

# 2024-10-01 18:06:47.945540
+drop table meta_data_cache;

# 2024-10-01 18:06:50.934400
+CREATE TABLE meta_data_caches (
+    id SERIAL PRIMARY KEY,
+    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
+    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
+    deleted_at TIMESTAMP NULL,
+    uuid VARCHAR(50) UNIQUE,
+    caller_number VARCHAR(20),
+    virtual_number VARCHAR(20),
+    metadata JSONB,
+    CONSTRAINT idx_call_metadata_id UNIQUE (uuid)
+);
+

# 2024-10-01 18:06:58.648032
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Prez", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19173103058", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "Juan", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'', ''user_address'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "skit", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19173103058", "no_auth_steps": "2", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '100', '9040468489');

# 2024-10-01 18:08:43.230451
+select metadata->'response'->>'persisted_data', metadata->'request'->>'persisted_data' from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 18:08:49.837694
+select virtual_number, caller_number, metadata->'caller_details'->>'client_account_number' from meta_data_caches limit 1;

# 2024-10-01 18:12:05.025856
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 18:12:16.938236
+select metadata->'response'->>'persisted_data', metadata->'request'->>'persisted_data' from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 18:12:23.033731
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 18:20:34.081741
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Prez", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19173103058", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "Juan", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'', ''user_address'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "skit", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19173103058", "no_auth_steps": "2", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '+1100', '+1100');

# 2024-10-01 18:20:59.267633
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Prez", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19173103058", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "Juan", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'', ''user_address'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "skit", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19173103058", "no_auth_steps": "2", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '+100', '+100');

# 2024-10-01 18:23:30.776339
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "-",
+        "holidays": "12-25-2023",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "-",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": "+16413545941",
+        "agency_name": "Skit collection",
+        "client_uuid": "-",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": false, \\\"END_TIME\\\": \\\"00:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "No",
+        "language_code": "en-US",
+        "sms_link_type": "Dynamic Link",
+        "connector_uuid": "d22e9c47-c63d-4cfe-ac20-7e787b2aa4a4",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "2.5",
+        "ptp_agent_email": "-",
+        "schedule_payment": "False",
+        "transfer_default": "-",
+        "card_capture_mode": "Voice",
+        "digital_agent_name": "-",
+        "use_fetch_update_api": "false",
+        "payment_provider_name": "usaepay",
+        "check_agent_availability": "False",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "4",
+        "payment_link_sms_template": "Dear {{.caller_details.first_name}}, As discussed on the call, you can make the payment of ${{.caller_details.due_amount}} against your account no: {{.caller_details.Account}}, by visiting our secure payment page: {{.application_parameters.payment_link}}. Call us on {{.application_parameters.transfer_default}} if you need help with the payment. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "data_update_api_integration": "No",
+        "preverification_agency_name": "Skit",
+        "sms_consent_required_on_call": "true",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer"
+    }
+}' where flow_id = 517;

# 2024-10-01 18:27:01.608980
+select metadata from meta_data_caches order by id desc limit 1; \o metadata.json

# 2024-10-01 18:27:15.371607
+\c fsm_service

# 2024-10-01 18:27:18.453455
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-10-01 18:27:28.087892
+select metadata->>'caller_details' from meta_data_caches order by id desc limit 1;

# 2024-10-01 18:27:45.239005
+select metadata->>'caller_details' from meta_data_caches order by id desc limit 1; \o metadata.json

# 2024-10-01 18:27:59.393606
+\c fsm_services

# 2024-10-01 18:28:00.394940
+\c fsm_service

# 2024-10-01 18:28:02.537604
+select metadata->>'caller_details' from meta_data_caches order by id desc limit 1; \o metadata.json

# 2024-10-01 18:28:57.380564
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-10-01 18:29:03.298466
+\c fsm_service

# 2024-10-01 18:29:04.392789
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-10-01 18:29:32.172667
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Prez", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19173103058", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "Juan", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "skit", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19173103058", "no_auth_steps": "2", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '+100', '+100');

# 2024-10-01 18:30:46.510580
+select id from meta_data_caches;

# 2024-10-01 18:31:00.360432
+delete from meta_data_caches where id = 1;

# 2024-10-01 18:31:06.601235
+delete from meta_data_caches;

# 2024-10-01 18:31:11.245783
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Prez", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19173103058", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "Juan", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "skit", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19173103058", "no_auth_steps": "2", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '+100', '+100');

# 2024-10-01 18:31:42.538750
+delete from meta_data_caches;

# 2024-10-01 18:31:49.174542
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Prez", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19173103058", "Child City": "", "Child SSN#": "", "Due Amount": "382.19", "First Name": "Juan", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "382.19", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "skit", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19173103058", "no_auth_steps": "2", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "23.23", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '+1100', '+1100');

# 2024-10-01 18:33:49.447390
+n

# 2024-10-01 18:33:53.355585
+delete from meta_data_caches;

# 2024-10-01 18:34:17.987375
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Smith", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19179858799", "Child City": "", "Child SSN#": "", "Due Amount": "2400", "First Name": "David", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "2400", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "Test collection agency", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19179858799", "no_auth_steps": "1", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "60", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '+1100', '+1100');

# 2024-10-01 18:34:38.939115
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Smith", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19179858799", "Child City": "", "Child SSN#": "", "Due Amount": "2400", "First Name": "David", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "2400", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "Test collection agency", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19179858799", "no_auth_steps": "1", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "60", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}';

# 2024-10-01 18:35:52.972192
+update meta_data_caches set metadata='{
+    "caller_details": {
+        "DOB": "1994-02-17",
+        "ZIP": "L3R 8F6",
+        "Zip": "L3R 8F6",
+        "City": "Markham",
+        "SSN#": "6256",
+        "Email": "ABC 123",
+        "Error": "",
+        "State": "Ontario",
+        "auth_1": "Zip",
+        "auth_2": "DOB",
+        "auth_3": "last_4_digits_of_SSN",
+        "Account": "023287654349",
+        "Address": "north side, 60",
+        "dispute": "transfer",
+        "attorney": "transfer",
+        "deceased": "sms",
+        "Child DOB": "",
+        "Child ZIP": "",
+        "Is Valid?": "false",
+        "Last Name": "Smith",
+        "Lead UUID": "",
+        "auth_type": "Authentication",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "last_name": "Prez ",
+        "pay_later": "sms",
+        "Cell Phone": "+19179858799",
+        "Child City": "",
+        "Child SSN#": "",
+        "Due Amount": "2400",
+        "First Name": "David",
+        "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d",
+        "due_amount": "2400",
+        "first_name": "Juan ",
+        "Child Email": "",
+        "Child State": "",
+        "refuse_auth": "transfer",
+        "right_party": "bot",
+        "wrong_party": "hangup",
+        "Service Date": "1999-03-03",
+        "already_paid": "transfer",
+        "auth_methods": "[ ''DOB'' ]",
+        "cease_desist": "sms",
+        "first_option": "3 months",
+        "mini_miranda": "False",
+        "third_option": "When can you pay",
+        "user_address": "Markham, Ontario L3R 8F6, Canada",
+        "Campaign Type": "Normal Campaign",
+        "Child Address": "",
+        "Creditor Name": "Test collection agency",
+        "agree_payment": "bot",
+        "auth_required": "True",
+        "caller_number": "+19179858799",
+        "no_auth_steps": "1",
+        "second_option": "4 months",
+        "Address Line 1": "Centurian Dr 2nd floor",
+        "minimum amount": "6",
+        "refuse_payment": "transfer",
+        "Child Last Name": "",
+        "Customer Number": "873434",
+        "Empathetic Flow": "Disable",
+        "Negotiation One": "3 Months",
+        "Negotiation Six": "-",
+        "Negotiation Two": "6 Months",
+        "offline_payment": "No",
+        "Child Cell Phone": "",
+        "Child Due Amount": "",
+        "Child First Name": "",
+        "Negotiation Five": "-",
+        "Negotiation Four": "-",
+        "Negotiation Three": "When can you pay",
+        "Settlement Amount": "60",
+        "Child Service Date": "",
+        "Negotiation medium": "On voice-agent",
+        "minimum_acceptable": "6",
+        "settlement percent": "25",
+        "Child Creditor Name": "",
+        "Child Address Line 1": "",
+        "Child minimum amount": "",
+        "last_4_digits_of_SSN": "6256",
+        "Child Customer Number": "",
+        "Transfer Phone Number": "7042252851",
+        "Child Settlement Amount": "",
+        "Child settlement percent": "",
+        "action_agent_unavailable": "Hangup",
+        "last_4_digits_phone_number": "+19179859060",
+        "Child Transfer Phone Number": "",
+        "action_in_case_of_no_datapoints": "Transfer"
+    }
+}';

# 2024-10-01 18:36:18.220266
+select * from meta_data_caches;

# 2024-10-01 18:36:36.534022
+select metadata->'caller_details'->>'First Name' from meta_data_caches;

# 2024-10-01 18:36:52.758158
+select virtual_number, caller_number, metadata->'caller_details'->>'First Name' from meta_data_caches;

# 2024-10-01 18:37:44.242045
+select virtual_number, caller_number, metadata->'caller_details'->>'first_name' from meta_data_caches;

# 2024-10-01 18:37:46.258012
+select virtual_number, caller_number, metadata->'caller_details'->>'First Name' from meta_data_caches;

# 2024-10-01 18:38:29.865381
+update meta_data_caches set metadata='{
+    "caller_details": {
+        "DOB": "1994-02-17",
+        "ZIP": "L3R 8F6",
+        "Zip": "L3R 8F6",
+        "City": "Markham",
+        "SSN#": "6256",
+        "Email": "ABC 123",
+        "Error": "",
+        "State": "Ontario",
+        "auth_1": "Zip",
+        "auth_2": "DOB",
+        "auth_3": "last_4_digits_of_SSN",
+        "Account": "023287654349",
+        "Address": "north side, 60",
+        "dispute": "transfer",
+        "attorney": "transfer",
+        "deceased": "sms",
+        "Child DOB": "",
+        "Child ZIP": "",
+        "Is Valid?": "false",
+        "Last Name": "Smith",
+        "Lead UUID": "",
+        "auth_type": "Authentication",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "last_name": "Smith",
+        "pay_later": "sms",
+        "Cell Phone": "+19179858799",
+        "Child City": "",
+        "Child SSN#": "",
+        "Due Amount": "2400",
+        "First Name": "David",
+        "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d",
+        "due_amount": "2400",
+        "first_name": "David",
+        "Child Email": "",
+        "Child State": "",
+        "refuse_auth": "transfer",
+        "right_party": "bot",
+        "wrong_party": "hangup",
+        "Service Date": "1999-03-03",
+        "already_paid": "transfer",
+        "auth_methods": "[ ''DOB'' ]",
+        "cease_desist": "sms",
+        "first_option": "3 months",
+        "mini_miranda": "False",
+        "third_option": "When can you pay",
+        "user_address": "Markham, Ontario L3R 8F6, Canada",
+        "Campaign Type": "Normal Campaign",
+        "Child Address": "",
+        "Creditor Name": "Test collection agency",
+        "agree_payment": "bot",
+        "auth_required": "True",
+        "caller_number": "+19179858799",
+        "no_auth_steps": "1",
+        "second_option": "4 months",
+        "Address Line 1": "Centurian Dr 2nd floor",
+        "minimum amount": "6",
+        "refuse_payment": "transfer",
+        "Child Last Name": "",
+        "Customer Number": "873434",
+        "Empathetic Flow": "Disable",
+        "Negotiation One": "3 Months",
+        "Negotiation Six": "-",
+        "Negotiation Two": "6 Months",
+        "offline_payment": "No",
+        "Child Cell Phone": "",
+        "Child Due Amount": "",
+        "Child First Name": "",
+        "Negotiation Five": "-",
+        "Negotiation Four": "-",
+        "Negotiation Three": "When can you pay",
+        "Settlement Amount": "60",
+        "Child Service Date": "",
+        "Negotiation medium": "On voice-agent",
+        "minimum_acceptable": "6",
+        "settlement percent": "25",
+        "Child Creditor Name": "",
+        "Child Address Line 1": "",
+        "Child minimum amount": "",
+        "last_4_digits_of_SSN": "6256",
+        "Child Customer Number": "",
+        "Transfer Phone Number": "7042252851",
+        "Child Settlement Amount": "",
+        "Child settlement percent": "",
+        "action_agent_unavailable": "Hangup",
+        "last_4_digits_phone_number": "+19179859060",
+        "Child Transfer Phone Number": "",
+        "action_in_case_of_no_datapoints": "Transfer"
+    }
+}';

# 2024-10-01 18:40:54.893368
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer"}}' where flow_id = 517;

# 2024-10-01 18:43:38.844121
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1990-03-18", "ZIP": "12345", "Zip": "12345", "City": "GARY", "PDOB": "1998-10-18", "SSN#": "", "Error": "", "State": "IN", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "119202463", "I Score": "527", "dispute": "hangup", "Due Date": "2024-07-13", "attorney": "hangup", "deceased": "hangup", "Child DOB": "", "Child ZIP": "", "Debt Date": "2024-01-01", "Is Valid?": "false", "Last Name": "Crisler", "Lead UUID": "", "auth_type": "Authentication", "last_name": "Crisler", "pay_later": "hangup", "Cell Phone": "9171247839", "Child City": "", "Child PDOB": "", "Child SSN#": "", "Due Amount": "216.0", "First Name": "Diego", "Home Phone": "", "due_amount": "300.0", "first_name": "Diego", "Child State": "", "Medal Score": "2", "No Contacts": "18", "refuse_auth": "hangup", "right_party": "bot", "wrong_party": "hangup", "Service Date": "", "already_paid": "hangup", "auth_methods": "[''Zip'']", "cease_desist": "hangup", "mini_miranda": "True", "type_of_debt": "Auto loan", "user_address": "1148 CONNECTICUT ST GARY IN", "Campaign Type": "Normal Campaign", "Child I Score": "", "Creditor Name": "SO Capital", "Next Due Date": "", "Past Due Date": "2022-11-15", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19171247839", "no_auth_steps": "1", "Address Line 1": "1148 CONNECTICUT ST", "Address Line 2": "", "minimum amount": "50", "refuse_payment": "hangup", "Child Debt Date": "", "Child Last Name": "", "Customer Number": "ZC05066", "Negotiation One": "-", "Negotiation Six": "-", "Negotiation Two": "-", "Next Amount Due": "0", "Past Due Amount": "216", "offline_payment": "No", "product_details": "Kia Sonet", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Child Home Phone": "", "Negotiation Five": "-", "Negotiation Four": "", "Child Medal Score": "", "Child No Contacts": "", "Child Unnamed: 12": "", "Last Contact Date": "2024-05-12", "Negotiation Three": "-", "Settlement Amount": "", "grace_period_date": "2024-07-25", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "50", "type_of_collection": "Recurring", "Child Creditor Name": "", "Child Next Due Date": "", "Child Past Due Date": "", "Child Address Line 1": "", "Child Address Line 2": "", "Child minimum amount": "", "Original debt amount": "216", "last_4_digits_of_SSN": "3456", "pay_later_valid_date": "2024-07-31", "Child Customer Number": "", "Child Next Amount Due": "", "Child Past Due Amount": "", "Child Last Contact Date": "", "Child Settlement Amount": "", "already_paid_valid_date": "2024-06-25", "Child Original debt amount": "", "last_4_digits_phone_number": "2196807416", "action_in_case_of_no_datapoints": "hangup"}}';

# 2024-10-01 18:49:52.803192
+select metadata->'response'->>'persisted_data', metadata->'request'->>'persisted_data' from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 18:50:18.038021
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-01 18:50:25.582150
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1); \o dump.json

# 2024-10-01 18:50:43.878515
+\c fsm_service

# 2024-10-01 18:50:52.015643
+select id, metadata from live_contexts order by id desc limit 3;

# 2024-10-01 18:50:57.432369
+select id, metadata from live_contexts order by id desc limit 1;

# 2024-10-01 18:51:06.339143
+select id, metadata->>'card_number' from live_contexts order by id desc limit 1;

# 2024-10-01 18:51:14.819398
+select id, metadata from live_contexts order by id desc limit 1; \o dump.json

# 2024-10-03 12:02:57.391022
+\c fs

# 2024-10-03 12:03:00.218454
+\c fsm_service

# 2024-10-03 12:03:09.734638
+select id, metadata from live_contexts order by id desc limit 1;

# 2024-10-03 12:03:15.811049
+select id, metadata from live_contexts order by id desc limit 1; \o dump.json

# 2024-10-03 12:03:31.784321
+\c fsm_service

# 2024-10-03 12:03:40.422775
+select id, metadata from live_contexts order by id desc limit 1; \o dump.json

# 2024-10-03 12:04:05.254608
+\c fsm_service

# 2024-10-03 12:04:26.046291
+\x

# 2024-10-03 12:04:28.165606
+select id, metadata from live_contexts order by id desc limit 1; \o dump.json

# 2024-10-03 12:15:00.043145
+\c fsm_services

# 2024-10-03 12:15:03.064768
+\c fsm_service

# 2024-10-03 12:15:04.510765
+\x

# 2024-10-03 12:15:21.004723
+select id, metadata from live_contexts order by id desc limit 1;

# 2024-10-03 12:15:39.415682
+select metadata from live_contexts order by id desc limit 1;

# 2024-10-03 12:16:14.558675
+\sf

# 2024-10-03 12:16:20.023831
+?

# 2024-10-03 12:16:35.058499
+\?

# 2024-10-03 16:16:52.324647
+\c fsm_service

# 2024-10-03 16:17:10.549985
+select api_spec from flow_configs where flow_id = 517l;

# 2024-10-03 16:17:14.829771
+select api_spec from flow_configs where flow_id = 517;

# 2024-10-03 16:17:25.026370
+select CONVERT_FROM(api_spec, 'utf8') from flow_configs where flow_id = 517;

# 2024-10-03 16:17:29.006988
+\x

# 2024-10-03 16:17:30.161561
+select CONVERT_FROM(api_spec, 'utf8') from flow_configs where flow_id = 517;

# 2024-10-03 16:17:38.941853
+select CONVERT_FROM(api_spec, 'utf8') from flow_configs where flow_id = 517; \o api_spec.json

# 2024-10-03 16:21:30.254906
+\c fsm_service

# 2024-10-03 16:21:36.489372
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1); \o dump.json

# 2024-10-03 16:21:40.133640
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-03 16:21:46.946471
+select metadata, debug_metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-03 16:21:58.208056
+\x

# 2024-10-03 16:21:59.028459
+select metadata, debug_metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-03 16:22:11.869703
+select id, metadata, debug_metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-03 16:22:34.677510
+select id, metadata, debug_metadata from conversations where call_id = 100;

# 2024-10-03 16:22:42.908141
+select max(id) from calls;

# 2024-10-03 16:22:58.185972
+\c fsm_service

# 2024-10-03 16:23:00.298707
+select max(id) from calls;

# 2024-10-03 16:23:04.251911
+select id, metadata, debug_metadata from conversations where call_id = 842;

# 2024-10-03 16:23:07.704385
+select id, metadata, debug_metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-04 19:25:28.282424
+\c fsm_service

# 2024-10-04 19:25:35.214709
+select uuid from calls order by id desc limit 1;

# 2024-10-04 19:31:07.955711
+select uuid, client_id from calls order by id desc limit 1;

# 2024-10-04 19:31:14.462185
+select uuid from clients where id = 1;

# 2024-10-04 19:36:05.203338
+select id, metadata->>'card_number' from live_contexts order by id desc limit 1;

# 2024-10-04 19:36:11.586172
+select id, metadata->>'trace_id' from live_contexts order by id desc limit 1;

# 2024-10-04 19:54:13.034658
+SELECT id, metadata,
+       jsonb_set(
+           jsonb_set(
+               metadata,
+               '{request,persisted_data}',
+               'null'::jsonb,
+               true
+           ),
+           '{response,persisted_data}',
+           'null'::jsonb,
+           true
+       ) AS modified_metadata
+FROM conversations
+WHERE metadata ? 'request' AND metadata ? 'response';
+

# 2024-10-04 19:54:40.165089
+\c fsm_service

# 2024-10-04 19:54:50.138707
+SELECT id, metadata,
+       jsonb_set(
+           jsonb_set(
+               metadata,
+               '{request,persisted_data}',
+               'null'::jsonb,
+               true
+           ),
+           '{response,persisted_data}',
+           'null'::jsonb,
+           true
+       ) AS modified_metadata
+FROM conversations
+WHERE metadata ? 'request' AND metadata ? 'response'; \o dump.json

# 2024-10-04 19:55:46.455488
+\c fsm_service

# 2024-10-04 19:57:37.987976
+SELECT id, metadata,
+       jsonb_set(
+           jsonb_set(
+               metadata,
+               '{request,persisted_data}',
+               'null'::jsonb,
+               true
+           ),
+           '{response,persisted_data}',
+           'null'::jsonb,
+           true
+       ) AS modified_metadata
+FROM conversations
+WHERE metadata ? 'request' AND metadata ? 'response'; \o dump.json

# 2024-10-04 19:58:11.873605
+\c fsm_service

# 2024-10-04 19:58:13.210924
+SELECT id, metadata,
+       jsonb_set(
+           jsonb_set(
+               metadata,
+               '{request,persisted_data}',
+               'null'::jsonb,
+               true
+           ),
+           '{response,persisted_data}',
+           'null'::jsonb,
+           true
+       ) AS modified_metadata
+FROM conversations
+WHERE metadata ? 'request' AND metadata ? 'response'; \o dump.json

# 2024-10-04 19:59:00.289230
+\c fsm_service

# 2024-10-04 19:59:13.277816
+SELECT id, metadata,
+       jsonb_set(
+           jsonb_set(
+               metadata,
+               '{request,persisted_data}',
+               'null'::jsonb,
+               true
+           ),
+           '{response,persisted_data}',
+           'null'::jsonb,
+           true
+       ) AS modified_metadata
+FROM conversations
+WHERE metadata ? 'request' AND metadata ? 'response'
+LIMIT 10;

# 2024-10-04 20:00:37.812888
+BEGIN;
+
+UPDATE conversations
+SET metadata = jsonb_set(
+                    jsonb_set(
+                        metadata,
+                        '{request,persisted_data}',
+                        'null'::jsonb,
+                        true
+                    ),
+                    '{response,persisted_data}',
+                    'null'::jsonb,
+                    true
+                ) - 'request' - 'response'
+WHERE metadata ? 'request' AND metadata ? 'response';

# 2024-10-04 20:00:56.623341
+SELECT id, metadata,
+       jsonb_set(
+           jsonb_set(
+               metadata,
+               '{request,persisted_data}',
+               'null'::jsonb,
+               true
+           ),
+           '{response,persisted_data}',
+           'null'::jsonb,
+           true
+       ) AS modified_metadata
+FROM conversations
+WHERE metadata ? 'request' AND metadata ? 'response'
+LIMIT 10;

# 2024-10-04 20:01:04.291063
+ROLLBACK;

# 2024-10-04 20:01:06.841521
+SELECT id, metadata,
+       jsonb_set(
+           jsonb_set(
+               metadata,
+               '{request,persisted_data}',
+               'null'::jsonb,
+               true
+           ),
+           '{response,persisted_data}',
+           'null'::jsonb,
+           true
+       ) AS modified_metadata
+FROM conversations
+WHERE metadata ? 'request' AND metadata ? 'response'
+LIMIT 10;

# 2024-10-04 20:01:14.360521
+BEGIN;
+
+UPDATE conversations
+SET metadata = jsonb_set(
+                    jsonb_set(
+                        metadata,
+                        '{request,persisted_data}',
+                        'null'::jsonb,
+                        true
+                    ),
+                    '{response,persisted_data}',
+                    'null'::jsonb,
+                    true
+                ) - 'request' - 'response'
+WHERE metadata ? 'request' AND metadata ? 'response';

# 2024-10-04 20:01:41.079741
+COMMIT;

# 2024-10-04 20:01:45.936371
+SELECT id, metadata,
+       jsonb_set(
+           jsonb_set(
+               metadata,
+               '{request,persisted_data}',
+               'null'::jsonb,
+               true
+           ),
+           '{response,persisted_data}',
+           'null'::jsonb,
+           true
+       ) AS modified_metadata
+FROM conversations
+WHERE metadata ? 'request' AND metadata ? 'response'
+LIMIT 10;

# 2024-10-04 21:50:18.078237
+\c fsm_service

# 2024-10-04 21:50:40.904960
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-10 20:29:11.627009
+create database heimdall;

# 2024-10-11 19:01:06.248154
+create database notification_service;

# 2024-10-11 19:03:43.165450
+\c fsm_service

# 2024-10-11 19:03:55.670339
+select * from virtual_numbers;;

# 2024-10-11 19:04:27.890192
+select id from flows where name = 'subhrajit_test';

# 2024-10-11 19:04:41.413118
+insert into virtual_numbers (virtual_number, flow_id, client_id) values ('200', 404, 1);

# 2024-10-15 14:55:39.676363
+\c fsm_service

# 2024-10-15 14:57:01.681746
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer", "auth_required": true}}' where flow_id = 517;

# 2024-10-15 14:57:30.875485
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer", "auth_required": "True"}}' where flow_id = 517;

# 2024-10-15 15:00:47.590728
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer", "auth_required": "True", "auth_type": "Authentication"}}' where flow_id = 517;

# 2024-10-15 15:03:02.897928
+select * from meta_data_caches;

# 2024-10-15 15:05:00.732454
+select metadata->>'context', metadata->>'last_transcript' from live_contexts order by id desc limit 1;

# 2024-10-15 15:27:06.022869
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-15 18:28:47.338784
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer", "auth_required": "True", "auth_type": "Authentication"}}' where flow_id = 517;

# 2024-10-15 18:33:00.378659
+\c fsm_service

# 2024-10-15 18:33:04.552048
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-15 18:54:50.113085
+select text from conversations order by id desc;

# 2024-10-15 18:57:50.114750
+\c fsm_service

# 2024-10-15 18:57:52.001289
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-15 19:46:06.545582
+\c fsm_service

# 2024-10-15 19:46:19.775125
+select uuid from flows where id = 517;

# 2024-10-18 15:23:20.560275
+\c fsm_service

# 2024-10-18 15:23:32.311103
+insert into virtual_numbers (virtual_number, flow_id, client_id) values ('999', 517, 1);

# 2024-10-18 15:27:27.289053
+\c fsm_service

# 2024-10-18 15:27:35.601611
+select * from virtual_numbers;

# 2024-10-18 18:07:20.694341
+\c fsm_service

# 2024-10-18 18:07:25.708122
+select * from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-18 18:07:32.719516
+select metadata from live_contexts order by id desc limit 1;

# 2024-10-18 18:26:17.497058
+\c fsm_service

# 2024-10-18 18:26:37.233146
+update virtual_numbers set virtual_number='199' where virtual_number='199';

# 2024-10-18 18:27:04.682838
+select * from virtual_numbers

# 2024-10-18 18:27:12.825767
+update virtual_numbers set virtual_number='199' where virtual_number='999';

# 2024-10-18 18:28:56.013422
+select metadata from live_contexts order by id desc limit 1;

# 2024-10-18 18:29:03.626781
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-10-18 18:34:54.719409
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-10-18 18:46:34.039273
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-10-22 18:52:03.113119
+create database orchestrator_service;

# 2024-10-23 04:30:50.378791
+\c orchestrator_service

# 2024-10-23 04:30:52.054040
+\t

# 2024-10-23 04:30:55.663698
+\d

# 2024-10-23 04:31:06.891910
+select * from interactions;

# 2024-10-23 04:31:10.495308
+select * from interaction_conversations;

# 2024-10-23 04:31:19.050443
+select * from edges;

# 2024-10-23 16:24:53.872497
+\c fsm_service

# 2024-10-23 16:25:18.129835
+update virtual_numbers set created_at=now() where created_at is null;

# 2024-10-23 16:25:29.467853
+select * from virtual_numbers;

# 2024-10-23 16:25:49.314868
+\c fsm_service

# 2024-10-23 16:25:58.605298
+update virtual_numbers set created_at=now() where flow_id = 517;

# 2024-10-24 15:46:29.306225
+\c fsm_service

# 2024-10-24 15:46:37.388032
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-10-24 15:46:42.055461
+select metadata->>'error' from live_contexts order by id desc limit 1;

# 2024-10-24 20:12:46.943285
+\c fsm_service

# 2024-10-24 20:13:07.029796
+select metadata from meta_data_caches order by id desc limit 1;

# 2024-10-24 20:13:12.855597
+select caller_number,metadata from meta_data_caches order by id desc limit 1;

# 2024-10-24 20:13:29.177595
+select caller_number,metadata from meta_data_caches order by id desc limit 10;

# 2024-10-24 20:13:47.682408
+select caller_number,metadata from meta_data_caches order by id desc limit;

# 2024-10-24 20:13:51.806469
+select caller_number,metadata from meta_data_caches;

# 2024-10-24 20:14:19.612128
+insert into meta_data_caches (metadata, virtual_number, caller_number) values ('{"caller_details": {"DOB": "1994-02-17", "ZIP": "L3R 8F6", "Zip": "L3R 8F6", "City": "Markham", "SSN#": "6256", "Email": "ABC 123", "Error": "", "State": "Ontario", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "023287654349", "Address": "north side, 60", "dispute": "transfer", "attorney": "transfer", "deceased": "sms", "Child DOB": "", "Child ZIP": "", "Is Valid?": "false", "Last Name": "Smith", "Lead UUID": "", "auth_type": "Authentication", "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f", "last_name": "Prez ", "pay_later": "sms", "Cell Phone": "+19179858799", "Child City": "", "Child SSN#": "", "Due Amount": "2400", "First Name": "David", "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d", "due_amount": "2400", "first_name": "Juan ", "Child Email": "", "Child State": "", "refuse_auth": "transfer", "right_party": "bot", "wrong_party": "hangup", "Service Date": "1999-03-03", "already_paid": "transfer", "auth_methods": "[ ''DOB'' ]", "cease_desist": "sms", "first_option": "3 months", "mini_miranda": "False", "third_option": "When can you pay", "user_address": "Markham, Ontario L3R 8F6, Canada", "Campaign Type": "Normal Campaign", "Child Address": "", "Creditor Name": "Test collection agency", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19179858799", "no_auth_steps": "1", "second_option": "4 months", "Address Line 1": "Centurian Dr 2nd floor", "minimum amount": "6", "refuse_payment": "transfer", "Child Last Name": "", "Customer Number": "873434", "Empathetic Flow": "Disable", "Negotiation One": "3 Months", "Negotiation Six": "-", "Negotiation Two": "6 Months", "offline_payment": "No", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Negotiation Five": "-", "Negotiation Four": "-", "Negotiation Three": "When can you pay", "Settlement Amount": "60", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "6", "settlement percent": "25", "Child Creditor Name": "", "Child Address Line 1": "", "Child minimum amount": "", "last_4_digits_of_SSN": "6256", "Child Customer Number": "", "Transfer Phone Number": "7042252851", "Child Settlement Amount": "", "Child settlement percent": "", "action_agent_unavailable": "Hangup", "last_4_digits_phone_number": "+19179859060", "Child Transfer Phone Number": "", "action_in_case_of_no_datapoints": "Transfer"}}', '+1100', '+19040468489');

# 2024-10-24 20:14:21.906674
+select caller_number,metadata from meta_data_caches;

# 2024-11-07 15:03:58.124611
+\c orchestrator_service

# 2024-11-07 15:04:10.127683
+select * from virtual_number;

# 2024-11-07 15:04:11.889587
+select * from virtual_numbers;

# 2024-11-07 15:04:13.248849
+select * from virtual_number;

# 2024-11-07 15:05:49.459023
+insert into virtual_number (virtual_id, provider, assistant_id, channel, created_at, updated_at) as ('+18774170230', 'TCN', 1, 'VOICE', now(), now());

# 2024-11-07 15:05:55.450500
+insert into virtual_number (virtual_id, provider, assistant_id, channel, created_at, updated_at) values ('+18774170230', 'TCN', 1, 'VOICE', now(), now());

# 2024-11-07 15:05:58.070015
+select * from virtual_number;

# 2024-11-07 15:06:06.788827
+insert into assistants;

# 2024-11-07 15:06:11.822888
+select * from assistants;

# 2024-11-07 15:06:52.207838
+\d assistants

# 2024-11-07 15:09:04.988412
+insert into assistants (created_at, uuid, name, client_id, category, domain, app_type, languages, updated_at) values (now(), uuid(), 'Local Test', 1, 'FIRST_PARTY', 'COLLECTIONS', 'STANDALONE', '{EN_US}', now());
+

# 2024-11-07 15:11:53.867959
+insert into assistants (created_at, uuid, name, client_id, category, domain, app_type, languages, updated_at) values (now(), '75d0fbe9-3fe4-4ae2-aee3-516bf6bb41ec', 'Local Test', 1, 'FIRST_PARTY', 'COLLECTIONS', 'STANDALONE', '{EN_US}', now());

# 2024-11-07 15:12:14.750121
+insert into assistants (created_at, uuid, name, description, client_id, category, domain, app_type, languages, updated_at) values (now(), '75d0fbe9-3fe4-4ae2-aee3-516bf6bb41ec', 'Local Test', 'local testing assistant', 1, 'FIRST_PARTY', 'COLLECTIONS', 'STANDALONE', '{EN_US}', now());

# 2024-11-07 15:12:18.293410
+select * from assistants;

# 2024-11-07 15:12:29.929475
+\c orchestrator_service

# 2024-11-07 15:12:48.279679
+update virtual_number set assistant_id = 2 where virtual_id='1234567890';

# 2024-11-07 15:12:57.684468
+select * from virtual_number;

# 2024-11-07 15:13:06.199748
+update virtual_number set assistant_id = 2 where virtual_id='+18774170230';

# 2024-11-07 15:13:16.280425
+select * from assistants;

# 2024-11-07 15:13:21.706863
+update virtual_number set assistant_id = 3 where virtual_id='+18774170230';

# 2024-11-07 16:36:16.999762
+\c orchestrator_service

# 2024-11-07 16:36:43.713213
+select * from clients

# 2024-11-07 16:36:52.695562
+select * from assistants;

# 2024-11-07 16:37:16.973060
+select * from assistant_configs

# 2024-11-07 16:45:44.025161
+drop orchestrator_service;

# 2024-11-07 16:45:50.659741
+drop

# 2024-11-07 16:46:04.553401
+drop database orchestrator_service with (force);

# 2024-11-07 16:46:10.062215
+create database orchestrator_service;

# 2024-11-11 15:07:07.500179
+\c orchestrator_service

# 2024-11-11 15:07:11.406764
+select * from clients;

# 2024-11-15 11:34:28.847333
+\c fsm_service

# 2024-11-15 11:34:33.454021
+select * from flows;

# 2024-11-15 11:34:44.204812
+select * from flows where id = 517;

# 2024-11-15 11:34:49.186036
+select api_spec from flows where id = 517;

# 2024-11-15 11:35:23.940160
+select api_spec from flow_configs where id = 517;

# 2024-11-15 11:37:06.234638
+\c fsm_service

# 2024-11-15 11:37:07.729195
+select api_spec from flow_configs where id = 517;

# 2024-11-15 11:43:16.144259
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517;

# 2024-11-15 11:43:45.819686
+update flow_configs set api_spec = nil where flow_id = 517;

# 2024-11-15 11:43:50.969634
+update flow_configs set api_spec = null where flow_id = 517;

# 2024-11-15 11:43:54.591852
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517;

# 2024-11-15 11:46:50.426704
+select flows where template_id = 517;

# 2024-11-15 11:46:55.027352
+select * from flows where template_id = 517;

# 2024-11-15 11:47:07.088792
+select * from flows where id = 517;

# 2024-11-15 11:47:12.171458
+select template_id from flows where id = 517;

# 2024-11-15 11:48:14.452884
+\c fsm_service

# 2024-11-15 11:48:42.672034
+select clients.uuid, flows.uuid from flows inner join clients on clients.id = flows.client_id where flows.id = 100;

# 2024-11-15 11:49:17.603757
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517;

# 2024-11-15 11:49:21.336935
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 100;

# 2024-11-15 11:50:12.235212
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517;

# 2024-11-15 11:50:38.413167
+update flow_configs set api_spec = null where flow_id = 517;

# 2024-11-15 11:50:58.757129
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517;

# 2024-11-15 12:35:16.917766
+select * from flows where name = 'banking';

# 2024-11-15 12:35:29.830795
+select * from flow_configs where flow_id = 512;

# 2024-11-15 12:35:46.495173
+update flow_configs set current_config = true where flow_id = 512;

# 2024-11-16 01:05:21.302820
+\c fsm_service

# 2024-11-16 01:05:25.036308
+select uuid from flows where id = 517;

# 2024-11-16 01:08:19.528794
+\c fsm_service

# 2024-11-16 01:08:28.024307
+select * from calls order by id desc limit 10

# 2024-11-16 01:09:19.320968
+SELECT count(*) FROM "calls" LEFT OUTER JOIN live_contexts on calls.id=live_contexts.call_id LEFT OUTER JOIN call_contexts on calls.id=call_contexts.call_id WHERE (calls.type <> 'CALL_TEST') AND (calls.created_at <= '2024-11-16 23:59:59') AND (calls.created_at >= '2024-11-16 00:00:00') AND (calls.hour_id IN ('195')) AND (calls.flow_id = 517) AND (calls.client_id = 92)

# 2024-11-16 01:09:44.920874
+select * from calls order by id desc limit 10

# 2024-11-16 01:10:08.344641
+show timezone;

# 2024-11-16 01:10:28.544787
+SELECT count(*) FROM "calls" LEFT OUTER JOIN live_contexts on calls.id=live_contexts.call_id LEFT OUTER JOIN call_contexts on calls.id=call_contexts.call_id WHERE (calls.type <> 'CALL_TEST') AND (calls.created_at <= '2024-11-16 23:59:59') AND (calls.created_at >= '2024-11-16 00:00:00') AND (calls.hour_id IN ('195')) AND (calls.flow_id = 517) AND (calls.client_id = 92)

# 2024-11-16 01:10:35.209670
+select * from calls order by id desc limit 1

# 2024-11-16 01:10:59.225779
+set timezone='Asia/Kolkata';

# 2024-11-16 01:11:01.197994
+SELECT count(*) FROM "calls" LEFT OUTER JOIN live_contexts on calls.id=live_contexts.call_id LEFT OUTER JOIN call_contexts on calls.id=call_contexts.call_id WHERE (calls.type <> 'CALL_TEST') AND (calls.created_at <= '2024-11-16 23:59:59') AND (calls.created_at >= '2024-11-16 00:00:00') AND (calls.hour_id IN ('195')) AND (calls.flow_id = 517) AND (calls.client_id = 92)

# 2024-11-16 01:11:05.278821
+select * from calls order by id desc limit 1

# 2024-11-16 01:11:15.049284
+SELECT count(*) FROM "calls" LEFT OUTER JOIN live_contexts on calls.id=live_contexts.call_id LEFT OUTER JOIN call_contexts on calls.id=call_contexts.call_id WHERE (calls.type <> 'CALL_TEST') AND (calls.created_at <= '2024-11-16 23:59:59') AND (calls.created_at >= '2024-11-16 00:00:00') AND (calls.hour_id IN ('195')) AND (calls.flow_id = 517) AND (calls.client_id = 92)

# 2024-11-16 01:11:48.319891
+SELECT count(*) FROM "calls" LEFT OUTER JOIN live_contexts on calls.id=live_contexts.call_id LEFT OUTER JOIN call_contexts on calls.id=call_contexts.call_id WHERE (calls.type <> 'CALL_TEST') AND (calls.created_at <= '2024-11-16 23:59:59') AND (calls.created_at >= '2024-11-16 00:00:00') AND (calls.hour_id IN ('195')) AND (calls.flow_id = 517) AND (calls.client_id = 1)

# 2024-11-16 01:13:13.709814
+\c fsm_service

# 2024-11-16 01:13:21.420786
+select uuid from clients where id = 1;

# 2024-11-16 02:06:01.945997
+\c fsm_service

# 2024-11-16 02:06:14.333600
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517;

# 2024-11-18 15:30:59.410514
+\c fsm_service

# 2024-11-18 15:31:10.102570
+select clients.uuid, flows.uuid from flows inner join clients on clients.id = flows.client_id where flows.id = 100;

# 2024-11-19 16:49:04.141352
+\c fsm_service

# 2024-11-19 16:49:19.775209
+select * from virtual_number;

# 2024-11-19 16:49:20.873485
+select * from virtual_numbers;

# 2024-11-19 16:49:38.732367
+insert into virtual_numbers (virtual_number, flow_id, client_id) values ('+18774170230', 517, 1);

# 2024-11-19 16:55:51.169684
+\c fsm_service

# 2024-11-19 16:55:57.260174
+insert into virtual_numbers (virtual_number, flow_id, client_id) values ('+18774170117', 517, 1);

# 2024-11-20 12:43:56.017905
+\c fsm_service

# 2024-11-20 12:43:59.934413
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517;

# 2024-11-20 13:24:18.788474
+\c fsm_service

# 2024-11-20 13:24:21.560229
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517;

# 2024-11-20 13:24:24.203166
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 100;

# 2024-11-20 13:24:33.031479
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 100 and version = '0.0.1';

# 2024-11-20 13:24:51.208741
+update flow_configs set api_spec = null where flow_id = 100;

# 2024-11-20 13:25:23.457519
+\c fsm_service

# 2024-11-20 13:25:36.853679
+select application_parameters->'parameters'::text from flow_configs where flow_id = 517;

# 2024-11-20 13:25:45.966802
+select application_parameters from flow_configs where flow_id = 517;

# 2024-11-20 13:25:55.470702
+select application_parameters->'flow_uuid' from flow_configs where flow_id = 517;

# 2024-11-20 13:26:05.253450
+select application_parameters->'parameters'->>'flow_uuid' from flow_configs where flow_id = 517;

# 2024-11-20 13:26:32.526471
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer", "auth_required": "True", "auth_type": "Authentication"}}' where flow_id = 517;

# 2024-11-20 13:27:01.697130
+\c fsm_service

# 2024-11-20 13:27:09.664235
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 100 and version = '0.0.1';

# 2024-11-20 13:27:14.195288
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517 and version = '0.0.1';

# 2024-11-20 13:27:29.417578
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer", "auth_required": "True", "auth_type": "Authentication"}}' where flow_id = 100;

# 2024-11-20 13:27:36.756630
+select application_parameters->'parameters'->>'flow_uuid' from flow_configs where flow_id = 517;

# 2024-11-20 13:27:39.607249
+select application_parameters->'parameters'->>'flow_uuid' from flow_configs where flow_id = 100;

# 2024-11-20 13:30:56.310562
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer", "auth_required": "True", "auth_type": "Authentication"}}' where flow_id = 100;

# 2024-11-20 13:31:16.532469
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "flow_uuid": "testing", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer", "auth_required": "True", "auth_type": "Authentication"}}' where flow_id = 517;

# 2024-11-20 17:21:52.702697
+\c fsm_service

# 2024-11-20 17:21:56.960650
+select uuid from clients where id = 1;

# 2024-11-20 17:21:59.553371
+select name, uuid from clients where id = 1;

# 2024-11-21 18:47:17.023621
+\c fsm_service

# 2024-11-21 18:47:24.637562
+select metadata from live_contexts order by id desc limit 1;

# 2024-11-21 18:47:40.806775
+\x

# 2024-11-21 18:47:42.151775
+select metadata from live_contexts order by id desc limit 1;

# 2024-11-21 18:48:41.924740
+select metadata->>'subhrajit' from live_contexts order by id desc limit 1;

# 2024-11-21 18:48:45.658659
+\x

# 2024-11-21 18:48:46.725645
+select metadata from live_contexts order by id desc limit 1;

# 2024-11-21 18:48:50.246898
+select metadata->>'subhrajit' from live_contexts order by id desc limit 1;

# 2024-12-04 18:11:38.651328
+\c or

# 2024-12-04 18:11:40.517095
+\c orchestrator_service

# 2024-12-04 18:11:49.414562
+select * from virtual_numbers;

# 2024-12-04 18:11:51.676003
+select * from virtual_number;

# 2024-12-06 19:18:53.069809
+\c fsm_service

# 2024-12-06 19:19:07.108785
+select clients.uuid, flows.uuid from flows inner join clients on clients.id = flows.client_id where flows.id = 100;

# 2024-12-09 17:26:26.596318
+\c fsm_service

# 2024-12-09 17:27:43.868921
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "flow_uuid": "testing", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer", "auth_required": "True", "auth_type": "Authentication", "fcc_consent_prompt_unknown": "https://s3.us-east-1.amazonaws.com/us-call-stitching-interface-audios/samples-us-east-1/demo-17337452619716964.wav", "fcc_consent_transcript_unknown": "Hi!", "fcc_consent_required": "true"}}' where flow_id = 517;

# 2024-12-09 17:49:25.845649
+\c fsm_service

# 2024-12-09 17:49:31.570096
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-12-09 17:56:41.207129
+\c fsm_service

# 2024-12-09 17:56:42.224740
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-12-09 17:56:56.719989
+select metadata->>'context' from live_contexts order by id desc limit 1;

# 2024-12-09 17:57:10.041561
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-12-09 17:59:25.502656
+update flow_configs set application_parameters = '{"parameters": {"ocp": "Enable", "model": "gpt-4o", "module": "NAME-VERIFICATION", "PG_name": "PayNearMe", "holidays": "12-25-2023", "is_local": "False", "timezone": "US/Eastern", "flow_type": "ob", "flow_uuid": "testing", "providers": "tcn", "tts_model": "eleven_turbo_v2_5", "tts_voice": "Hope", "llm_domain": "first-party", "sms_number": " +16413545941", "agency_name": "ABC Auto", "ib_transfer": "Handle on the bot", "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]", "payment_link": "-", "tts_provider": "elevenlabs_http", "PG_integrated": "Yes", "language_code": "en-US", "sms_link_type": "Static Link", "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79", "inbound_module": "OUTBOUND-CALLBACK", "debit_card_only": "False", "perc_pg_charges": "0", "schedule_payment": "True", "transfer_default": "+18885121690", "card_capture_mode": "DTMF", "digital_agent_name": "NA", "primary_tts_persona": "{}", "use_fetch_update_api": "False", "payment_provider_name": "paynearme", "check_agent_availability": "True", "tcn_schedule_template_id": "13", "action_after_card_on_file": "Agent transfer", "fix_dollar_charges_amount": "0", "preverification_agency_name": "ABC Auto", "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}", "type_of_PG_charges_on_call_card": "No charges to the consumer", "auth_required": "True", "auth_type": "Authentication", "fcc_consent_prompt_unknown": "https://s3.us-east-1.amazonaws.com/us-call-stitching-interface-audios/samples-us-east-1/demo-17337452619716964.wav", "fcc_consent_transcript_unknown": "Hi!", "fcc_consent_required": "true"}}' where flow_id = 517;

# 2024-12-09 18:29:32.844325
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "fcc_consent_required": "true",
+        "fcc_consent_prompt_confirm": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_confirm.wav",
+        "fcc_consent_transcript_confirm": "Do you confirm your consent for this call to be recorded?",
+        "fcc_consent_prompt_refuse_consent": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_refuse_consent.wav",
+        "fcc_consent_transcript_refuse_consent": "You have chosen not to provide consent for this call to be recorded.",
+        "fcc_consent_prompt_agent_transfer": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_agent_transfer.wav",
+        "fcc_consent_transcript_agent_transfer": "Please hold while we transfer you to an agent.",
+        "fcc_consent_prompt_identity": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_identity.wav",
+        "fcc_consent_transcript_identity": "Can you please verify your identity for this call?",
+        "fcc_consent_prompt_repeat": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_repeat.wav",
+        "fcc_consent_transcript_repeat": "Could you please repeat that?",
+        "fcc_consent_prompt_unknown": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_unknown.wav",
+        "fcc_consent_transcript_unknown": "I didn''t understand that. Can you try again?",
+        "fcc_consent_prompt_cease_desist": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_cease_desist.wav",
+        "fcc_consent_transcript_cease_desist": "We will cease communication as per your request. Thank you."
+    }
+}' where flow_id = 517;

# 2024-12-09 18:46:06.609213
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-12-09 18:46:09.265789
+select text from conversations where call_id = (select id from calls order by id desc limit 12;

# 2024-12-09 18:46:13.779480
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-12-09 18:46:16.412312
+select text from conversations where call_id = (select id from calls order by id desc limit 2);

# 2024-12-09 18:46:18.541991
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-12-10 15:31:06.834130
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "on_call_ai_consent_required": "true",
+        "action_in_case_of_consent_refusal": "TRANSFER",
+        "consent_required_for_ib_calls": "true",
+        "fcc_consent_prompt_confirm": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_confirm.wav",
+        "fcc_consent_transcript_confirm": "Do you confirm your consent for this call to be recorded?",
+        "fcc_consent_prompt_refuse_consent": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_refuse_consent.wav",
+        "fcc_consent_transcript_refuse_consent": "You have chosen not to provide consent for this call to be recorded.",
+        "fcc_consent_prompt_agent_transfer": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_agent_transfer.wav",
+        "fcc_consent_transcript_agent_transfer": "Please hold while we transfer you to an agent.",
+        "fcc_consent_prompt_identity": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_identity.wav",
+        "fcc_consent_transcript_identity": "Can you please verify your identity for this call?",
+        "fcc_consent_prompt_repeat": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_repeat.wav",
+        "fcc_consent_transcript_repeat": "Could you please repeat that?",
+        "fcc_consent_prompt_unknown": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_unknown.wav",
+        "fcc_consent_transcript_unknown": "I didn''t understand that. Can you try again?",
+        "fcc_consent_prompt_cease_desist": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_cease_desist.wav",
+        "fcc_consent_transcript_cease_desist": "We will cease communication as per your request. Thank you."
+    }
+}' where flow_id = 517;

# 2024-12-10 15:31:17.771229
+\c fsm_service

# 2024-12-10 15:31:19.119668
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "on_call_ai_consent_required": "true",
+        "action_in_case_of_consent_refusal": "TRANSFER",
+        "consent_required_for_ib_calls": "true",
+        "fcc_consent_prompt_confirm": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_confirm.wav",
+        "fcc_consent_transcript_confirm": "Do you confirm your consent for this call to be recorded?",
+        "fcc_consent_prompt_refuse_consent": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_refuse_consent.wav",
+        "fcc_consent_transcript_refuse_consent": "You have chosen not to provide consent for this call to be recorded.",
+        "fcc_consent_prompt_agent_transfer": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_agent_transfer.wav",
+        "fcc_consent_transcript_agent_transfer": "Please hold while we transfer you to an agent.",
+        "fcc_consent_prompt_identity": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_identity.wav",
+        "fcc_consent_transcript_identity": "Can you please verify your identity for this call?",
+        "fcc_consent_prompt_repeat": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_repeat.wav",
+        "fcc_consent_transcript_repeat": "Could you please repeat that?",
+        "fcc_consent_prompt_unknown": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_unknown.wav",
+        "fcc_consent_transcript_unknown": "I didn''t understand that. Can you try again?",
+        "fcc_consent_prompt_cease_desist": "https://us-production-turn-responses.s3.us-east-1.amazonaws.com/sheldon/7b1cdd37-810c-4c42-bfad-3d0aba6b8050/0_0_1/en-US/FCC_cease_desist.wav",
+        "fcc_consent_transcript_cease_desist": "We will cease communication as per your request. Thank you."
+    }
+}' where flow_id = 517;

# 2024-12-10 17:53:15.641605
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+
+        "on_call_ai_consent_required": "true",
+        "action_in_case_of_consent_refusal": "TRANSFER",
+        "consent_required_for_ib_calls": "true",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say 'yes' if you would like to move forward with our artificial voice agent for this call."
+    }
+}' where flow_id = 517;

# 2024-12-10 17:53:42.713512
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+
+        "on_call_ai_consent_required": "true",
+        "action_in_case_of_consent_refusal": "TRANSFER",
+        "consent_required_for_ib_calls": "true",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call."
+    }
+}' where flow_id = 517;

# 2024-12-10 17:54:16.420306
+select clients.uuid, flows.uuid from flows inner join clients on clients.id = flows.client_id where flows.id = 100;

# 2024-12-10 18:22:18.939197
+select clients.uuid, flows.uuid from flows inner join clients on clients.id = flows.client_id where flows.id = 517;

# 2024-12-10 18:24:07.644269
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-12-10 18:36:05.078703
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+
+        "on_call_ai_consent_required": "true",
+        "action_in_case_of_consent_refusal": "HANGUP",
+        "consent_required_for_ib_calls": "true",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call."
+    }
+}' where flow_id = 517;

# 2024-12-10 18:45:36.303329
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2024-12-12 16:50:20.022209
+\c fsm_service

# 2024-12-12 16:54:12.293072
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "deepgram_model": "nova-2",
+        "deepgram_language": "multi",
+
+        "on_call_ai_consent_required": "false",
+        "action_in_case_of_consent_refusal": "HANGUP",
+        "consent_required_for_ib_calls": "false",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call."
+    }
+}' where flow_id = 517;

# 2024-12-13 17:43:13.566402
+select clients.uuid, flows.uuid from flows inner join clients on clients.id = flows.client_id where flows.id = 517;

# 2024-12-13 17:43:30.087390
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517 and version = '0.0.1';

# 2024-12-13 17:43:37.395311
+select CONVERT_FROM(api_spec, 'utf8') from flow_configs where flow_id = 517; \o api_spec.json

# 2024-12-13 17:50:55.744933
+\c orchestrator_service

# 2024-12-13 18:03:14.879991
+select * from virtual_numbers;

# 2024-12-13 18:03:16.306271
+select * from virtual_number;

# 2025-01-06 16:24:29.698008
+\c orchestrator_service

# 2025-01-06 16:24:34.462606
+\d

# 2025-01-06 16:24:49.067807
+select * from interactions;

# 2025-01-06 16:25:00.133742
+\d

# 2025-01-06 16:25:14.041590
+select * from integrations;

# 2025-01-06 16:25:35.710835
+delete from integrations;

# 2025-01-06 16:25:39.099329
+\d

# 2025-01-06 16:26:28.332958
+\c orchestrator_service

# 2025-01-06 16:26:33.068465
+select * from integrations;

# 2025-01-06 16:26:35.237791
+\c orchestrator_service

# 2025-01-06 16:26:43.321786
+\d

# 2025-01-06 16:26:55.805028
+select * from integrations_id_seq;

# 2025-01-06 16:27:05.225215
+delete from integrations_id_seq;

# 2025-01-06 16:27:23.857746
+select * from assistants;

# 2025-01-06 16:27:40.283826
+select * from assistant_configs;

# 2025-01-06 16:28:14.131377
+\c orchestrator_service

# 2025-01-06 16:28:16.065055
+select * from assistant_configs;

# 2025-01-06 16:28:29.053249
+\d

# 2025-01-06 16:28:44.012126
+select * from flow_configs;

# 2025-01-06 16:28:59.697675
+select * from flow_configs where assistant_id = 3;

# 2025-01-06 16:29:19.260914
+select * from flow_changes;

# 2025-01-06 16:29:25.125890
+\d

# 2025-01-06 16:29:39.414277
+\d provider_configs;

# 2025-01-06 16:29:46.184696
+select * from provider_configs;

# 2025-01-06 18:15:38.783166
+\c orchestrator_service

# 2025-01-06 18:15:41.793853
+drop database orchestrator_service with (force);

# 2025-01-06 18:15:47.620701
+\c pos

# 2025-01-06 18:15:49.559712
+\c postgres

# 2025-01-06 18:15:50.982157
+drop database orchestrator_service with (force);

# 2025-01-06 18:16:07.218275
+create database orchestrator_service;

# 2025-01-06 18:28:24.412391
+\c orchestrator_service

# 2025-01-06 18:28:26.844822
+select * from provider_configs;

# 2025-01-07 18:59:33.881150
+\c fsm_service

# 2025-01-07 18:59:51.998138
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_turbo_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "deepgram_model": "nova-2",
+        "deepgram_language": "en",
+
+        "on_call_ai_consent_required": "false",
+        "action_in_case_of_consent_refusal": "HANGUP",
+        "consent_required_for_ib_calls": "false",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call."
+    }
+}' where flow_id = 517;

# 2025-01-08 13:42:08.932307
+\c orchestrator_service

# 2025-01-08 13:42:12.291518
+select * from interactions;

# 2025-01-08 13:42:19.617491
+select * from interactions order by id desc limit 1;

# 2025-01-08 13:42:25.392521
+select interaction_metadata from interactions order by id desc limit 1;

# 2025-01-08 13:42:32.229286
+select interaction_metadata->>'audio_url' from interactions order by id desc limit 1;

# 2025-01-08 18:09:58.055240
+create database url_shortener;

# 2025-01-09 13:32:44.092552
+\c orchestrator_service

# 2025-01-09 13:33:00.616797
+select text from interaction_conversations;

# 2025-01-09 13:33:03.862399
+select * from interaction_conversations;

# 2025-01-09 13:33:12.781582
+select message from interaction_conversations;

# 2025-01-09 13:33:37.690362
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-01-09 15:45:20.857477
+\c orchestrator_service

# 2025-01-09 15:45:21.878765
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-01-09 16:02:11.631659
+select * from flow_configs;

# 2025-01-09 17:33:11.064857
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-01-09 17:33:45.323663
+\d interaction_conversations;

# 2025-01-09 17:33:51.875697
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-01-15 15:15:14.802239
+\c orchestrator_service

# 2025-01-15 15:15:18.245974
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-01-15 15:15:25.102067
+\d accounts

# 2025-01-15 15:15:32.606701
+select * from accounts;

# 2025-01-21 02:20:11.697546
+\c orchestrator_service

# 2025-01-21 02:20:14.652761
+\d

# 2025-01-21 02:20:22.102864
+select * from flow_configs;

# 2025-01-21 02:20:31.281646
+select * from flow_configs where id = 6;

# 2025-01-21 14:22:09.343832
+\c fsm_service

# 2025-01-21 14:22:28.283963
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_flash_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "deepgram_model": "nova-2",
+        "deepgram_language": "en",
+
+        "on_call_ai_consent_required": "false",
+        "action_in_case_of_consent_refusal": "HANGUP",
+        "consent_required_for_ib_calls": "false",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call."
+    }
+}' where flow_id = 517;

# 2025-01-21 16:10:55.098371
+\c orchestrator_service

# 2025-01-21 16:11:01.300053
+select * from assistant_configs;

# 2025-01-21 16:11:05.815109
+select * from assistants;

# 2025-01-21 16:11:23.758083
+select * from virtual_number;

# 2025-01-21 16:11:29.411094
+select * from assistants;

# 2025-01-21 16:11:33.874509
+select * from assistants where id =3;

# 2025-01-21 16:11:42.506993
+\d

# 2025-01-21 16:19:36.044067
+select * from flow_configs where assistant_id = 3;

# 2025-01-22 15:04:11.235166
+\c orchestrator_service

# 2025-01-22 15:04:17.064982
+\d interactions

# 2025-01-27 13:44:12.001969
+\c fsm_service

# 2025-01-27 13:44:13.018624
+\d

# 2025-01-27 13:45:06.789646
+WITH parent_columns AS (
+    SELECT
+        c.oid AS parent_oid,
+        c.relname AS parent_table,
+        a.attname AS column_name,
+        a.attgenerated
+    FROM pg_class c
+    JOIN pg_attribute a ON c.oid = a.attrelid
+    WHERE c.relkind IN ('p', 'r') -- Partitioned tables and regular tables
+    AND a.attgenerated <> ''
+),
+child_columns AS (
+    SELECT
+        c.oid AS child_oid,
+        c.relname AS child_table,
+        a.attname AS column_name,
+        a.attgenerated
+    FROM pg_class c
+    JOIN pg_attribute a ON c.oid = a.attrelid
+    WHERE c.relkind = 'r' -- Regular tables (child tables)
+    AND a.attgenerated <> ''
+)
+SELECT p.parent_table, p.column_name, p.attgenerated AS parent_gen_type,
+       c.child_table, c.attgenerated AS child_gen_type
+FROM parent_columns p
+JOIN child_columns c ON p.column_name = c.column_name
+WHERE p.attgenerated <> c.attgenerated;
+

# 2025-01-28 16:45:46.918022
+\c fsm_service

# 2025-01-28 16:45:51.891695
+select * from virtual_number;

# 2025-01-28 16:45:54.004361
+select * from virtual_numbers;

# 2025-01-28 16:46:30.000815
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-01-28 16:46:44.794800
+select id from calls order by id desc 1;

# 2025-01-28 16:46:48.803787
+select id from calls order by id desc limit 1;

# 2025-01-28 16:46:59.120800
+select metadata from (!!);

# 2025-01-28 16:47:29.153961
+select metadata from call_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-01-28 16:56:36.380499
+select id from calls order by id desc limit 1;

# 2025-01-28 18:32:28.946361
+\c orchestrator_service

# 2025-01-28 18:32:33.698538
+select uuid from assistantsl

# 2025-01-28 18:32:34.802633
+select uuid from assistants;

# 2025-01-28 18:34:06.242594
+\c fsm_service

# 2025-01-28 18:34:11.436482
+select id from calls order by id desc limit 1;

# 2025-01-28 18:34:21.067238
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-01-28 18:34:24.349196
+select id from calls order by id desc limit 1;

# 2025-01-28 18:34:26.574816
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-01-30 18:48:05.177882
+\c fsm_service

# 2025-01-30 18:48:36.400080
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-01-30 18:48:41.168332
+select id from calls order by id desc limit 1;

# 2025-01-30 18:48:46.435396
+select metadata from call_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-01-30 18:49:14.672019
+select metadata from call_contexts order by id desc limit 1;

# 2025-01-30 18:49:20.945545
+select metadata from live_contexts order by id desc limit 1;

# 2025-01-30 18:49:26.885613
+select created_at, metadata from live_contexts order by id desc limit 1;

# 2025-01-30 18:49:47.799871
+select metadata from call_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-01-30 18:49:52.649798
+select metadata from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-01-30 18:50:17.486349
+select metadata->>'call_uuid' from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-01-30 18:50:25.324725
+select metadata from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-01-31 17:43:44.791039
+\c orchestrator_service

# 2025-01-31 17:43:54.177793
+select uuid from interactions order by id desc;

# 2025-01-31 17:44:00.058742
+select uuid from interactions order by id desc limit 1;

# 2025-01-31 17:45:33.121079
+select uuid, metadata from interactions order by id desc limit 1;

# 2025-01-31 17:45:39.952796
+select uuid, interaction_metadata from interactions order by id desc limit 1;

# 2025-01-31 17:45:55.739965
+select uuid, interaction_metadata->>'vendor_call_id' from interactions order by id desc limit 1;

# 2025-01-31 17:46:04.656679
+select uuid, vendor_call_id from interactions order by id desc limit 1;

# 2025-01-31 17:46:17.545615
+select uuid, interaction_metadata from interactions order by id desc limit 1;

# 2025-01-31 17:46:28.331742
+\x

# 2025-01-31 17:46:29.773801
+select uuid, interaction_metadata from interactions order by id desc limit 1;

# 2025-01-31 18:26:05.212545
+select uuid, vendor_call_id from interactions order by id desc limit 1;

# 2025-01-31 18:52:21.644240
+select uuid, meta vendor_call_id from interactions order by id desc limit 1;

# 2025-01-31 18:52:32.253739
+select uuid, interaction_metadata->>'is_transfer', vendor_call_id from interactions order by id desc limit 1;

# 2025-01-31 20:11:48.137535
+\c orchestrator_service

# 2025-01-31 20:11:49.861014
+select uuid, interaction_metadata->>'is_transfer', vendor_call_id from interactions order by id desc limit 1;

# 2025-01-31 20:11:56.261179
+select uuid, interaction_metadata from interactions order by id desc limit 1;

# 2025-01-31 20:12:05.478759
+\x

# 2025-01-31 20:12:16.638030
+select uuid, interaction_metadata->>'is_transfer', interaction_metadata->>'HELLO' vendor_call_id from interactions order by id desc limit 1;

# 2025-01-31 20:12:21.178146
+select uuid, interaction_metadata->>'is_transfer', interaction_metadata->>'HELLO', vendor_call_id from interactions order by id desc limit 1;

# 2025-02-03 15:48:38.440212
+\c orchestrator_service

# 2025-02-03 15:48:45.732901
+\d assistants

# 2025-02-03 15:48:50.778206
+\d assistant_configs

# 2025-02-03 15:49:14.809610
+select post_call_config from assistant_configs

# 2025-02-03 15:50:07.517935
+select post_call_config->>summary_prompt_checkpoints from assistant_configs

# 2025-02-03 15:50:34.207254
+\d assistant_configs

# 2025-02-03 15:50:36.536251
+\x

# 2025-02-03 15:50:37.591585
+\d assistant_configs

# 2025-02-03 15:51:30.246472
+\x

# 2025-02-03 15:51:32.949532
+\d assistant_configs

# 2025-02-03 15:51:44.032335
+\x

# 2025-02-03 15:51:45.354711
+\d assistant_configs

# 2025-02-03 15:52:01.466846
+\d assistant_configs.post_call_config

# 2025-02-03 15:52:10.034162
+\d assistant_configs post_call_config

# 2025-02-03 15:54:58.711387
+select post_call_config->>summary_prompt_checkpoints from assistant_configs

# 2025-02-03 15:55:02.562684
+select post_call_config->summary_prompt_checkpoints from assistant_configs

# 2025-02-03 15:55:05.697812
+select post_call_config.summary_prompt_checkpoints from assistant_configs

# 2025-02-03 15:55:10.785696
+select post_call_configs.summary_prompt_checkpoints from assistant_configs

# 2025-02-03 15:55:15.615776
+select post_call_configs from assistant_configs

# 2025-02-03 15:55:18.147905
+select post_call_config from assistant_configs

# 2025-02-03 15:55:35.156510
+select post_call_config::json->>'summary_prompt_checkpoints' from assistant_configs

# 2025-02-03 15:55:37.470482
+\x

# 2025-02-03 15:55:39.077292
+select post_call_config::json->>'summary_prompt_checkpoints' from assistant_configs

# 2025-02-03 15:56:11.261390
+ls

# 2025-02-03 15:56:13.507395
+\d

# 2025-02-03 15:56:17.008067
+claer

# 2025-02-03 15:56:18.047351
+clear

# 2025-02-03 15:56:19.247071
+c

# 2025-02-03 16:07:01.447345
+SELECT id, post_call_config::jsonb->>'summary_prompt_checkpoints'
+FROM assistant_configs
+WHERE post_call_config::jsonb->>'summary_prompt_checkpoints' = '';
+

# 2025-02-03 16:07:05.495219
+UPDATE assistant_configs
+SET post_call_config = jsonb_set(post_call_config::jsonb, '{summary_prompt_checkpoints}', '[]')
+WHERE post_call_config::jsonb->>'summary_prompt_checkpoints' = '';
+

# 2025-02-03 16:07:11.992646
+SELECT id, post_call_config::jsonb->>'summary_prompt_checkpoints'
+FROM assistant_configs
+WHERE post_call_config::jsonb->>'summary_prompt_checkpoints' = '';
+

# 2025-02-03 16:07:24.527058
+SELECT post_call_config::json->>'summary_prompt_checkpoints' FROM assistant_configs;
+

# 2025-02-03 16:07:29.533710
+\c orchestrator_service

# 2025-02-03 16:11:46.661080
+select uuid, interaction_metadata->>'is_transfer', interaction_metadata->>'HELLO', vendor_call_id from interactions order by id desc limit 1;

# 2025-02-03 16:12:19.616859
+select interaction_metadata->>'is_transfer' from interactions;

# 2025-02-03 16:12:33.837155
+select interaction_metadata->>'is_transfer' from interactions where vendor_call_id = 'q_apf_uKDQOxwXMtaxUfTw..';

# 2025-02-03 16:12:39.429664
+select interaction_metadata from interactions where vendor_call_id = 'q_apf_uKDQOxwXMtaxUfTw..';

# 2025-02-03 16:12:41.622911
+\x

# 2025-02-03 16:12:42.614393
+select interaction_metadata from interactions where vendor_call_id = 'q_apf_uKDQOxwXMtaxUfTw..';

# 2025-02-03 16:17:16.406019
+select interaction_metadata from interactions order by id desc limit 1;

# 2025-02-04 15:07:59.221731
+\c fsm_service

# 2025-02-04 15:08:03.383406
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-02-04 15:08:05.391049
+\x

# 2025-02-04 15:08:06.775456
+select text from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-02-04 15:08:12.977737
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-02-04 15:08:25.574316
+select metadata from conversations where call_id = (select id from calls order by id desc limit 1) and type != 'RECORD';

# 2025-02-04 15:08:30.010336
+select text from conversations where call_id = (select id from calls order by id desc limit 1) and type != 'RECORD';

# 2025-02-04 15:08:41.695852
+select text from conversations where call_id = (select id from calls order by id desc limit 1) and conversation.type != 'RESPONSE';

# 2025-02-04 15:08:46.497388
+select text from conversations where call_id = (select id from calls order by id desc limit 1) and conversations.type != 'RESPONSE';

# 2025-02-04 15:08:58.385431
+select text from conversations where call_id = (select id from calls order by id desc limit 1) and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 15:09:04.263378
+select text, metadata from conversations where call_id = (select id from calls order by id desc limit 1) and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 15:09:59.159871
+select type, text, metadata from conversations where call_id = (select id from calls order by id desc limit 1) and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 15:52:25.413115
+select type, text, metadata from conversations where call_id = (select id from calls order by id desc limit 1);# and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 15:52:31.146382
+select type, text, metadata from conversations where call_id = (select id from calls order by id desc limit 1);-- and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:03:10.488355
+select metadata from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-02-04 16:03:21.875716
+select metadata->>'caller_details' from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-02-04 16:03:28.971962
+select type, text, metadata from conversations where call_id = (select id from calls order by id desc limit 1) and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:04:12.668798
+select metadata->>'caller_details' from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-02-04 16:12:01.666507
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_flash_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "deepgram_model": "nova-2",
+        "deepgram_language": "en",
+
+        "on_call_ai_consent_required": "false",
+        "action_in_case_of_consent_refusal": "HANGUP",
+        "consent_required_for_ib_calls": "false",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call."
+    }
+}' where flow_id = 517;

# 2025-02-04 16:16:00.296142
+update meta_data_caches set metadata='{"caller_details": {"DOB": "1990-03-18", "ZIP": "12345", "Zip": "12345", "City": "GARY", "PDOB": "1998-10-18", "SSN#": "", "Error": "", "State": "IN", "auth_1": "Zip", "auth_2": "DOB", "auth_3": "last_4_digits_of_SSN", "Account": "119202463", "I Score": "527", "dispute": "hangup", "Due Date": "2024-07-13", "attorney": "hangup", "deceased": "hangup", "Child DOB": "", "Child ZIP": "", "Debt Date": "2024-01-01", "Is Valid?": "false", "Last Name": "Crisler", "Lead UUID": "", "auth_type": "Authentication", "last_name": "Crisler", "pay_later": "hangup", "Cell Phone": "9171247839", "Child City": "", "Child PDOB": "", "Child SSN#": "", "Due Amount": "216.0", "First Name": "Diego", "Home Phone": "", "due_amount": "300.0", "first_name": "Diego", "Child State": "", "Medal Score": "2", "No Contacts": "18", "refuse_auth": "hangup", "right_party": "bot", "wrong_party": "hangup", "Service Date": "", "already_paid": "hangup", "auth_methods": "[''Zip'']", "cease_desist": "hangup", "mini_miranda": "True", "type_of_debt": "Auto loan", "user_address": "1148 CONNECTICUT ST GARY IN", "Campaign Type": "Normal Campaign", "Child I Score": "", "Creditor Name": "SO Capital", "Next Due Date": "", "Past Due Date": "2022-11-15", "agree_payment": "bot", "auth_required": "True", "caller_number": "+19171247839", "no_auth_steps": "1", "Address Line 1": "1148 CONNECTICUT ST", "Address Line 2": "", "minimum amount": "50", "refuse_payment": "hangup", "Child Debt Date": "", "Child Last Name": "", "Customer Number": "ZC05066", "Negotiation One": "-", "Negotiation Six": "-", "Negotiation Two": "-", "Next Amount Due": "0", "Past Due Amount": "216", "offline_payment": "No", "product_details": "Kia Sonet", "Child Cell Phone": "", "Child Due Amount": "", "Child First Name": "", "Child Home Phone": "", "Negotiation Five": "-", "Negotiation Four": "", "Child Medal Score": "", "Child No Contacts": "", "Child Unnamed: 12": "", "Last Contact Date": "2024-05-12", "Negotiation Three": "-", "Settlement Amount": "", "grace_period_date": "2024-07-25", "Child Service Date": "", "Negotiation medium": "On voice-agent", "minimum_acceptable": "50", "type_of_collection": "Recurring", "Child Creditor Name": "", "Child Next Due Date": "", "Child Past Due Date": "", "Child Address Line 1": "", "Child Address Line 2": "", "Child minimum amount": "", "Original debt amount": "216", "last_4_digits_of_SSN": "3456", "pay_later_valid_date": "2024-07-31", "Child Customer Number": "", "Child Next Amount Due": "", "Child Past Due Amount": "", "Child Last Contact Date": "", "Child Settlement Amount": "", "already_paid_valid_date": "2024-06-25", "Child Original debt amount": "", "last_4_digits_phone_number": "2196807416", "action_in_case_of_no_datapoints": "hangup"}}';

# 2025-02-04 16:16:10.141354
+select type, text, metadata from conversations where call_id = (select id from calls order by id desc limit 1) and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:21:45.397474
+select type, text, metadata from conversations where call_id = (select id from calls order by id desc limit 1); -- and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:21:57.610881
+select type, text, metadata->>'context' from conversations where call_id = (select id from calls order by id desc limit 1); -- and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:22:03.975716
+select type, text, metadata->>'request' from conversations where call_id = (select id from calls order by id desc limit 1); -- and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:22:13.653568
+select type, text, metadata->'request'->>'input_text' from conversations where call_id = (select id from calls order by id desc limit 1); -- and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:22:19.101449
+select type, metadata->'request'->>'input_text' from conversations where call_id = (select id from calls order by id desc limit 1); -- and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:22:54.473979
+\c fsm_service

# 2025-02-04 16:23:14.504006
+select text, metadata->'request'->>'input_text' from conversations where call_id = (select id from calls order by id desc limit 1); -- and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:26:21.886938
+select metadata from meta_data_caches order by id desc limit 1;

# 2025-02-04 16:26:38.030957
+select metadata->>'cease_desist' from meta_data_caches order by id desc limit 1;

# 2025-02-04 16:26:43.918111
+select metadata->'caller_details'->>'cease_desist' from meta_data_caches order by id desc limit 1;

# 2025-02-04 16:26:58.267088
+\x

# 2025-02-04 16:26:59.126479
+select metadata->'caller_details'->>'cease_desist' from meta_data_caches order by id desc limit 1;

# 2025-02-04 16:27:04.952724
+select metadata from meta_data_caches order by id desc limit 1;

# 2025-02-04 16:27:26.043073
+select metadata from meta_data_caches order by id desc limit 1; \o metadata.json

# 2025-02-04 16:28:48.065655
+update meta_data_caches set metadata='{
+    "caller_details": {
+        "DOB": "1994-02-17",
+        "ZIP": "L3R 8F6",
+        "Zip": "L3R 8F6",
+        "City": "Markham",
+        "SSN#": "6256",
+        "Email": "ABC 123",
+        "Error": "",
+        "State": "Ontario",
+        "auth_1": "Zip",
+        "auth_2": "DOB",
+        "auth_3": "last_4_digits_of_SSN",
+        "Account": "023287654349",
+        "Address": "north side, 60",
+        "dispute": "transfer",
+        "attorney": "transfer",
+        "deceased": "hangup",
+        "Child DOB": "",
+        "Child ZIP": "",
+        "Is Valid?": "false",
+        "Last Name": "Smith",
+        "Lead UUID": "",
+        "auth_type": "Authentication",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "last_name": "Prez ",
+        "pay_later": "transfer",
+        "Cell Phone": "+19179858799",
+        "Child City": "",
+        "Child SSN#": "",
+        "Due Amount": "2400",
+        "First Name": "David",
+        "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d",
+        "due_amount": "2400",
+        "first_name": "Juan ",
+        "Child Email": "",
+        "Child State": "",
+        "refuse_auth": "transfer",
+        "right_party": "bot",
+        "wrong_party": "hangup",
+        "Service Date": "1999-03-03",
+        "already_paid": "transfer",
+        "auth_methods": "[ ''DOB'' ]",
+        "cease_desist": "hangup",
+        "first_option": "3 months",
+        "mini_miranda": "False",
+        "third_option": "When can you pay",
+        "user_address": "Markham, Ontario L3R 8F6, Canada",
+        "Campaign Type": "Normal Campaign",
+        "Child Address": "",
+        "Creditor Name": "Test collection agency",
+        "agree_payment": "bot",
+        "auth_required": "True",
+        "caller_number": "+19179858799",
+        "no_auth_steps": "1",
+        "second_option": "4 months",
+        "Address Line 1": "Centurian Dr 2nd floor",
+        "minimum amount": "6",
+        "refuse_payment": "transfer",
+        "Child Last Name": "",
+        "Customer Number": "873434",
+        "Empathetic Flow": "Disable",
+        "Negotiation One": "3 Months",
+        "Negotiation Six": "-",
+        "Negotiation Two": "6 Months",
+        "offline_payment": "No",
+        "Child Cell Phone": "",
+        "Child Due Amount": "",
+        "Child First Name": "",
+        "Negotiation Five": "-",
+        "Negotiation Four": "-",
+        "Negotiation Three": "When can you pay",
+        "Settlement Amount": "60",
+        "Child Service Date": "",
+        "Negotiation medium": "On voice-agent",
+        "minimum_acceptable": "6",
+        "settlement percent": "25",
+        "Child Creditor Name": "",
+        "Child Address Line 1": "",
+        "Child minimum amount": "",
+        "last_4_digits_of_SSN": "6256",
+        "Child Customer Number": "",
+        "Transfer Phone Number": "7042252851",
+        "Child Settlement Amount": "",
+        "Child settlement percent": "",
+        "action_agent_unavailable": "Hangup",
+        "last_4_digits_phone_number": "+19179859060",
+        "Child Transfer Phone Number": "",
+        "action_in_case_of_no_datapoints": "Transfer"
+    }
+}';

# 2025-02-04 16:29:10.500402
+\x

# 2025-02-04 16:29:13.818843
+select metadata->'caller_details'->>'cease_desist' from meta_data_caches order by id desc limit 1;

# 2025-02-04 16:29:23.444237
+select metadata->'caller_details'->>'cease_desist' from meta_data_caches;

# 2025-02-04 16:29:25.185046
+\x

# 2025-02-04 16:29:29.247236
+\c fsm_service

# 2025-02-04 16:29:31.652617
+select metadata->'caller_details'->>'cease_desist' from meta_data_caches;

# 2025-02-04 16:29:38.425578
+select text, metadata->'request'->>'input_text' from conversations where call_id = (select id from calls order by id desc limit 1); -- and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:34:05.515547
+select text, metadata from conversations where call_id = (select id from calls order by id desc limit 1) and conversations.type not in ('RESPONSE', 'INPUT');

# 2025-02-04 16:34:27.951957
+select text, metadata from conversations where call_id = (select id from calls order by id desc limit 1); \o payment_workflow.json

# 2025-02-04 16:35:06.033253
+\x

# 2025-02-04 16:35:07.914353
+select text, metadata from conversations where call_id = (select id from calls order by id desc limit 1); \o payment_workflow.json

# 2025-02-04 16:38:57.784433
+\x

# 2025-02-04 16:53:01.504993
+select * from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-02-04 16:53:06.396459
+\c fsm_service

# 2025-02-04 16:53:07.291980
+select * from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-02-04 19:12:18.320060
+\c orchestrator_service

# 2025-02-04 19:23:01.563804
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-05 14:27:28.631623
+select * from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-05 14:27:45.941610
+\x

# 2025-02-05 14:29:44.786458
+select * from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-05 14:33:52.450212
+select * from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \o pipecat_redacted.txt

# 2025-02-05 17:35:13.042146
+\c orchestrator_service

# 2025-02-05 17:35:16.143403
+select * from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-06 18:39:36.056603
+select text from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-06 18:39:41.997161
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-06 20:57:17.243651
+select interaction_metadata from interactions order by id desc limit 1;

# 2025-02-06 20:57:30.796603
+select interaction_metadata->>'call_type' from interactions order by id desc;

# 2025-02-06 20:57:46.569382
+select created_at, interaction_metadata->>'call_type' from interactions order by id desc;

# 2025-02-06 20:58:22.278539
+select updated_at, interaction_metadata->>'call_type' from interactions order by id desc;

# 2025-02-06 21:01:35.251828
+select created_at, interaction_metadata->>'call_type' from interactions order by id desc limit 10;

# 2025-02-06 21:01:39.391833
+select created_at, interaction_metadata->>'call_type' from interactions order by id desc limit 100;

# 2025-02-06 21:01:41.951869
+select created_at, interaction_metadata->>'call_type' from interactions order by id desc limit 10;

# 2025-02-12 16:31:45.776926
+\c orchestrator_service

# 2025-02-12 16:32:00.114339
+select interaction_metadata from interactions where vendor_call_id = 'q_apf_uKDQOxwXMtaxUfTw..';

# 2025-02-12 19:03:56.229938
+\c orchestrator_service

# 2025-02-12 19:03:58.409402
+select text from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-12 19:04:03.228631
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-12 19:15:40.668845
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1) order by id;

# 2025-02-13 13:53:20.875513
+\c orchestrator_service

# 2025-02-13 13:53:22.017491
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1) order by id;

# 2025-02-18 16:28:30.540178
+\c orchestrator_service

# 2025-02-18 19:23:10.405947
+select interaction_metadata from interactions where vendor_call_id = 'q_apf_uKDQOxwXMtaxUfTw..';

# 2025-02-19 19:18:15.290251
+\c fsm_service

# 2025-02-19 19:19:28.158045
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_flash_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "deepgram_model": "nova-2",
+        "deepgram_language": "en",
+
+        "on_call_ai_consent_required": "false",
+        "action_in_case_of_consent_refusal": "HANGUP",
+        "consent_required_for_ib_calls": "false",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call.",
+        "transfer_extension": "9040468489"
+        "transfer_ip": "127.0.0.1",
+        "transfer_port": "5060",
+        "transfer_metadata.hello": "world",
+    }
+}' where flow_id = 517;

# 2025-02-19 19:19:39.231036
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_flash_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "deepgram_model": "nova-2",
+        "deepgram_language": "en",
+
+        "on_call_ai_consent_required": "false",
+        "action_in_case_of_consent_refusal": "HANGUP",
+        "consent_required_for_ib_calls": "false",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call.",
+        "transfer_extension": "9040468489",
+        "transfer_ip": "127.0.0.1",
+        "transfer_port": "5060",
+        "transfer_metadata.hello": "world",
+    }
+}' where flow_id = 517;

# 2025-02-19 19:19:47.559627
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_flash_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "deepgram_model": "nova-2",
+        "deepgram_language": "en",
+
+        "on_call_ai_consent_required": "false",
+        "action_in_case_of_consent_refusal": "HANGUP",
+        "consent_required_for_ib_calls": "false",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call.",
+        "transfer_extension": "9040468489",
+        "transfer_ip": "127.0.0.1",
+        "transfer_port": "5060",
+        "transfer_metadata.hello": "world"
+    }
+}' where flow_id = 517;

# 2025-02-19 21:31:26.220914
+\c orchestrator_service

# 2025-02-19 21:31:31.682737
+\d interaction_conversations

# 2025-02-19 21:31:42.130051
+select * from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-19 21:31:46.763725
+select * from interaction_conversations #where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-19 21:31:50.864683
+select * from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-19 21:32:02.192527
+select * from interaction_conversations;

# 2025-02-20 16:22:58.087251
+\c orchestrator_service

# 2025-02-20 16:23:02.886649
+\d interaction_conversations

# 2025-02-20 16:23:27.502645
+select * from interaction_conversations;

# 2025-02-20 16:23:35.445008
+select * from interaction_conversations order by id desc limit 1;

# 2025-02-21 18:21:17.863116
+\c orchestrator_service

# 2025-02-21 18:21:21.908223
+select text from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-21 18:21:25.989980
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-21 22:45:45.036962
+\c fsm_service

# 2025-02-21 22:45:55.404898
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517 and version = '0.0.1';

# 2025-02-21 22:47:05.873764
+\c fsm_service

# 2025-02-21 22:47:08.962174
+select flows.uuid, api_spec from flow_configs inner join flows on flows.id = flow_configs.flow_id where flow_id = 517 and version = '0.0.1';

# 2025-02-21 22:47:19.740238
+select clients.uuid, flows.uuid from flows inner join clients on clients.id = flows.client_id where flows.id = 517;

# 2025-02-21 22:47:41.328690
+select CONVERT_FROM(api_spec, 'utf8') from flow_configs where flow_id = 517;

# 2025-02-26 19:15:36.213727
+\c orchestrator_service

# 2025-02-26 19:16:43.708986
+\d interactions

# 2025-02-26 19:26:11.362796
+\c orchestrator_service

# 2025-02-26 19:26:13.291680
+select text from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-02-26 19:26:15.230687
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-03-03 14:42:19.692792
+\c orchestrator_service

# 2025-03-03 14:42:23.546728
+\d assistant_configs

# 2025-03-03 15:58:12.345368
+\c orchestrator_service

# 2025-03-03 15:58:15.224010
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-03-03 17:55:30.714018
+\c orchestrator_service

# 2025-03-03 17:55:43.160220
+\d

# 2025-03-03 17:55:55.468695
+\d assistants

# 2025-03-03 17:56:03.125624
+\d assistant_configs

# 2025-03-03 17:56:22.467740
+\d voice_flow_config

# 2025-03-03 17:56:30.381476
+\d flow_configs

# 2025-03-03 19:55:06.978820
+select * from alembic_version where version_num='00909ea8b2d6'l

# 2025-03-03 19:55:08.078736
+select * from alembic_version where version_num='00909ea8b2d6'

# 2025-03-03 19:55:31.109486
+delete from alembic_version where version_num='00909ea8b2d6';

# 2025-03-03 19:56:48.544276
+delete from alembic_version;

# 2025-03-03 20:08:21.996734
+select * from alembic_version;

# 2025-03-03 20:10:23.052688
+\c orchestrator_service

# 2025-03-03 20:10:29.027600
+\d assistant_configs

# 2025-03-03 20:10:35.516752
+\d assistant_configs.runtime_config

# 2025-03-03 20:10:39.382549
+select * assistant_configs.runtime_config

# 2025-03-03 20:10:47.216172
+select runtime_config from  assistant_configs

# 2025-03-03 20:10:56.178594
+select runtime_config, * from  assistant_configs

# 2025-03-03 20:11:08.686171
+select name from assistants;

# 2025-03-03 20:11:12.944094
+select name, id from assistants;

# 2025-03-03 20:23:28.505178
+select runtime_config from  assistant_configs

# 2025-03-04 13:19:40.966707
+select runtime_config from  assistant_configs;

# 2025-03-04 13:19:44.947439
+select runtime_config from  assistant_configs limit 1;

# 2025-03-04 13:19:53.318659
+select runtime_config->>'voice_bot_config' from  assistant_configs limit 1;

# 2025-03-04 13:20:13.597983
+\c orchestrator_service

# 2025-03-04 16:39:58.474164
+select runtime_config->>'voice_bot_config' from  assistant_configs limit 1;

# 2025-03-04 16:40:07.045418
+select runtime_config->'voice_bot_config'->>'stt' from  assistant_configs limit 1;

# 2025-03-04 19:20:31.629578
+select * from alembic_version;

# 2025-03-04 19:22:19.416962
+delete from alembic_version;

# 2025-03-04 19:23:53.080780
+select * from alembic_version;

# 2025-03-04 19:24:09.388284
+INSERT INTO alembic_version (version_num) VALUES ('65d039297a30');

# 2025-03-04 19:24:13.099185
+select * from alembic_version;

# 2025-03-04 19:24:25.102885
+-- Check if the table exists
+SELECT EXISTS (
+    SELECT FROM information_schema.tables 
+    WHERE table_name = 'alembic_version'
+);
+
+-- If it doesn't exist, create it
+CREATE TABLE IF NOT EXISTS alembic_version (
+    version_num VARCHAR(32) NOT NULL,
+    CONSTRAINT alembic_version_pkc PRIMARY KEY (version_num)
+);

# 2025-03-04 19:24:39.059373
+select * from alembic_version;

# 2025-03-04 19:28:00.434536
+\c orchestrator_service

# 2025-03-04 19:28:02.178536
+delete from alembic_version;

# 2025-03-04 19:30:42.745440
+\d clients

# 2025-03-04 19:30:47.780365
+select * from clients;

# 2025-03-04 19:32:23.113613
+select * from alembic_version;

# 2025-03-05 19:33:09.573584
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-03-06 20:09:08.909841
+\c orchestrator_service

# 2025-03-06 20:09:11.606114
+\d assistant_configs

# 2025-03-06 20:09:41.005538
+select * from assistant_configs where (select id from assistants order by id desc limit 1);

# 2025-03-06 20:09:46.774647
+select * from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1);

# 2025-03-06 20:09:56.146008
+select variables from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1);

# 2025-03-06 20:10:06.843472
+select variables from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1) order by id desc limit 1;

# 2025-03-06 20:10:10.378210
+\x

# 2025-03-06 20:10:11.247982
+select variables from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1) order by id desc limit 1;

# 2025-03-06 20:11:01.497523
+select variables from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1) order by id desc limit 1; \o variables.json

# 2025-03-06 20:12:03.266560
+\c orchestrator_service

# 2025-03-06 20:12:08.047782
+\x

# 2025-03-06 20:12:09.917607
+select variables from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1) order by id desc limit 1; \o variables.json

# 2025-03-06 20:33:17.017572
+\c orchestrator_service

# 2025-03-06 20:33:19.541731
+\d assistant_configs

# 2025-03-06 20:33:48.107954
+select * from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1);

# 2025-03-06 20:35:13.243571
+\c orchestrator_service

# 2025-03-06 20:35:15.803775
+select * from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1);

# 2025-03-06 20:35:46.308535
+select * from assistant_configs inner join assistants on assistants.id = assistant_configs.id order by assistant_configs.assistant_id desc limt 1;

# 2025-03-06 20:35:49.275743
+select * from assistant_configs inner join assistants on assistants.id = assistant_configs.id order by assistant_configs.assistant_id desc limit 1;

# 2025-03-06 20:57:31.986312
+\c orchestrator_service

# 2025-03-06 20:57:36.513960
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-03-07 15:26:17.997899
+\c orchestrator_service

# 2025-03-07 16:21:16.181414
+select * from provider_configs;

# 2025-03-07 16:21:33.961614
+select * from virtual_numbers;

# 2025-03-07 16:21:36.591559
+select * from virtual_number;

# 2025-03-07 20:10:16.387373
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-03-10 14:51:36.168753
+\c orchestrator_service

# 2025-03-10 14:51:38.009126
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-03-10 16:40:28.075771
+\d interaction_conversations

# 2025-03-10 20:38:04.551789
+select draft_config_id from assistants;

# 2025-03-10 20:38:14.890938
+select draft_config_id, name from assistants;

# 2025-03-10 20:38:27.725491
+select draft_config_id, name, id from assistants;

# 2025-03-12 14:25:05.275275
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-03-12 14:25:08.372144
+select raw_message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-03-12 14:25:11.191318
+\d interaction_conversations

# 2025-03-12 18:06:25.177052
+select * from assistants;

# 2025-03-12 18:06:48.358134
+update assistants set assistant_type='JINJA' where id = 17;

# 2025-03-12 18:07:05.874453
+select id, name, assistant_type from assistants;

# 2025-03-12 19:19:29.215068
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-03-17 15:56:37.889612
+\c orchestrator_service

# 2025-03-17 15:56:45.612008
+update assistants set assistant_type='' where id = 17;

# 2025-03-17 15:57:36.192662
+\c orchestrator_service

# 2025-03-17 15:57:51.893799
+update assistants set assistant_type='STREAMING_PIPECAT' where id = 17;

# 2025-03-17 16:26:53.812274
+select * from assistants;

# 2025-03-17 16:27:09.563140
+update assistants set assistant_type='JINJA' where id = 18;

# 2025-03-19 18:17:40.911565
+\c orchestrator_service

# 2025-03-19 18:17:46.833758
+select languages from assistants;

# 2025-03-19 18:17:51.064295
+select id, languages from assistants;

# 2025-03-19 18:17:55.563665
+select id, languages from assistant_configs;

# 2025-03-19 18:18:00.474950
+select id, runtime_config from assistant_configs;

# 2025-03-19 18:19:37.851564
+update assistant_configs set runtime_config='{"is_omnichannel": false, "asr_config": [{"provider_id": 1, "language": "EN-US", "name": "DEEPGRAM", "model": "nova-2-general", "config": {"interim_results": true, "smart_format": false, "punctuate": false, "profanity_filter": false, "vad_events": false, "endpointing": 10, "endpointing_cutoff": 0.5}}], "tts_config": [{"provider_id": 4, "language": "EN-US", "name": "CARTESIA", "model": "sonic-2024-12-12", "config": {"add_timestamp": false, "voice_id": "f9836c6e-a0bd-460e-9d3c-f7299fa60f94", "speed": "-0.3"}}], "llm_config": null}';

# 2025-03-19 18:19:42.670647
+select id, runtime_config from assistant_configs;

# 2025-03-19 18:20:08.356742
+select * from language_provider_defaults;

# 2025-03-19 18:27:09.449313
+\c orchestrator_service

# 2025-03-19 18:27:11.398185
+select * from language_provider_defaults;

# 2025-03-19 18:27:15.191333
+select id, runtime_config from assistant_configs;

# 2025-03-19 18:27:32.721858
+select * from provider_configs;

# 2025-03-19 18:27:38.931621
+select * from runtime_providers;

# 2025-03-19 18:27:44.621686
+select id, name from runtime_providers;

# 2025-03-19 18:27:49.759090
+select id, name from, language runtime_providers;

# 2025-03-19 18:28:00.115070
+select id, name, language from runtime_providers;

# 2025-03-19 18:29:16.792240
+select * from language_provider_defaults;

# 2025-03-19 18:43:28.933301
+\c orchestrator_service

# 2025-03-19 18:43:33.964389
+select * from assistants;

# 2025-03-19 18:44:26.374132
+select * from assistants where id = 17;

# 2025-03-19 18:44:38.383220
+select draft_config_id from assistants where id = 17;

# 2025-03-19 18:45:01.733573
+select version from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-03-19 19:05:31.501566
+\c orchestrator_service

# 2025-03-19 19:05:35.464720
+select id, name, language from runtime_providers;

# 2025-03-19 19:05:40.464357
+select * from runtime_providers;

# 2025-03-20 02:06:23.720626
+select version from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-03-20 02:06:30.811185
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-03-20 02:57:29.647201
+\c orchestrator_service

# 2025-03-20 02:58:42.877199
+begin;

# 2025-03-20 02:58:56.778352
+-- Create a temporary mapping table
+CREATE TEMP TABLE language_mappings (
+    old_value VARCHAR(20),
+    new_value VARCHAR(20)
+);
+
+-- Insert the mappings with corrected values
+INSERT INTO language_mappings (old_value, new_value) VALUES 
+('en', 'en-US'),        -- Changed: Map 'en' to 'en-US'
+('es', 'es-US'),        -- Changed: Map 'es' to 'es-US'
+('EN-US', 'en-US'),     -- Format change only (case)
+('ES-US', 'es-US'),     -- Format change only (case)
+('EN-IN', 'en-IN');     -- Format change only (case)
+-- Add any other mappings you need
+
+-- 1. Update language_provider_defaults table (regular column)
+UPDATE language_provider_defaults
+SET language = (
+    SELECT new_value 
+    FROM language_mappings 
+    WHERE language_mappings.old_value = language_provider_defaults.language::text
+)
+WHERE language::text IN (SELECT old_value FROM language_mappings);
+
+-- 2. Update runtime_providers table (regular column)
+UPDATE runtime_providers
+SET language = (
+    SELECT new_value 
+    FROM language_mappings 
+    WHERE language_mappings.old_value = runtime_providers.language::text
+)
+WHERE language::text IN (SELECT old_value FROM language_mappings);
+
+-- 3. Update assistants table (array column) - this requires a different approach
+-- We'll use a PL/pgSQL function for this
+
+CREATE OR REPLACE FUNCTION update_language_array() RETURNS void AS $$
+DECLARE
+    assistant_record RECORD;
+    lang TEXT;
+    updated_langs TEXT[];
+    new_lang TEXT;
+BEGIN
+    FOR assistant_record IN SELECT id, languages FROM assistants
+    LOOP
+        updated_langs := ARRAY[]::TEXT[];
+        
+        -- Process each language in the array
+        FOREACH lang IN ARRAY assistant_record.languages
+        LOOP
+            -- Get the mapped value
+            SELECT new_value INTO new_lang
+            FROM language_mappings
+            WHERE old_value = lang::text;
+            
+            -- If no mapping found, keep the original
+            IF new_lang IS NULL THEN
+                new_lang := lang;
+            END IF;
+            
+            -- Add to the updated array
+            updated_langs := array_append(updated_langs, new_lang);
+        END LOOP;
+        
+        -- Update the record
+        UPDATE assistants
+        SET languages = updated_langs
+        WHERE id = assistant_record.id;
+    END LOOP;
+END;
+$$ LANGUAGE plpgsql;
+
+-- Execute the function
+SELECT update_language_array();
+
+-- Drop the function when done
+DROP FUNCTION update_language_array();
+
+-- Drop the temporary mapping table
+DROP TABLE language_mappings;

# 2025-03-20 02:59:18.308021
+-- Create a temporary mapping table
+CREATE TEMP TABLE language_mappings (
+    old_value VARCHAR(20),
+    new_value VARCHAR(20)
+);
+
+-- Insert the mappings with corrected values
+INSERT INTO language_mappings (old_value, new_value) VALUES
+('en', 'en-US'),        -- Changed: Map 'en' to 'en-US'
+('es', 'es-US'),        -- Changed: Map 'es' to 'es-US'
+('EN-US', 'en-US'),     -- Format change only (case)
+('ES-US', 'es-US'),     -- Format change only (case)
+('EN-IN', 'en-IN');     -- Format change only (case)
+-- Add any other mappings you need
+
+-- 1. Update language_provider_defaults table (regular column)
+UPDATE language_provider_defaults
+SET language = (
+    SELECT new_value
+    FROM language_mappings
+    WHERE language_mappings.old_value = language_provider_defaults.language::text
+)
+WHERE language::text IN (SELECT old_value FROM language_mappings);
+
+-- 2. Update runtime_providers table (regular column)
+UPDATE runtime_providers
+SET language = (
+    SELECT new_value
+    FROM language_mappings
+    WHERE language_mappings.old_value = runtime_providers.language::text
+)
+WHERE language::text IN (SELECT old_value FROM language_mappings);
+
+-- 3. Update assistants table (array column) - this requires a different approach
+-- We'll use a PL/pgSQL function for this
+
+CREATE OR REPLACE FUNCTION update_language_array() RETURNS void AS $$
+DECLARE
+    assistant_record RECORD;
+    lang TEXT;
+    updated_langs TEXT[];
+    new_lang TEXT;
+BEGIN
+    FOR assistant_record IN SELECT id, languages FROM assistants
+    LOOP
+        updated_langs := ARRAY[]::TEXT[];
+
+        -- Process each language in the array
+        FOREACH lang IN ARRAY assistant_record.languages
+        LOOP
+            -- Get the mapped value
+            SELECT new_value INTO new_lang
+            FROM language_mappings
+            WHERE old_value = lang::text;
+
+            -- If no mapping found, keep the original
+            IF new_lang IS NULL THEN
+                new_lang := lang;
+            END IF;
+
+            -- Add to the updated array
+            updated_langs := array_append(updated_langs, new_lang);
+        END LOOP;
+
+        -- Update the record
+        UPDATE assistants
+        SET languages = updated_langs
+        WHERE id = assistant_record.id;
+    END LOOP;
+END;
+$$ LANGUAGE plpgsql;
+
+-- Execute the function
+SELECT update_language_array();
+
+-- Drop the function when done
+DROP FUNCTION update_language_array();
+
+-- Drop the temporary mapping table
+DROP TABLE language_mappings;

# 2025-03-20 02:59:28.835758
+rollback;

# 2025-03-20 02:59:31.141340
+-- Create a temporary mapping table
+CREATE TEMP TABLE language_mappings (
+    old_value VARCHAR(20),
+    new_value VARCHAR(20)
+);
+
+-- Insert the mappings with corrected values
+INSERT INTO language_mappings (old_value, new_value) VALUES
+('en', 'en-US'),        -- Changed: Map 'en' to 'en-US'
+('es', 'es-US'),        -- Changed: Map 'es' to 'es-US'
+('EN-US', 'en-US'),     -- Format change only (case)
+('ES-US', 'es-US'),     -- Format change only (case)
+('EN-IN', 'en-IN');     -- Format change only (case)
+-- Add any other mappings you need
+
+-- 1. Update language_provider_defaults table (regular column)
+UPDATE language_provider_defaults
+SET language = (
+    SELECT new_value
+    FROM language_mappings
+    WHERE language_mappings.old_value = language_provider_defaults.language::text
+)
+WHERE language::text IN (SELECT old_value FROM language_mappings);
+
+-- 2. Update runtime_providers table (regular column)
+UPDATE runtime_providers
+SET language = (
+    SELECT new_value
+    FROM language_mappings
+    WHERE language_mappings.old_value = runtime_providers.language::text
+)
+WHERE language::text IN (SELECT old_value FROM language_mappings);
+
+-- 3. Update assistants table (array column) - this requires a different approach
+-- We'll use a PL/pgSQL function for this
+
+CREATE OR REPLACE FUNCTION update_language_array() RETURNS void AS $$
+DECLARE
+    assistant_record RECORD;
+    lang TEXT;
+    updated_langs TEXT[];
+    new_lang TEXT;
+BEGIN
+    FOR assistant_record IN SELECT id, languages FROM assistants
+    LOOP
+        updated_langs := ARRAY[]::TEXT[];
+
+        -- Process each language in the array
+        FOREACH lang IN ARRAY assistant_record.languages
+        LOOP
+            -- Get the mapped value
+            SELECT new_value INTO new_lang
+            FROM language_mappings
+            WHERE old_value = lang::text;
+
+            -- If no mapping found, keep the original
+            IF new_lang IS NULL THEN
+                new_lang := lang;
+            END IF;
+
+            -- Add to the updated array
+            updated_langs := array_append(updated_langs, new_lang);
+        END LOOP;
+
+        -- Update the record
+        UPDATE assistants
+        SET languages = updated_langs
+        WHERE id = assistant_record.id;
+    END LOOP;
+END;
+$$ LANGUAGE plpgsql;
+
+-- Execute the function
+SELECT update_language_array();
+
+-- Drop the function when done
+DROP FUNCTION update_language_array();
+
+-- Drop the temporary mapping table
+DROP TABLE language_mappings;

# 2025-03-20 02:59:35.128846
+begin;

# 2025-03-20 02:59:36.680624
+-- Create a temporary mapping table
+CREATE TEMP TABLE language_mappings (
+    old_value VARCHAR(20),
+    new_value VARCHAR(20)
+);
+
+-- Insert the mappings with corrected values
+INSERT INTO language_mappings (old_value, new_value) VALUES
+('en', 'en-US'),        -- Changed: Map 'en' to 'en-US'
+('es', 'es-US'),        -- Changed: Map 'es' to 'es-US'
+('EN-US', 'en-US'),     -- Format change only (case)
+('ES-US', 'es-US'),     -- Format change only (case)
+('EN-IN', 'en-IN');     -- Format change only (case)
+-- Add any other mappings you need
+
+-- 1. Update language_provider_defaults table (regular column)
+UPDATE language_provider_defaults
+SET language = (
+    SELECT new_value
+    FROM language_mappings
+    WHERE language_mappings.old_value = language_provider_defaults.language::text
+)
+WHERE language::text IN (SELECT old_value FROM language_mappings);
+
+-- 2. Update runtime_providers table (regular column)
+UPDATE runtime_providers
+SET language = (
+    SELECT new_value
+    FROM language_mappings
+    WHERE language_mappings.old_value = runtime_providers.language::text
+)
+WHERE language::text IN (SELECT old_value FROM language_mappings);
+
+-- 3. Update assistants table (array column) - this requires a different approach
+-- We'll use a PL/pgSQL function for this
+
+CREATE OR REPLACE FUNCTION update_language_array() RETURNS void AS $$
+DECLARE
+    assistant_record RECORD;
+    lang TEXT;
+    updated_langs TEXT[];
+    new_lang TEXT;
+BEGIN
+    FOR assistant_record IN SELECT id, languages FROM assistants
+    LOOP
+        updated_langs := ARRAY[]::TEXT[];
+
+        -- Process each language in the array
+        FOREACH lang IN ARRAY assistant_record.languages
+        LOOP
+            -- Get the mapped value
+            SELECT new_value INTO new_lang
+            FROM language_mappings
+            WHERE old_value = lang::text;
+
+            -- If no mapping found, keep the original
+            IF new_lang IS NULL THEN
+                new_lang := lang;
+            END IF;
+
+            -- Add to the updated array
+            updated_langs := array_append(updated_langs, new_lang);
+        END LOOP;
+
+        -- Update the record
+        UPDATE assistants
+        SET languages = updated_langs
+        WHERE id = assistant_record.id;
+    END LOOP;
+END;
+$$ LANGUAGE plpgsql;
+
+-- Execute the function
+SELECT update_language_array();
+
+-- Drop the function when done
+DROP FUNCTION update_language_array();
+
+-- Drop the temporary mapping table
+DROP TABLE language_mappings;

# 2025-03-20 03:00:09.575180
+rollback;

# 2025-03-20 03:00:15.244983
+begin;

# 2025-03-20 03:00:18.100556
+-- Create a temporary mapping table
+CREATE TEMP TABLE language_mappings (
+    old_value VARCHAR(20),
+    new_value VARCHAR(20)
+);
+
+-- Insert the mappings with corrected values
+INSERT INTO language_mappings (old_value, new_value) VALUES 
+('en', 'en-US'),        -- Changed: Map 'en' to 'en-US'
+('es', 'es-US'),        -- Changed: Map 'es' to 'es-US'
+('EN-US', 'en-US'),     -- Format change only (case)
+('ES-US', 'es-US'),     -- Format change only (case)
+('EN-IN', 'en-IN');     -- Format change only (case)
+
+-- 1. Update language_provider_defaults table (regular column) with explicit cast to the enum type
+UPDATE language_provider_defaults
+SET language = (
+    SELECT new_value::language  -- Cast string to the 'language' enum type
+    FROM language_mappings 
+    WHERE language_mappings.old_value = language_provider_defaults.language::text
+)
+WHERE language::text IN (SELECT old_value FROM language_mappings);
+
+-- 2. Update runtime_providers table (regular column) with explicit cast to the enum type
+UPDATE runtime_providers
+SET language = (
+    SELECT new_value::language  -- Cast string to the 'language' enum type
+    FROM language_mappings 
+    WHERE language_mappings.old_value = runtime_providers.language::text
+)
+WHERE language::text IN (SELECT old_value FROM language_mappings);
+
+-- 3. Update assistants table (array column) with appropriate casting
+CREATE OR REPLACE FUNCTION update_language_array() RETURNS void AS $$
+DECLARE
+    assistant_record RECORD;
+    lang TEXT;
+    updated_langs language[];  -- Specify the correct array type here
+    new_lang TEXT;
+BEGIN
+    FOR assistant_record IN SELECT id, languages FROM assistants
+    LOOP
+        updated_langs := ARRAY[]::language[];  -- Initialize as language[] array
+        
+        -- Process each language in the array
+        FOREACH lang IN ARRAY assistant_record.languages
+        LOOP
+            -- Get the mapped value
+            SELECT new_value INTO new_lang
+            FROM language_mappings
+            WHERE old_value = lang::text;
+            
+            -- If no mapping found, keep the original
+            IF new_lang IS NULL THEN
+                new_lang := lang;
+            END IF;
+            
+            -- Add to the updated array with cast
+            updated_langs := array_append(updated_langs, new_lang::language);
+        END LOOP;
+        
+        -- Update the record
+        UPDATE assistants
+        SET languages = updated_langs
+        WHERE id = assistant_record.id;
+    END LOOP;
+END;
+$$ LANGUAGE plpgsql;
+
+-- Execute the function
+SELECT update_language_array();
+
+-- Drop the function when done
+DROP FUNCTION update_language_array();
+
+-- Drop the temporary mapping table
+DROP TABLE language_mappings;

# 2025-03-20 03:00:27.096230
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-03-20 03:00:41.892066
+select * from runtime_providers;

# 2025-03-20 03:00:46.609204
+commit;

# 2025-03-20 03:00:48.504215
+select * from runtime_providers;

# 2025-03-20 03:00:53.094229
+enum

# 2025-03-20 03:01:14.977759
+SELECT n.nspname as schema,
+       t.typname as type
+FROM pg_type t 
+JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace
+WHERE t.typtype = 'e'
+ORDER BY schema, type;

# 2025-03-20 03:01:27.715727
+\dT+

# 2025-03-20 03:02:29.788586
+begin;

# 2025-03-20 03:02:31.663455
+-- 1. Create a new enum type with your desired values
+CREATE TYPE language_new AS ENUM ('en-US', 'es-US', 'en-IN');
+
+-- 2. Update tables to use the new type (requires temporary conversion to text)
+ALTER TABLE language_provider_defaults 
+  ALTER COLUMN language TYPE language_new 
+  USING (language::text::language_new);
+
+ALTER TABLE runtime_providers
+  ALTER COLUMN language TYPE language_new
+  USING (language::text::language_new);
+
+-- For the array column, you need a different approach
+ALTER TABLE assistants
+  ALTER COLUMN languages TYPE language_new[] 
+  USING (
+    array(
+      SELECT (unnest(languages)::text)::language_new
+    )
+  );
+
+-- 3. Drop the old type
+DROP TYPE language;
+
+-- 4. Rename the new type to the original name (optional)
+ALTER TYPE language_new RENAME TO language;

# 2025-03-20 03:03:14.222890
+rollback;

# 2025-03-20 03:17:41.524771
+\c orchestrator_service

# 2025-03-20 03:17:42.497036
+SELECT * FROM assistants WHERE 'EN-US' = ANY(languages);

# 2025-03-20 03:18:04.626228
+select * from languages;

# 2025-03-20 03:18:09.504004
+\dT+

# 2025-03-20 03:18:12.879210
+\dT+ language

# 2025-03-20 03:23:26.138212
+\c orchestrator_service

# 2025-03-20 03:23:28.344657
+        UPDATE assistants
+        SET languages = array_replace(languages, 'EN_US', 'en_US')::TEXT[];
+

# 2025-03-20 03:23:39.990371
+UPDATE assistants
+SET languages = array_replace(languages, 'EN_US', 'en_US')::TEXT[];

# 2025-03-20 03:23:51.937526
+UPDATE assistants
+SET languages = array_replace(languages, 'EN_US', 'en-US')::TEXT[];

# 2025-03-20 03:25:42.380857
+UPDATE assistants
+SET languages = array_replace(languages, 'EN_US', 'en-US');

# 2025-03-20 03:37:06.963278
+\c orchestrator_service

# 2025-03-20 03:37:18.482172
+select * from languages;

# 2025-03-20 03:37:23.591403
+\dT+ language

# 2025-03-20 03:37:33.361667
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-03-20 03:43:56.072259
+\dT+ language

# 2025-03-20 03:46:05.237986
+commit;

# 2025-03-20 03:50:10.614245
+SELECT column_name, data_type FROM information_schema.columns 
+WHERE table_name = 'assistants';

# 2025-03-20 03:50:21.011526
+SELECT column_name, data_type FROM information_schema.columns 
+WHERE table_name = 'runtime_providers';

# 2025-03-20 03:57:04.302450
+\dT+ language

# 2025-03-20 03:58:17.978386
+\c orchestrator_service

# 2025-03-20 03:58:19.589326
+\dT+ language

# 2025-03-20 03:58:21.604599
+SELECT column_name, data_type FROM information_schema.columns 
+WHERE table_name = 'runtime_providers';

# 2025-03-20 04:02:43.463255
+select * from assistants;

# 2025-03-20 04:02:52.798011
+select languages from assistants;

# 2025-03-20 04:02:58.671861
+select id, languages from assistants;

# 2025-03-20 04:03:10.126576
+select * from assistants;

# 2025-03-20 04:03:15.171656
+select id, languages from assistants;

# 2025-03-20 04:03:22.461776
+select id, language from runtime_providers;

# 2025-03-20 04:03:27.679110
+select id, language from language_provider_defaults;

# 2025-03-20 04:03:39.533076
+select id, language, * from language_provider_defaults;

# 2025-03-20 04:03:49.710934
+select id, language, * from runtime_providers;

# 2025-03-20 04:08:16.453300
+select id, languages from assistants;

# 2025-03-20 04:08:31.984093
+\dt assistants;

# 2025-03-20 04:08:34.911416
+\d assistants;

# 2025-03-20 04:09:10.749144
+SELECT * FROM assistants WHERE 'EN-US' = ANY(languages);

# 2025-03-20 04:09:14.698812
+SELECT * FROM assistants WHERE 'EN)US' = ANY(languages);

# 2025-03-20 04:09:17.863651
+SELECT * FROM assistants WHERE 'EN_US' = ANY(languages);

# 2025-03-20 04:09:23.239571
+SELECT * FROM assistants WHERE 'en-US' = ANY(languages);

# 2025-03-20 04:11:24.973768
+ALTER TABLE assistants ALTER COLUMN languages TYPE language[] USING languages::language[]

# 2025-03-21 00:29:19.762608
+\c orchestrator_service

# 2025-03-21 00:37:29.140510
+drop table language_provider_defaults;

# 2025-03-21 00:37:51.917118
+\c orchestrator_service

# 2025-03-21 00:38:23.085990
+drop LANGUAGE;

# 2025-03-21 00:38:30.269930
+\d LANGUAGE;

# 2025-03-21 00:39:18.173919
+drop type language;

# 2025-03-21 00:39:26.045486
+drop type language cascade;

# 2025-03-21 00:39:37.527332
+SELECT * FROM assistants WHERE 'en-US' = ANY(languages);

# 2025-03-21 00:39:51.336061
+select id, languages from assistants;

# 2025-03-21 00:39:57.774144
+select id, name from assistants;

# 2025-03-21 00:40:55.647758
+\c orchestrator_service

# 2025-03-21 00:40:59.338207
+drop database orchestrator_service with (force);

# 2025-03-21 00:41:14.163338
+\c pos

# 2025-03-21 00:41:16.510888
+\c postgres

# 2025-03-21 00:41:18.270493
+drop database orchestrator_service with (force);

# 2025-03-21 00:41:34.117301
+create database orchestrator_service;

# 2025-03-21 01:54:55.681946
+\c orchestrator_service

# 2025-03-21 01:54:59.965359
+\dT+ language;

# 2025-03-21 02:00:30.093469
+\c orchestrator_service

# 2025-03-21 02:00:32.738235
+select id, name from assistants;

# 2025-03-21 02:25:54.022044
+\c orchestrator_service

# 2025-03-21 02:25:57.812003
+dT+ language

# 2025-03-21 02:26:01.113636
+\dT+ language

# 2025-03-21 02:28:45.469354
+\c orchestrator_service

# 2025-03-21 02:28:46.855992
+\dT+ language

# 2025-03-21 03:00:56.083028
+\c postgres

# 2025-03-21 03:01:01.039373
+drop database orchestrator_service with (force);

# 2025-03-21 03:01:11.952558
+create database orchestrator_service;

# 2025-03-21 03:01:23.214655
+drop database orchestrator_service with (force);

# 2025-03-21 03:01:25.121915
+create database orchestrator_service;

# 2025-03-21 03:02:55.020679
+dT+ language

# 2025-03-21 03:02:57.699319
+\dT+ language

# 2025-03-21 03:03:01.179637
+\c orchestrator_service

# 2025-03-21 03:03:01.911696
+\dT+ language

# 2025-03-21 03:03:05.872919
+\c postgres

# 2025-03-21 03:10:06.432575
+\c orchestrator_service

# 2025-03-21 03:10:08.056183
+\dT+ language

# 2025-03-21 03:11:08.502252
+\d LANGUAGE;

# 2025-03-21 03:11:15.404525
+select id, name, langauges from assistants;

# 2025-03-21 03:11:20.458096
+select id, name, languages from assistants;

# 2025-03-21 03:11:23.468488
+select id, name, language from assistants;

# 2025-03-21 03:11:25.401430
+select id, name, languages from assistants;

# 2025-03-21 03:11:30.359651
+select id, name, languages from assistant_configs;

# 2025-03-21 03:11:35.815510
+select * from assistants;

# 2025-03-21 03:11:43.688209
+select * from assistant_configs;

# 2025-03-21 03:11:53.530459
+select * from runtime_providers

# 2025-03-21 03:12:03.491755
+select * from language_provider_defaults;

# 2025-03-21 03:12:14.175595
+\dT+ language;

# 2025-03-21 03:12:17.511423
+\dT+ LANGUAGE_HANDLER;

# 2025-03-21 03:12:21.043903
+\dT+ language;

# 2025-03-21 03:12:47.693975
+select typeof(languages) from assistants;

# 2025-03-21 03:12:52.976847
+select typeof(languages::text) from assistants;

# 2025-03-21 03:13:11.228681
+select type(id) from assistants;

# 2025-03-21 03:13:20.064236
+select type(languages::text[]) from assistants;

# 2025-03-21 03:13:25.650874
+select typeof(languages::text[]) from assistants;

# 2025-03-21 03:13:43.234069
+\dT+ ANYENUM

# 2025-03-21 03:13:55.323610
+select id, name, languages from assistant_configs;

# 2025-03-21 03:14:02.381889
+select * from assistants;

# 2025-03-21 04:03:36.360713
+\c orchestrator_service

# 2025-03-21 04:03:38.981673
+\c postgres

# 2025-03-21 04:03:43.464369
+drop database orchestrator_service with (force);

# 2025-03-21 04:03:48.835211
+create database orchestrator_service;

# 2025-03-21 04:05:30.795050
+drop database orchestrator_service with (force);

# 2025-03-21 04:05:39.590531
+create database orchestrator_service;

# 2025-03-24 15:41:13.919925
+drop database orchestrator_service with (force);

# 2025-03-24 15:41:28.413266
+create database orchestrator_service;

# 2025-03-24 15:48:16.451744
+\c orchestrator_service

# 2025-03-24 15:48:17.520291
+DELETE FROM alembic_version WHERE version_num = '47f8908678a2';
+

# 2025-03-24 17:39:30.950145
+\c orchestrator_service

# 2025-03-24 17:39:35.782352
+select interaction_metadata->>'is_transfer' from interactions where vendor_call_id = 'q_apf_uKDQOxwXMtaxUfTw..';

# 2025-03-24 17:39:42.194229
+select interaction_metadata->>'is_transfer' from interactions;

# 2025-03-24 17:40:31.108207
+\c orchestrator_service

# 2025-03-24 17:40:37.609368
+\dT+ language;

# 2025-03-24 19:35:36.022045
+\c orchestrator_service

# 2025-03-24 19:35:39.815150
+\c postgres

# 2025-03-24 19:35:42.200245
+drop database orchestrator_service with (force);

# 2025-03-24 19:35:44.710603
+create database orchestrator_service;

# 2025-03-24 19:37:06.189320
+\c orchestrator_service

# 2025-03-24 19:37:08.798833
+\dT+ language;

# 2025-03-25 17:09:54.143063
+dT+ language;

# 2025-03-25 18:30:23.114255
+select * from runtime_providers

# 2025-03-25 19:09:19.769915
+\c orchestrator_service

# 2025-03-25 19:09:21.308392
+select * from runtime_providers

# 2025-03-25 19:09:26.745261
+select id, * from runtime_providers

# 2025-03-25 19:09:50.169842
+delete from runtime_providers where id > 4;

# 2025-03-25 19:10:20.734150
+select id, * from runtime_providers

# 2025-03-25 20:36:01.340311
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-03-26 20:49:31.195127
+\c orchestrator_service

# 2025-03-26 20:49:39.180161
+select variables from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1) order by id desc limit 1; \o variables.json

# 2025-03-26 20:49:42.590652
+select variables from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1) order by id desc limit 1

# 2025-03-26 20:49:53.028982
+\c orchestrator_service

# 2025-03-26 20:49:55.956380
+select variables from assistant_configs where assistant_id = (select id from assistants order by id desc limit 1) order by id desc limit 1;

# 2025-03-26 20:50:19.548797
+SELECT 
+  distinct assistant_id,
+  jsonb_extract_path_text(lang.elem, 'name') as name,
+  jsonb_extract_path_text(lang.elem, 'default_value') as language_default_value
+FROM 
+  assistant_configs,
+  LATERAL (
+    SELECT elem
+    FROM jsonb_array_elements(variables::jsonb) as elem
+    WHERE elem->>'name' = {{VariableName}}
+  ) as lang
+ 

# 2025-03-26 20:50:33.921283
+SELECT
+  distinct assistant_id,
+  jsonb_extract_path_text(lang.elem, 'name') as name,
+  jsonb_extract_path_text(lang.elem, 'default_value') as language_default_value
+FROM
+  assistant_configs,
+  LATERAL (
+    SELECT elem
+    FROM jsonb_array_elements(variables::jsonb) as elem
+    WHERE elem->>'name' = 'language'
+  ) as lang

# 2025-03-26 20:51:30.328705
+UPDATE assistant_configs
+SET variables = jsonb_set(
+  variables,
+  ARRAY[
+    (
+      SELECT ordinality - 1
+      FROM jsonb_array_elements(variables) WITH ORDINALITY
+      WHERE jsonb_extract_path_text(value, 'name') = 'language'
+      LIMIT 1
+    )::text
+  ],
+  jsonb_build_object(
+    'name', 'language',
+    'default_value', 'en-US'
+  ),
+  true
+)

# 2025-03-26 20:52:45.407907
+UPDATE assistant_configs
+SET variables = jsonb_set(
+    variables,
+    ARRAY[
+    (
+        SELECT (ordinality - 1)::text
+        FROM jsonb_array_elements(variables::jsonb) WITH ORDINALITY
+        WHERE value->>'name' = 'language'
+        LIMIT 1
+    )
+    ],
+    jsonb_build_object(
+        'name', 'language',
+        'default_value', 'en-US'
+    ),
+    true
+)

# 2025-03-26 20:53:19.106598
+UPDATE assistant_configs
+SET variables = (
+  jsonb_set(
+    variables::jsonb,
+    ARRAY[
+      (
+        SELECT (ordinality - 1)::text
+        FROM jsonb_array_elements(variables::jsonb) WITH ORDINALITY
+        WHERE value->>'name' = 'language'
+        LIMIT 1
+      )
+    ],
+    jsonb_build_object(
+      'name', 'language',
+      'default_value', 'en-US'
+    ),
+    true
+  )
+)::json

# 2025-03-27 14:52:06.914562
+\c orchestrator_service

# 2025-03-27 14:52:27.249362
+select * from assistants where languages is null;

# 2025-03-27 14:52:33.441389
+select * from assistants where languages = '{}';

# 2025-03-27 14:53:05.573114
+update assistants set languages = '["en-US"]' where languages = '{}';

# 2025-03-27 14:53:14.272427
+update assistants set languages = '["en-US"]' where languages = '{}' and id = 1;

# 2025-03-27 14:53:22.567969
+select * from assistants where languages = '{}';

# 2025-03-27 14:53:28.568747
+select * from assistants where languages != '{}';

# 2025-03-27 14:53:52.132993
+update assistants set languages = array('en-US'::language) where languages = '{}' and id = 1;

# 2025-03-27 14:54:30.867795
+update assistants set languages = ARRAY['en-US'::language] where languages = '{}' and id = 1;

# 2025-03-27 14:54:37.651793
+select * from assistants where languages != '{}';

# 2025-03-27 14:54:46.497646
+select languages from assistants;

# 2025-03-27 15:03:56.176150
+\c orchestrator_service

# 2025-03-27 15:04:00.547188
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-03-27 15:04:22.767546
+select runtime_config->>'tts_config' from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-03-27 15:04:32.380767
+select runtime_config->>'tts_config'->0 from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-03-27 15:04:43.372313
+select runtime_config->'tts_config'->0 from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-03-27 15:05:12.189997
+select id, * from runtime_providers

# 2025-03-27 15:05:25.896407
+select id, * from runtime_providers where name = 'GOOGLE' and type = 'TTS';

# 2025-03-27 15:09:19.727589
+update runtime_providers
+set models = ARRAY[ 'en-US-Chirp-HD-D', 'en-US-Chirp-HD-F', 'en-US-Chirp-HD-O', 'en-US-Chirp3-HD-Aoede', 'en-US-Chirp3-HD-Charon', 'en-US-Chirp3-HD-Fenrir', 'en-US-Chirp3-HD-Kore', 'en-US-Chirp3-HD-Leda', 'en-US-Chirp3-HD-Orus', 'en-US-Chirp3-HD-Puck', 'en-US-Chirp3-HD-Zephyr', 'en-US-Neural2-A', 'en-US-Neural2-B', 'en-US-Neural2-C', 'en-US-Neural2-D', 'en-US-Standard-A', 'en-US-Standard-B', 'en-US-Standard-C', 'en-US-Standard-D', 'en-US-Standard-E', 'en-US-Standard-F', 'en-US-Wavenet-A', 'en-US-Wavenet-B', 'en-US-Wavenet-C', 'en-US-Wavenet-D', 'en-US-Wavenet-E', 'en-US-Wavenet-F' ]
+where name = 'GOOGLE' and type = 'TTS' and language = 'en-US';
+
+
+

# 2025-03-27 15:09:25.842515
+select id, * from runtime_providers where name = 'GOOGLE' and type = 'TTS';

# 2025-04-03 17:55:04.447727
+\c fsm_service

# 2025-04-03 17:55:40.034603
+update meta_data_caches set metadata='{
+    "transfer_number": "7142106996",
+    "transfer_port": "5060",
+    "transfer_ip": "208.64.4.26",
+    "caller_details": {
+        "DOB": "1994-02-17",
+        "ZIP": "L3R 8F6",
+        "Zip": "L3R 8F6",
+        "City": "Markham",
+        "SSN#": "6256",
+        "Email": "ABC 123",
+        "Error": "",
+        "State": "Ontario",
+        "auth_1": "Zip",
+        "auth_2": "DOB",
+        "auth_3": "last_4_digits_of_SSN",
+        "Account": "023287654349",
+        "Address": "north side, 60",
+        "dispute": "transfer",
+        "attorney": "transfer",
+        "deceased": "hangup",
+        "Child DOB": "",
+        "Child ZIP": "",
+        "Is Valid?": "false",
+        "Last Name": "Smith",
+        "Lead UUID": "",
+        "auth_type": "Authentication",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "last_name": "Prez ",
+        "pay_later": "transfer",
+        "Cell Phone": "+19179858799",
+        "Child City": "",
+        "Child SSN#": "",
+        "Due Amount": "2400",
+        "First Name": "David",
+        "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d",
+        "due_amount": "2400",
+        "first_name": "Juan ",
+        "Child Email": "",
+        "Child State": "",
+        "refuse_auth": "transfer",
+        "right_party": "bot",
+        "wrong_party": "hangup",
+        "Service Date": "1999-03-03",
+        "already_paid": "transfer",
+        "auth_methods": "[ ''DOB'' ]",
+        "cease_desist": "hangup",
+        "first_option": "3 months",
+        "mini_miranda": "False",
+        "third_option": "When can you pay",
+        "user_address": "Markham, Ontario L3R 8F6, Canada",
+        "Campaign Type": "Normal Campaign",
+        "Child Address": "",
+        "Creditor Name": "Test collection agency",
+        "agree_payment": "bot",
+        "auth_required": "True",
+        "caller_number": "+19179858799",
+        "no_auth_steps": "1",
+        "second_option": "4 months",
+        "Address Line 1": "Centurian Dr 2nd floor",
+        "minimum amount": "6",
+        "refuse_payment": "transfer",
+        "Child Last Name": "",
+        "Customer Number": "873434",
+        "Empathetic Flow": "Disable",
+        "Negotiation One": "3 Months",
+        "Negotiation Six": "-",
+        "Negotiation Two": "6 Months",
+        "offline_payment": "No",
+        "Child Cell Phone": "",
+        "Child Due Amount": "",
+        "Child First Name": "",
+        "Negotiation Five": "-",
+        "Negotiation Four": "-",
+        "Negotiation Three": "When can you pay",
+        "Settlement Amount": "60",
+        "Child Service Date": "",
+        "Negotiation medium": "On voice-agent",
+        "minimum_acceptable": "6",
+        "settlement percent": "25",
+        "Child Creditor Name": "",
+        "Child Address Line 1": "",
+        "Child minimum amount": "",
+        "last_4_digits_of_SSN": "6256",
+        "Child Customer Number": "",
+        "Transfer Phone Number": "7042252851",
+        "Child Settlement Amount": "",
+        "Child settlement percent": "",
+        "action_agent_unavailable": "Hangup",
+        "last_4_digits_phone_number": "+19179859060",
+        "Child Transfer Phone Number": "",
+        "action_in_case_of_no_datapoints": "Transfer"
+    }
+}';

# 2025-04-03 18:04:50.110284
+\c fsm_service

# 2025-04-03 18:05:03.524990
+update meta_data_caches set metadata='{
+    "transfer_number": "7142106996",
+    "transfer_port": "5060",
+    "transfer_ip": "208.64.4.26",
+    "caller_details": {
+        "DOB": "1994-02-17",
+        "ZIP": "L3R 8F6",
+        "Zip": "L3R 8F6",
+        "City": "Markham",
+        "SSN#": "6256",
+        "Email": "ABC 123",
+        "Error": "",
+        "State": "Ontario",
+        "auth_1": "Zip",
+        "auth_2": "DOB",
+        "auth_3": "last_4_digits_of_SSN",
+        "Account": "023287654349",
+        "Address": "north side, 60",
+        "dispute": "transfer",
+        "attorney": "transfer",
+        "deceased": "hangup",
+        "Child DOB": "",
+        "Child ZIP": "",
+        "Is Valid?": "false",
+        "Last Name": "Smith",
+        "Lead UUID": "",
+        "auth_type": "Authentication",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "last_name": "Prez ",
+        "pay_later": "transfer",
+        "Cell Phone": "+19179858799",
+        "Child City": "",
+        "Child SSN#": "",
+        "Due Amount": "2400",
+        "First Name": "David",
+        "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d",
+        "due_amount": "2400",
+        "first_name": "Juan ",
+        "Child Email": "",
+        "Child State": "",
+        "refuse_auth": "transfer",
+        "right_party": "bot",
+        "wrong_party": "hangup",
+        "Service Date": "1999-03-03",
+        "already_paid": "transfer",
+        "auth_methods": "[ ''DOB'' ]",
+        "cease_desist": "hangup",
+        "first_option": "3 months",
+        "mini_miranda": "False",
+        "third_option": "When can you pay",
+        "user_address": "Markham, Ontario L3R 8F6, Canada",
+        "Campaign Type": "Normal Campaign",
+        "Child Address": "",
+        "Creditor Name": "Test collection agency",
+        "agree_payment": "bot",
+        "auth_required": "True",
+        "caller_number": "+19179858799",
+        "no_auth_steps": "1",
+        "second_option": "4 months",
+        "Address Line 1": "Centurian Dr 2nd floor",
+        "minimum amount": "6",
+        "refuse_payment": "transfer",
+        "Child Last Name": "",
+        "Customer Number": "873434",
+        "Empathetic Flow": "Disable",
+        "Negotiation One": "3 Months",
+        "Negotiation Six": "-",
+        "Negotiation Two": "6 Months",
+        "offline_payment": "No",
+        "Child Cell Phone": "",
+        "Child Due Amount": "",
+        "Child First Name": "",
+        "Negotiation Five": "-",
+        "Negotiation Four": "-",
+        "Negotiation Three": "When can you pay",
+        "Settlement Amount": "60",
+        "Child Service Date": "",
+        "Negotiation medium": "On voice-agent",
+        "minimum_acceptable": "6",
+        "settlement percent": "25",
+        "Child Creditor Name": "",
+        "Child Address Line 1": "",
+        "Child minimum amount": "",
+        "last_4_digits_of_SSN": "6256",
+        "Child Customer Number": "",
+        "Transfer Phone Number": "7042252851",
+        "Child Settlement Amount": "",
+        "Child settlement percent": "",
+        "action_agent_unavailable": "Hangup",
+        "last_4_digits_phone_number": "+19179859060",
+        "Child Transfer Phone Number": "",
+        "action_in_case_of_no_datapoints": "Transfer"
+    }
+}';

# 2025-04-03 18:11:07.227758
+\c fsm_service

# 2025-04-03 18:11:38.102877
+update meta_data_caches set metadata='{
+    "transfer_extension": "7142106996",
+    "transfer_port": "5060",
+    "transfer_ip": "208.64.4.26",
+    "caller_details": {
+        "DOB": "1994-02-17",
+        "ZIP": "L3R 8F6",
+        "Zip": "L3R 8F6",
+        "City": "Markham",
+        "SSN#": "6256",
+        "Email": "ABC 123",
+        "Error": "",
+        "State": "Ontario",
+        "auth_1": "Zip",
+        "auth_2": "DOB",
+        "auth_3": "last_4_digits_of_SSN",
+        "Account": "023287654349",
+        "Address": "north side, 60",
+        "dispute": "transfer",
+        "attorney": "transfer",
+        "deceased": "hangup",
+        "Child DOB": "",
+        "Child ZIP": "",
+        "Is Valid?": "false",
+        "Last Name": "Smith",
+        "Lead UUID": "",
+        "auth_type": "Authentication",
+        "flow_uuid": "d2dca9a0-3a41-49e8-84f4-7e75a9ce515f",
+        "last_name": "Prez ",
+        "pay_later": "transfer",
+        "Cell Phone": "+19179858799",
+        "Child City": "",
+        "Child SSN#": "",
+        "Due Amount": "2400",
+        "First Name": "David",
+        "batch_uuid": "c8653b6a-1494-4fba-98a1-a67262763b0d",
+        "due_amount": "2400",
+        "first_name": "Juan ",
+        "Child Email": "",
+        "Child State": "",
+        "refuse_auth": "transfer",
+        "right_party": "bot",
+        "wrong_party": "hangup",
+        "Service Date": "1999-03-03",
+        "already_paid": "transfer",
+        "auth_methods": "[ ''DOB'' ]",
+        "cease_desist": "hangup",
+        "first_option": "3 months",
+        "mini_miranda": "False",
+        "third_option": "When can you pay",
+        "user_address": "Markham, Ontario L3R 8F6, Canada",
+        "Campaign Type": "Normal Campaign",
+        "Child Address": "",
+        "Creditor Name": "Test collection agency",
+        "agree_payment": "bot",
+        "auth_required": "True",
+        "caller_number": "+19179858799",
+        "no_auth_steps": "1",
+        "second_option": "4 months",
+        "Address Line 1": "Centurian Dr 2nd floor",
+        "minimum amount": "6",
+        "refuse_payment": "transfer",
+        "Child Last Name": "",
+        "Customer Number": "873434",
+        "Empathetic Flow": "Disable",
+        "Negotiation One": "3 Months",
+        "Negotiation Six": "-",
+        "Negotiation Two": "6 Months",
+        "offline_payment": "No",
+        "Child Cell Phone": "",
+        "Child Due Amount": "",
+        "Child First Name": "",
+        "Negotiation Five": "-",
+        "Negotiation Four": "-",
+        "Negotiation Three": "When can you pay",
+        "Settlement Amount": "60",
+        "Child Service Date": "",
+        "Negotiation medium": "On voice-agent",
+        "minimum_acceptable": "6",
+        "settlement percent": "25",
+        "Child Creditor Name": "",
+        "Child Address Line 1": "",
+        "Child minimum amount": "",
+        "last_4_digits_of_SSN": "6256",
+        "Child Customer Number": "",
+        "Transfer Phone Number": "7042252851",
+        "Child Settlement Amount": "",
+        "Child settlement percent": "",
+        "action_agent_unavailable": "Hangup",
+        "last_4_digits_phone_number": "+19179859060",
+        "Child Transfer Phone Number": "",
+        "action_in_case_of_no_datapoints": "Transfer"
+    }
+}';

# 2025-04-07 17:38:49.421837
+\c orchestrator_service

# 2025-04-07 17:38:57.923322
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-04-07 17:39:08.042940
+select id from assistants;

# 2025-04-07 17:39:11.886332
+select id, name from assistants;

# 2025-04-07 17:39:23.761321
+select id, name, virtual_ids from assistants;

# 2025-04-07 17:39:27.133125
+select id, name, virtual_id from assistants;

# 2025-04-07 17:39:35.711337
+select assistant_id from virtual_number;

# 2025-04-07 17:39:45.339415
+select assistant_id, virtual_id from virtual_number;

# 2025-04-07 20:37:43.288150
+insert into virtual_number (virtual_id, provider, assistant_id, channel, created_at, updated_at) values ('+18448355158', 'TCN', 18, 'VOICE', now(), now());

# 2025-04-07 20:38:31.682209
+select id, name, virtual_id from assistants;

# 2025-04-07 20:38:42.521339
+select assistant_id, virtual_id from virtual_number;

# 2025-04-07 20:38:49.914385
+select id, name, virtual_id from assistants;

# 2025-04-07 20:38:54.505322
+select id, name from assistants;

# 2025-04-07 20:39:15.083821
+insert into virtual_number (virtual_id, provider, assistant_id, channel, created_at, updated_at) values ('+18448355158', 'TCN', 18, 'VOICE', now(), now());

# 2025-04-07 20:40:01.684178
+update assistants set assistant_type='STREAMING_PIPECAT' where id = 18;

# 2025-04-07 20:41:32.929124
+update assistants set assistant_type='DEFAULT_LANGCHAIN' where id = 18;

# 2025-04-07 20:42:20.358586
+update assistants set assistant_type='JINJA' where id = 18;

# 2025-04-07 20:42:41.874975
+update assistants set assistant_type='STREAMING_PIPECAT' where id = 18;

# 2025-04-07 20:46:12.569309
+update virtual_number set provider_config_id = 1 where virtual_id = '+18448355158';

# 2025-04-07 20:46:23.357694
+select assistant_id, virtual_id from virtual_number;

# 2025-04-07 20:46:27.699544
+select * from virtual_number;

# 2025-04-08 15:41:19.896007
+\c orchestrator_service

# 2025-04-08 15:41:27.769461
+select text from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-04-08 15:41:34.612440
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-04-08 15:44:47.700052
+\c orchestrator_service

# 2025-04-08 15:44:48.591721
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-04-10 19:05:34.567990
+\c orchestrator_service

# 2025-04-10 19:05:36.437894
+select message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-04-10 19:05:42.719165
+select created_at, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-04-14 16:30:42.697449
+\c or

# 2025-04-14 16:30:45.022010
+\c orchestrator_service

# 2025-04-14 16:30:56.402911
+select id from virtual_number;

# 2025-04-14 16:30:59.852297
+select id, vir from virtual_number;

# 2025-04-14 16:31:05.504119
+select id, virtual_id from virtual_number;

# 2025-04-17 18:07:10.974174
+\c fsm_service

# 2025-04-17 18:07:18.476943
+select * from virtual_numbers;

# 2025-04-17 18:09:26.697738
+update virtual_numbers set use_beta=False;

# 2025-04-17 18:09:30.703145
+update virtual_numbers set use_beta=false;

# 2025-04-17 18:09:33.246536
+select * from virtual_numbers;

# 2025-04-17 18:15:12.958048
+\c fsm_service

# 2025-04-17 18:15:16.368458
+select * from flows;

# 2025-04-17 18:15:27.820592
+select flow_id from calls;

# 2025-04-17 18:15:32.292191
+select distinct flow_id from calls;

# 2025-04-17 18:15:49.454387
+select name from flows where id in (404, 517, 520);

# 2025-04-17 18:16:04.388011
+select virtual_number from virtual_numbers where flow_id = 520;

# 2025-04-17 18:16:30.981827
+select template_id from flows where id = 520;

# 2025-04-17 18:16:36.053538
+select name, template_id from flows where id = 520;

# 2025-04-17 18:16:39.102801
+select name, template_id from flows where id = 519;

# 2025-04-17 18:16:54.563223
+update virtual_numbers set flow_id=519 where flow_id=520;

# 2025-04-17 18:17:31.778345
+select application_parameters->'parameters'->>'flow_uuid' from flow_configs where flow_id = 519;

# 2025-04-17 18:17:36.724521
+select application_parameters->'parameters' from flow_configs where flow_id = 519;

# 2025-04-17 18:17:40.133908
+select application_parameters->>'parameters' from flow_configs where flow_id = 519;

# 2025-04-17 18:17:43.787637
+select application_parameters from flow_configs where flow_id = 519;

# 2025-04-17 18:17:48.296645
+select application_parameters from flow_configs where flow_id = 520;

# 2025-04-17 18:17:58.717053
+select application_parameters from flow_configs where flow_id = 519;

# 2025-04-17 18:18:03.443028
+select current_config, application_parameters from flow_configs where flow_id = 519;

# 2025-04-17 18:18:07.658535
+select version, current_config, application_parameters from flow_configs where flow_id = 519;

# 2025-04-17 18:18:19.430343
+select version, current_config, application_parameters from flow_configs where current_config=true;

# 2025-04-18 16:28:13.321393
+\c orchestrator_service

# 2025-04-18 16:28:15.872413
+\d

# 2025-04-18 16:28:22.739834
+select * from integrations;

# 2025-04-18 16:29:28.897227
+select * from integrations; \! xclip -sel c

# 2025-04-18 16:29:37.904826
+\! echo 123

# 2025-04-18 16:29:44.045059
+select * from integrations; \! | xclip -sel c

# 2025-04-18 16:29:53.631861
+select * from integrations; \echo

# 2025-04-18 16:29:58.601273
+\c orchestrator_service

# 2025-04-18 16:30:06.351549
+select * from integrations; \echo

# 2025-04-18 16:30:14.663775
+\echo hello

# 2025-04-18 16:30:28.426296
+\! echo 123 | xclip -sel c

# 2025-04-18 17:54:18.968438
+select * from integrations; \echo

# 2025-04-18 17:54:23.310862
+select * from integrations limit 1;

# 2025-04-18 17:54:27.412718
+select request_config from integrations limit 1;

# 2025-04-18 17:56:52.695582
+UPDATE integrations
+SET request_config = jsonb_path_query_array(
+  request_config::jsonb,
+  '$[*]'
+)::jsonb #- '{0, url}' || 
+jsonb_build_object(
+  'url', 
+  replace(
+    jsonb_path_query(
+      request_config::jsonb, 
+      '$[0].url'
+    )::text, 
+    'http://integration-proxy.crm.svc.cluster.local', 
+    'http://localhost:8007'
+  )::text
+);

# 2025-04-18 17:57:55.554491
+UPDATE integrations
+SET request_config = (
+  SELECT jsonb_set(
+    request_config::jsonb,
+    '{0,url}',
+    to_jsonb(
+      replace(
+        request_config::jsonb->0->>'url',
+        'http://integration-proxy.crm.svc.cluster.local',
+        'http://localhost:8007'
+      )
+    )
+  )
+);

# 2025-04-18 17:58:20.596018
+UPDATE integrations
+SET request_config = (
+  SELECT jsonb_set(
+    request_config::jsonb,
+    '{0,url}',
+    to_jsonb(
+      replace(
+        request_config::jsonb->0->>'url',
+        'http://integration-proxy.crm.svc.cluster.local',
+        'http://localhost:8007'
+      )
+    )
+  )
+)
+WHERE request_config IS NOT NULL;

# 2025-04-18 17:58:39.823315
+select request_config from integrations limit 1;

# 2025-04-18 17:58:44.010292
+select request_config from integrations;

# 2025-04-18 18:02:02.900796
+UPDATE integrations
+SET request_config = (
+  SELECT jsonb_set(
+    request_config::jsonb,
+    '{0,url}',
+    to_jsonb(
+      replace(
+        request_config::jsonb->0->>'url',
+        'http://integration-proxy.crm.svc.cluster.local',
+        'http://localhost:8007'
+      )
+    )
+  )
+)
+WHERE request_config IS NOT NULL and request_config::text like '%integration-proxy%';

# 2025-04-18 18:02:10.367740
+select request_config from integrations;

# 2025-04-18 18:02:39.958082
+UPDATE integrations
+SET request_config = (
+  SELECT jsonb_set(
+    request_config::jsonb,
+    '{0,url}',
+    to_jsonb(
+      replace(
+        request_config::jsonb->0->>'url',
+        'http://integration-proxy.crm.svc.cluster.local',
+        'http://localhost:8007'
+      )
+    )
+  )
+)
+WHERE request_config IS NOT NULL and request_config::text like '%integration-proxy%';

# 2025-04-18 18:02:51.749971
+UPDATE integrations
+SET request_config = (
+  SELECT jsonb_set(
+    request_config::jsonb,
+    '{0,url}',
+    to_jsonb(
+      replace(
+        request_config::jsonb->0->>'url',
+        'http://integration-proxy-live.crm.svc.cluster.local',
+        'http://localhost:8007'
+      )
+    )
+  )
+)
+WHERE request_config IS NOT NULL and request_config::text like '%integration-proxy%';

# 2025-04-18 18:02:55.762711
+select request_config from integrations;

# 2025-04-18 18:03:21.803944
+\c orchestrator_service

# 2025-04-18 18:03:27.323332
+select created_at, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-04-21 15:46:07.115776
+select * from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-04-21 15:46:20.386372
+select * from interactions order by id desc limit 1;

# 2025-04-21 15:58:00.222019
+select * from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-04-21 17:59:49.295462
+select * from assistants;

# 2025-04-21 17:59:58.729318
+select type from assistants;

# 2025-04-21 18:00:03.087144
+select assistant_type from assistants;

# 2025-04-21 18:00:20.008920
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-04-21 18:23:38.085453
+update assistants set assistant_type='JINJA';

# 2025-04-21 19:14:52.409910
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-04-21 19:17:08.550089
+select * from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-04-21 19:21:00.334083
+select * from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 3

# 2025-04-21 19:21:10.957462
+select message, type from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 3

# 2025-04-21 19:21:23.902166
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 3

# 2025-04-21 23:57:07.960853
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 1

# 2025-04-22 14:50:47.119984
+\c orchestrator_service

# 2025-04-22 14:50:50.338768
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 1

# 2025-04-22 14:50:57.728966
+update assistants set assistant_type='JINJA';

# 2025-04-22 15:09:23.688074
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-04-22 15:14:28.927791
+\d assistants

# 2025-04-22 15:17:57.071853
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-04-22 15:41:13.227927
+select id from interactions;

# 2025-04-22 15:41:21.146716
+select id from interactions order by id desc limit 5;

# 2025-04-22 15:41:37.493720
+select id from interactions order by id desc limit 2;

# 2025-04-22 15:43:20.327154
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 1

# 2025-04-22 15:46:23.702540
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-04-22 15:46:31.424780
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 1

# 2025-04-22 16:08:33.168151
+update assistants set assistant_type='JINJA';

# 2025-04-22 16:35:29.002478
+update assistants set assistant_type='DEFAULT';

# 2025-04-22 16:35:42.235404
+update assistants set assistant_type='DEFAULT_LANGGRAPH';

# 2025-04-22 16:36:01.679079
+\dT+ assistant_type;

# 2025-04-22 16:36:15.392627
+update assistants set assistant_type='DEFAULT_LANGCHAIN';

# 2025-04-22 17:59:00.479425
+update assistants set assistant_type='JINJA';

# 2025-04-22 19:25:45.653755
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-04-22 19:26:21.110093
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 1

# 2025-04-24 15:48:04.333794
+\c fsm_service

# 2025-04-24 15:48:18.270199
+update flow_configs set current_config = true where flow_id = 512;

# 2025-04-25 16:59:06.143918
+\c fsm_service

# 2025-04-25 16:59:35.623660
+select id from flows where uuid = '3a40dc82-5337-45ec-80db-79f9a7afd8da';

# 2025-04-25 16:59:47.867703
+select latest_config from flow_configs where flow_id = 100l

# 2025-04-25 16:59:49.530539
+select latest_config from flow_configs where flow_id = 100;

# 2025-04-25 17:00:02.392460
+select id, current_config, latest_config, version from flow_configs where flow_id = 100;

# 2025-04-25 17:00:27.350557
+update flow_configs set latest_config = true where flow_id = 100 and current_config = true;

# 2025-04-25 17:00:42.604976
+update flow_configs set latest_config = false where flow_id = 100 and latest_config = true;

# 2025-04-25 17:00:44.511513
+update flow_configs set latest_config = true where flow_id = 100 and current_config = true;

# 2025-04-28 04:23:13.491774
+\c fsm_service

# 2025-04-28 04:23:17.353510
+select id, current_config, latest_config, version from flow_configs where flow_id = 100;

# 2025-04-28 15:30:10.658329
+\c fsm_service

# 2025-04-28 15:30:18.211300
+\d+ meta_data_caches;

# 2025-04-28 15:31:08.511593
+\d meta_data_caches;

# 2025-04-29 18:45:32.277141
+\c fsm_service

# 2025-04-29 18:45:39.981386
+select version, current_config, application_parameters from flow_configs where current_config=true;

# 2025-04-29 18:45:58.453368
+select version, current_config, application_parameters from flow_configs where current_config=true and flow_id=517;

# 2025-04-29 18:46:07.128958
+select application_parameters from flow_configs where current_config=true and flow_id=517;

# 2025-04-29 18:46:19.829170
+select application_parameters->'deepgram_url' from flow_configs where current_config=true and flow_id=517;

# 2025-04-29 18:46:25.055710
+select application_parameters->'deepgram_models' from flow_configs where current_config=true and flow_id=517;

# 2025-04-29 18:46:28.955891
+select application_parameters->'deepgram_model' from flow_configs where current_config=true and flow_id=517;

# 2025-04-29 18:52:07.237211
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_flash_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "deepgram_model": "nova-2",
+        "deepgram_url": "ws://localhost:8082/v1/listen",
+        "deepgram_language": "en",
+
+        "on_call_ai_consent_required": "false",
+        "action_in_case_of_consent_refusal": "HANGUP",
+        "consent_required_for_ib_calls": "false",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call.",
+        "transfer_extension": "9040468489",
+        "transfer_ip": "127.0.0.1",
+        "transfer_port": "5060",
+        "transfer_metadata.hello": "world"
+    }
+}' where flow_id = 517;

# 2025-04-29 19:16:10.881367
+\c fsm_service

# 2025-04-29 20:22:28.314070
+select metadata->>'caller_details' from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-04-29 20:22:38.959196
+select metadata->>'application_parameters' from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-04-29 20:22:54.800739
+select metadata->'application_parameters'->>'deepgram_url' from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-05-02 15:39:13.054784
+\c orchestrator_service

# 2025-05-02 15:39:21.685738
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-02 15:39:46.182066
+select * from virtual_numbers where virtual_id = 203;

# 2025-05-02 15:39:49.691250
+select * from virtual_number where virtual_id = 203;

# 2025-05-02 15:39:54.409494
+select * from virtual_number where virtual_id = '203';

# 2025-05-02 15:40:03.918425
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19);

# 2025-05-02 15:40:08.215819
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19)

# 2025-05-02 15:40:14.941969
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19);

# 2025-05-02 15:40:18.019292
+\x

# 2025-05-02 15:40:19.085637
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19);

# 2025-05-02 15:42:03.030495
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19); \ev

# 2025-05-02 15:42:10.803971
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19); \ef

# 2025-05-02 15:42:21.889720
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19);

# 2025-05-02 15:42:28.611138
+\x

# 2025-05-02 15:42:29.640528
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19);

# 2025-05-02 15:46:05.397735
+\copy !!

# 2025-05-02 15:46:44.128054
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19); \o /tmp/runtime-config.json

# 2025-05-02 15:46:59.719703
+\c orchestrator_service

# 2025-05-02 15:47:06.254130
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19); \o '/tmp/runtime-config.json'

# 2025-05-02 15:47:13.994887
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19); \o /tmp/runtime-config.json

# 2025-05-02 15:47:58.236547
+\c orchestrator_service

# 2025-05-02 15:48:03.225922
+\x

# 2025-05-02 15:48:04.916061
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 19); \o /tmp/runtime-config.json

# 2025-05-02 15:50:53.733121
+update assistant_configs set runtime_config='
+{
+  "is_omnichannel": false,
+  "asr_config": [
+    {
+      "provider_id": 1,
+      "language": "en-US",
+      "name": "DEEPGRAM",
+      "model": "nova-2-general",
+      "config": {
+        "punctuate": false,
+        "vad_events": false,
+        "endpointing": 10,
+        "smart_format": false,
+        "interim_results": true,
+        "profanity_filter": false,
+        "endpointing_cutoff": 0.5
+      }
+    }
+  ],
+  "tts_config": [
+    {
+      "provider_id": 4,
+      "language": "en-US",
+      "name": "CARTESIA",
+      "model": "sonic-2024-12-12",
+      "config": {
+        "speed": -0.3,
+        "voice_id": "f9836c6e-a0bd-460e-9d3c-f7299fa60f94",
+        "add_timestamp": false
+      }
+    }
+  ],
+  "llm_config": null,
+  "barge_in_enabled": true
+}'

# 2025-05-02 16:33:57.383312
+\c orchestrator_service

# 2025-05-02 16:34:12.346647
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17); \o /tmp/runtime-config.json

# 2025-05-02 16:34:17.924222
+\x

# 2025-05-02 16:34:18.999653
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17); \o /tmp/runtime-config.json

# 2025-05-02 16:35:13.917446
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-02 16:35:28.921629
+\o

# 2025-05-02 16:35:31.673424
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-02 16:35:46.928560
+select * from virtual_number where virtual_id = '203';

# 2025-05-02 16:35:48.916988
+select * from virtual_number where virtual_id = '202';

# 2025-05-02 16:35:53.234371
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 16);

# 2025-05-02 16:36:11.618673
+select runtime_config from assistant_configs where id = (select prod_config_id from assistants where id = 16);

# 2025-05-02 16:36:32.643586
+select * from assistants where id = 16;

# 2025-05-02 16:36:37.265836
+\c orchestrator_service

# 2025-05-02 16:36:38.123196
+select * from assistants where id = 16;

# 2025-05-02 16:36:44.594476
+select * from virtual_number where virtual_id = '202';

# 2025-05-02 16:36:56.716236
+select runtime_config from assistant_configs where id = (select prod_config_id from assistants where id = 17);

# 2025-05-02 16:37:01.993561
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-02 16:37:10.326559
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 15);

# 2025-05-02 16:37:12.881373
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 16);

# 2025-05-02 16:37:15.064366
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-02 16:37:16.813558
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 18);

# 2025-05-02 16:37:21.921458
+select * from virtual_number where virtual_id = '202';

# 2025-05-02 16:37:23.563049
+select * from virtual_number where virtual_id = '201';

# 2025-05-02 16:37:25.876492
+select * from virtual_number where virtual_id = '203';

# 2025-05-02 16:37:28.911125
+select * from virtual_number where virtual_id = '202';

# 2025-05-02 16:37:47.898798
+select runtime_config from assistant_configs where id = 8;

# 2025-05-02 16:37:52.146778
+select runtime_config from assistant_configs where id = 9;

# 2025-05-02 16:37:56.758466
+select runtime_config from assistant_configs where id = 8;

# 2025-05-02 16:38:18.618465
+select name from assistants;

# 2025-05-02 16:38:23.783768
+select id, name from assistants;

# 2025-05-02 16:38:47.289356
+select * from assistant_configs where assistant_id = 1;

# 2025-05-02 16:38:54.680965
+select id from assistant_configs where assistant_id = 1;

# 2025-05-02 16:39:00.318859
+select id, name from assistants;

# 2025-05-02 16:39:07.557152
+select id from assistant_configs where assistant_id = 17;

# 2025-05-02 16:39:18.709119
+select id from assistant_configs where assistant_id = 18;

# 2025-05-02 16:39:24.160448
+select id from assistant_configs where assistant_id = 17;

# 2025-05-02 16:39:45.171688
+select * from assistant_configs where assistant_id = 17;

# 2025-05-02 16:40:02.213610
+select id, name from assistants;

# 2025-05-02 16:40:13.770885
+select * from virtual_number;

# 2025-05-02 16:40:34.920511
+select * from flow_configs;

# 2025-05-02 16:41:25.489441
+select * from flow_configs where assistant_id = 17;

# 2025-05-02 16:41:42.689126
+select * from assistant_configs where assistant_id = 17;

# 2025-05-02 16:41:50.405412
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-02 16:42:01.707330
+update assistant_configs set runtime_config='
+{
+  "is_omnichannel": false,
+  "asr_config": [
+    {
+      "provider_id": 1,
+      "language": "en-US",
+      "name": "DEEPGRAM",
+      "model": "nova-2-general",
+      "config": {
+        "punctuate": false,
+        "vad_events": false,
+        "endpointing": 10,
+        "smart_format": false,
+        "interim_results": true,
+        "profanity_filter": false,
+        "endpointing_cutoff": 0.5
+      }
+    }
+  ],
+  "tts_config": [
+    {
+      "provider_id": 4,
+      "language": "en-US",
+      "name": "CARTESIA",
+      "model": "sonic-2024-12-12",
+      "config": {
+        "speed": -0.3,
+        "voice_id": "f9836c6e-a0bd-460e-9d3c-f7299fa60f94",
+        "add_timestamp": false
+      }
+    }
+  ],
+  "llm_config": null,
+  "barge_in_enabled": true
+}'

# 2025-05-02 16:42:11.644491
+update assistant_configs set runtime_config='
+{
+  "is_omnichannel": false,
+  "asr_config": [
+    {
+      "provider_id": 1,
+      "language": "en-US",
+      "name": "DEEPGRAM",
+      "model": "nova-2-general",
+      "config": {
+        "punctuate": false,
+        "vad_events": false,
+        "endpointing": 10,
+        "smart_format": false,
+        "interim_results": true,
+        "profanity_filter": false,
+        "endpointing_cutoff": 0.5
+      }
+    }
+  ],
+  "tts_config": [
+    {
+      "provider_id": 4,
+      "language": "en-US",
+      "name": "CARTESIA",
+      "model": "sonic-2024-12-12",
+      "config": {
+        "speed": -0.3,
+        "voice_id": "f9836c6e-a0bd-460e-9d3c-f7299fa60f94",
+        "add_timestamp": false
+      }
+    }
+  ],
+  "llm_config": null,
+  "barge_in_enabled": false
+}'

# 2025-05-02 16:42:57.644722
+update assistants set assistant_type='JINJA';

# 2025-05-02 16:43:38.687647
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-05-02 16:43:40.922301
+update assistants set assistant_type='JINJA';

# 2025-05-02 17:11:26.100015
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-05-02 17:28:59.106385
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-03 14:24:05.781423
+\c orchestrator_service

# 2025-05-03 14:24:16.680560
+select * from virtual_number where virtual_id = '202';

# 2025-05-03 14:24:23.786931
+select * from flow_configs where assistant_id = 17;

# 2025-05-03 14:24:27.543213
+select * from virtual_number where virtual_id = '202';

# 2025-05-03 14:29:10.973737
+\c orchestrator_service

# 2025-05-03 14:29:14.281237
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-03 14:29:50.964229
+select * from language_provider_defaults;

# 2025-05-05 18:02:44.754642
+\c orchestrator_service

# 2025-05-05 18:02:46.747732
+update assistants set assistant_type='JINJA';

# 2025-05-05 18:06:19.268434
+update assistants set assistant_type='DEFAULT_LANGCHAIN';

# 2025-05-05 18:38:12.796278
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-05-05 18:54:00.574206
+select runtime_config from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-05 18:54:12.089703
+select runtime_config->>'tts_config' from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-05 19:24:33.659792
+select runtime_config->>'barge_in_enabled' from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-05 20:01:40.445137
+select * from flow_configs where assistant_id = 17;

# 2025-05-05 20:01:47.912355
+select general_instruction from flow_configs where assistant_id = 17;

# 2025-05-05 20:01:52.162998
+select * from flow_configs where assistant_id = 17;

# 2025-05-05 20:01:56.195910
+select general_instruction from flow_configs where assistant_id = 17;

# 2025-05-08 13:42:58.078897
+\c orchestrator_service

# 2025-05-08 13:43:02.792142
+select interaction_metadata->>'is_transfer' from interactions;

# 2025-05-08 13:44:26.407739
+select interaction_metadata->>'is_transfer' from interactions limit 1;

# 2025-05-08 18:12:30.475736
+\c orchestrator_service

# 2025-05-08 18:13:27.257245
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-05-08 18:13:34.047329
+select runtime_config->>'barge_in_enabled' from assistant_configs where id = (select draft_config_id from assistants where id = 17);

# 2025-05-08 18:13:39.117201
+select runtime_config->>'barge_in_enabled' from assistant_configs;

# 2025-05-08 20:37:10.176427
+\c orchestrator_service

# 2025-05-08 20:37:14.591346
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 1

# 2025-05-08 20:37:23.804026
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 10);

# 2025-05-08 20:37:28.370620
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-05-08 20:37:43.614850
+select type, message from interaction_conversations order by id desc;

# 2025-05-08 22:03:34.241601
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-05-08 22:03:40.091403
+update assistants set assistant_type='JINJA';

# 2025-05-08 22:13:51.665358
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-05-09 16:52:10.206157
+\c fsm_service

# 2025-05-09 16:52:29.025122
+select * from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-05-09 16:52:34.830037
+select uuid from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-05-09 16:52:43.492758
+select uuid from conversations;

# 2025-05-09 16:52:48.874974
+select uuid from conversations where call_id = (select id from calls order by id desc limit 1);

# 2025-05-09 16:53:18.427035
+select uuid from conversations where call_id = (select id from calls order by id desc limit 1) and uuid <> '';

# 2025-05-09 16:53:26.919415
+select uuid from conversations where call_id = (select id from calls order by id desc limit 1) and uuid != '';

# 2025-05-09 16:53:35.099850
+select uuid from conversations where call_id = (select id from calls order by id desc limit 1) and uuid is not null;

# 2025-05-09 16:53:40.331309
+select uuid from conversations where call_id = (select id from calls order by id desc limit 1) and uuid is null;

# 2025-05-09 16:53:48.100702
+select uuid from conversations where call_id = (select id from calls order by id desc limit 1) and text is not null;

# 2025-05-09 16:53:55.322049
+select uuid, text from conversations where call_id = (select id from calls order by id desc limit 1) and text is not null;

# 2025-05-09 16:54:13.331558
+select uuid, text from conversations where text is not null order by id desc;

# 2025-05-09 16:54:26.403583
+select uuid, text from conversations where text is not null order by id desc limit 1;

# 2025-05-09 16:56:41.622152
+\c fsm_service

# 2025-05-09 16:56:42.513797
+select uuid, text from conversations where text is not null order by id desc limit 1;

# 2025-05-09 16:56:48.174031
+select uuid, text from conversations where text is not null order by id desc limit 1; \watch 1

# 2025-05-09 16:57:49.365849
+select uuid, updated_at, text from conversations where text is not null order by id desc limit 1; \watch 1

# 2025-05-09 17:45:32.580989
+select uuid, updated_at, text from conversations where uuid = '7c076dfd-bd82-4fcf-ac55-5b560e293706'; \watch 1

# 2025-05-09 17:45:40.242340
+select uuid, updated_at, text from conversations where text is not null order by id desc limit 1; \watch 1

# 2025-05-09 17:45:45.627118
+select uuid, updated_at, text from conversations where text is not null order by id desc limit 2; \watch 1

# 2025-05-09 17:45:50.472155
+select uuid, updated_at, text from conversations where text is not null order by id desc limit 3; \watch 1

# 2025-05-09 17:46:07.300811
+select uuid, updated_at, text from conversations where uuid = 'f8e3db15-e576-4656-9144-19932b5c3f0b'; \watch 1

# 2025-05-09 17:47:52.164758
+select uuid, updated_at, text, metadata from conversations where uuid = 'f8e3db15-e576-4656-9144-19932b5c3f0b'

# 2025-05-09 18:46:13.842251
+select uuid, updated_at, text from conversations where text is not null order by id desc limit 3; \watch 1

# 2025-05-09 18:46:31.662983
+select uuid, updated_at, text from conversations where uuid = '7c076dfd-bd82-4fcf-ac55-5b560e293706'; \watch 10

# 2025-05-09 18:46:48.787066
+select uuid, updated_at, text from conversations where uuid = '7c076dfd-bd82-4fcf-ac55-5b560e293706';

# 2025-05-09 18:49:59.260584
+select uuid, type, updated_at, text from conversations where uuid = '7c076dfd-bd82-4fcf-ac55-5b560e293706';

# 2025-05-09 19:15:31.551404
+select uuid, updated_at, text from conversations where text is not null order by id desc limit 3; \watch 1

# 2025-05-09 19:15:35.721980
+select uuid, updated_at, text from conversations where text is not null order by id desc limit 30

# 2025-05-09 23:55:23.370455
+\c fsm_service

# 2025-05-09 23:55:28.212303
+\d calls;

# 2025-05-10 00:23:30.187585
+\c fsm_service

# 2025-05-10 00:23:41.656333
+select metadata->'application_parameters'->>'deepgram_url' from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-05-10 00:23:50.640657
+select metadata from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-05-10 00:24:22.227033
+select id from calls order by id desc limit 1;

# 2025-05-10 00:24:50.165866
+select metadata from live_contexts where call_id = (select id from calls where uuid = '45zJLhKW7HeNz2KjtBVX4w..');

# 2025-05-10 00:25:33.380153
+select metadata from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-05-10 00:25:54.483038
+select metadata from live_contexts where call_id = (select id from calls order by id desc limit 1); \watch 1

# 2025-05-10 00:27:48.188996
+select metadata from live_contexts where call_id = (select id from calls order by id desc limit 1); \watch 5

# 2025-05-10 00:37:58.256049
+select metadata from live_contexts where call_id = (select id from calls order by id desc limit 1); \watch 2

# 2025-05-10 01:31:15.711937
+select metadata->'application_parameters'->>'deepgram_url' from live_contexts where call_id = (select id from calls order by id desc limit 1);

# 2025-05-10 01:31:36.781100
+update flow_configs set application_parameters = '{
+    "parameters": {
+        "ocp": "Enable",
+        "model": "gpt-4o",
+        "module": "NAME-VERIFICATION",
+        "PG_name": "PayNearMe",
+        "holidays": "12-25-2023",
+        "is_local": "False",
+        "timezone": "US/Eastern",
+        "flow_type": "ob",
+        "flow_uuid": "testing",
+        "providers": "tcn",
+        "tts_model": "eleven_flash_v2_5",
+        "tts_voice": "Hope",
+        "llm_domain": "first-party",
+        "sms_number": " +16413545941",
+        "agency_name": "ABC Auto",
+        "ib_transfer": "Handle on the bot",
+        "working_hrs": "[{\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}, {\\\"ENABLED\\\": true, \\\"END_TIME\\\": \\\"23:00\\\", \\\"START_TIME\\\": \\\"00:00\\\"}]",
+        "payment_link": "-",
+        "tts_provider": "elevenlabs_http",
+        "PG_integrated": "Yes",
+        "language_code": "en-US",
+        "sms_link_type": "Static Link",
+        "connector_uuid": "5fdc5a68-f1db-4956-be77-a317af11ff79",
+        "inbound_module": "OUTBOUND-CALLBACK",
+        "debit_card_only": "False",
+        "perc_pg_charges": "0",
+        "schedule_payment": "True",
+        "transfer_default": "+18885121690",
+        "card_capture_mode": "DTMF",
+        "digital_agent_name": "NA",
+        "primary_tts_persona": "{}",
+        "use_fetch_update_api": "False",
+        "payment_provider_name": "paynearme",
+        "check_agent_availability": "True",
+        "tcn_schedule_template_id": "13",
+        "action_after_card_on_file": "Agent transfer",
+        "fix_dollar_charges_amount": "0",
+        "preverification_agency_name": "ABC Auto",
+        "confirmation_code_sms_template": "Dear {{.caller_details.first_name}} {{.caller_details.last_name}}, As discussed on the call, we have received the payment of ${{.caller_details.due_amount}} against your {{.application_parameters.agency_name}} account number {{.caller_details.Account}}, with transaction number {{.transaction_reference_code}} on {{.transaction_time_received}}. Call us on {{.application_parameters.transfer_default}} for any further questions. Reply HELP for help. Reply STOP to stop receiving this SMS. - {{.application_parameters.agency_name}}",
+        "type_of_PG_charges_on_call_card": "No charges to the consumer",
+        "auth_required": "True",
+        "auth_type": "Authentication",
+        "deepgram_model": "nova-2",
+        "deepgram_language": "en",
+
+        "on_call_ai_consent_required": "false",
+        "action_in_case_of_consent_refusal": "HANGUP",
+        "consent_required_for_ib_calls": "false",
+
+		"fcc_outbound_opening_prompt": "Hello! This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_inbound_opening_prompt": "Thanks for calling {{.agency_name}}. This is a digital agent on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_repeat_prompt": "This is {{.agency_name}} calling you about a personal business matter on a recorded line. To ensure a smoother experience, we''re utilizing our digital assistant today. Would you like to proceed with our artificial voice agent for this call?",
+		"fcc_hangup_prompt": "Thank you for your time. Unfortunately, we cannot proceed without your consent. If you have any further questions, feel free to contact us. Have a great day!",
+		"fcc_transfer_prompt": "Let me transfer you to one of our live agents to assist you further. Please stay on the line.",
+		"fcc_identity_prompt": "I''m {{.agency_name}}s digital assistant and this call is regarding a personal business matter. For security, I am not allowed to disclose more information before I have your consent to proceed with our artificial voice agent. Please say yes if you would like to move forward with our artificial voice agent for this call.",
+        "transfer_extension": "9040468489",
+        "transfer_ip": "127.0.0.1",
+        "transfer_port": "5060",
+        "transfer_metadata.hello": "world"
+    }
+}' where flow_id = 517;

# 2025-05-10 01:31:42.404294
+select metadata from live_contexts where call_id = (select id from calls order by id desc limit 1); \watch 2

# 2025-05-10 02:23:55.116510
+\c fsm_service

# 2025-05-10 02:24:05.702283
+\d+ conversations;

# 2025-05-10 02:28:22.426709
+\c fsm_service

# 2025-05-10 02:28:24.313494
+\d+ conversations;

# 2025-05-10 03:14:13.974496
+select uuid, updated_at, text from conversations where text is not null order by id desc limit 30

# 2025-05-10 03:14:23.996395
+select uuid, updated_at, call_id, text from conversations where text is not null order by id desc limit 30

# 2025-05-10 03:14:31.290761
+select uuid, call_id, text from conversations where text is not null order by id desc limit 30

# 2025-05-10 03:15:16.121516
+select uuid from calls order by id desc limit 1;

# 2025-05-10 03:40:17.878294
+select uuid from conversations where call_id = (select id from calls where uuid = 'fn5uqqfpQAjPmKZdXupphA..');

# 2025-05-10 03:40:48.765812
+select uuid from conversations where call_id in (select id from calls) and count(conversations) > 1;

# 2025-05-10 03:41:18.510580
+select uuid from conversations inner join calls on calls.id = conversations.call_id;

# 2025-05-10 03:41:37.161318
+select calls.uuid, conversations.uuid from conversations inner join calls on calls.id = conversations.call_id;

# 2025-05-10 03:41:45.818498
+select calls.uuid, conversations.uuid from conversations inner join calls on calls.id = conversations.call_id order by id desc limit 10;

# 2025-05-10 03:41:49.199891
+select calls.uuid, conversations.uuid from conversations inner join calls on calls.id = conversations.call_id order by calls.id desc limit 10;

# 2025-05-10 03:42:55.436352
+SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((uuid='4ee8d3f5-ce3a-4677-b60f-8b7f728a38b9') AND (conversations.call_id='1512') AND (type='RESPONSE')) ORDER BY "id";

# 2025-05-10 03:43:02.805814
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((uuid='4ee8d3f5-ce3a-4677-b60f-8b7f728a38b9') AND (conversations.call_id='1512') AND (type='RESPONSE')) ORDER BY "id";

# 2025-05-10 03:48:23.490858
+\c fsm_service

# 2025-05-10 03:48:25.124552
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((uuid='4ee8d3f5-ce3a-4677-b60f-8b7f728a38b9') AND (conversations.call_id='1512') AND (type='RESPONSE')) ORDER BY "id";

# 2025-05-10 03:48:56.318571
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((uuid = '4ee8d3f5-ce3a-4677-b60f-8b7f728a38b9' AND type = 'RESPONSE')) ORDER BY "conversations"."id" ASC LIMIT 1

# 2025-05-10 03:58:14.395094
+\c fsm_service

# 2025-05-10 03:58:16.094521
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((uuid = '4ee8d3f5-ce3a-4677-b60f-8b7f728a38b9' AND type = 'RESPONSE')) ORDER BY "conversations"."id" ASC LIMIT 1

# 2025-05-10 03:58:20.125917
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((uuid='4ee8d3f5-ce3a-4677-b60f-8b7f728a38b9') AND (conversations.call_id='1512') AND (type='RESPONSE')) ORDER BY "id";

# 2025-05-10 03:58:33.996198
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((uuid = '4ee8d3f5-ce3a-4677-b60f-8b7f728a38b9' AND type = 'RESPONSE')) ORDER BY "conversations"."id" ASC LIMIT 1

# 2025-05-10 03:59:44.402934
+explain analyse SELECT text FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((conversations.call_id='1512')) ORDER BY "id"

# 2025-05-10 04:00:09.121941
+SELECT type FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((conversations.call_id='1512')) ORDER BY "id"

# 2025-05-10 04:05:18.316388
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((conversations.call_id='1512')) ORDER BY "id"

# 2025-05-10 04:05:38.123196
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((uuid = '4ee8d3f5-ce3a-4677-b60f-8b7f728a38b9' AND type = 'RESPONSE')) ORDER BY "conversations"."id" ASC LIMIT 1

# 2025-05-10 04:05:49.753743
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((uuid='4ee8d3f5-ce3a-4677-b60f-8b7f728a38b9') AND (conversations.call_id='1512') AND (type='RESPONSE')) ORDER BY "id";

# 2025-05-10 04:05:56.189277
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((conversations.call_id='1512')) ORDER BY "id"

# 2025-05-10 16:29:37.024176
+\c fsm_service

# 2025-05-10 16:29:46.474706
+explain analyse SELECT * FROM "conversations"  WHERE "conversations"."deleted_at" IS NULL AND ((uuid = '4ee8d3f5-ce3a-4677-b60f-8b7f728a38b9' AND type = 'RESPONSE')) ORDER BY "conversations"."id" ASC LIMIT 1

# 2025-05-12 21:22:09.554235
+\c fsm_service

# 2025-05-12 21:22:21.879813
+select uuid from conversations where call_id in (select id from calls) and count(conversations) > 1;

# 2025-05-12 21:22:30.768981
+select uuid from conversations where call_id in (select id from calls);

# 2025-05-12 21:22:44.031233
+select count(id) from conversations where call_id in (select id from calls);

# 2025-05-12 21:22:55.549241
+select count(id) from conversations where call_id in (select id from calls) group by call_id;

# 2025-05-12 21:23:18.695829
+select count(id) from conversations inner join calls on calls.id = conversations.call_id;

# 2025-05-12 21:23:31.152018
+select count(conversations.id) from conversations inner join calls on calls.id = conversations.call_id group by calls.id; 

# 2025-05-12 21:23:41.281639
+select calls.id, count(conversations.id) from conversations inner join calls on calls.id = conversations.call_id group by calls.id; 

# 2025-05-12 21:24:14.087328
+select calls.uuid, count(conversations.id) from conversations inner join calls on calls.id = conversations.call_id group by calls.uuid; 

# 2025-05-12 21:24:52.568398
+select calls.uuid, count(conversations.id) from conversations inner join calls on calls.id = conversations.call_id where calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..' group by calls.uuid;

# 2025-05-12 21:25:14.527833
+select * from conversations inner join calls on calls.id = conversations.call_id where calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';

# 2025-05-12 21:25:33.717310
+select * from conversations inner join calls on calls.id = conversations.call_id inner join call_contexts ON call_contexts.call_id = calls.id inner join live_contexts ON live_contexts.call_id = calls.id where calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';

# 2025-05-12 21:25:50.546065
+select * from conversations outer join calls on calls.id = conversations.call_id outer join call_contexts ON call_contexts.call_id = calls.id outer join live_contexts ON live_contexts.call_id = calls.id where calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';

# 2025-05-12 21:26:09.637351
+select * from conversations inner join calls on calls.id = conversations.call_id outer join call_contexts ON call_contexts.call_id = calls.id outer join live_contexts ON live_contexts.call_id = calls.id where calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';

# 2025-05-12 21:26:15.118627
+select * from conversations inner join calls on calls.id = conversations.call_id left outer join call_contexts ON call_contexts.call_id = calls.id outer join live_contexts ON live_contexts.call_id = calls.id where calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';

# 2025-05-12 21:26:19.344852
+select * from conversations inner join calls on calls.id = conversations.call_id left outer join call_contexts ON call_contexts.call_id = calls.id left outer join live_contexts ON live_contexts.call_id = calls.id where calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';

# 2025-05-12 21:26:29.662692
+select * from conversations left outer join calls on calls.id = conversations.call_id left outer join call_contexts ON call_contexts.call_id = calls.id left outer join live_contexts ON live_contexts.call_id = calls.id where calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';

# 2025-05-12 21:27:30.924884
+SELECT *
+FROM calls
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+WHERE calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';
+

# 2025-05-12 21:28:47.500002
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  call_contexts.deleted_at AS call_contexts_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at
+FROM calls
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+WHERE calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';
+

# 2025-05-12 21:28:51.076046
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  call_contexts.deleted_at AS call_contexts_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at
+FROM calls
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+WHERE calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';

# 2025-05-12 21:29:12.425019
+SELECT
+calls.deleted_at AS calls_deleted_at,
+conversations.deleted_at AS conversations_deleted_at,
+call_contexts.deleted_at AS call_contexts_deleted_at,
+live_contexts.deleted_at AS live_contexts_deleted_at
+FROM calls
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+WHERE calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';

# 2025-05-12 21:29:23.404802
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at
+FROM calls
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+WHERE calls.uuid = 'nAOHMtGK3yYkNjAKLwlNlA..';

# 2025-05-13 15:39:05.001828
+\c fsm_service

# 2025-05-13 15:39:13.828868
+select calls.uuid, count(conversations.id) from conversations inner join calls on calls.id = conversations.call_id group by calls.uuid; 

# 2025-05-13 15:54:16.003665
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.deleted_at AS ab_logs_deleted_at,
+  analytics.deleted_at AS analytics_deleted_at,
+  call_contexts.deleted_at AS call_contexts_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+WHERE calls.uuid = 'e_ZRjdSP226lpKh4_uEQ7Q..;

# 2025-05-13 15:54:17.968042
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.deleted_at AS ab_logs_deleted_at,
+  analytics.deleted_at AS analytics_deleted_at,
+  call_contexts.deleted_at AS call_contexts_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+WHERE calls.uuid = 'e_ZRjdSP226lpKh4_uEQ7Q..';

# 2025-05-13 15:54:30.764052
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  -- ab_logs.deleted_at AS ab_logs_deleted_at,
+  analytics.deleted_at AS analytics_deleted_at,
+  call_contexts.deleted_at AS call_contexts_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+WHERE calls.uuid = 'e_ZRjdSP226lpKh4_uEQ7Q..';

# 2025-05-13 15:54:46.782291
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  -- ab_logs.deleted_at AS ab_logs_deleted_at,
+  -- analytics.deleted_at AS analytics_deleted_at,
+  call_contexts.deleted_at AS call_contexts_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+WHERE calls.uuid = 'e_ZRjdSP226lpKh4_uEQ7Q..';

# 2025-05-13 15:54:51.405472
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  -- ab_logs.deleted_at AS ab_logs_deleted_at,
+  -- analytics.deleted_at AS analytics_deleted_at,
+  -- call_contexts.deleted_at AS call_contexts_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+WHERE calls.uuid = 'e_ZRjdSP226lpKh4_uEQ7Q..';

# 2025-05-13 15:58:54.523479
+select calls.uuid, count(conversations.id) from conversations inner join calls on calls.id = conversations.call_id group by calls.uuid; 

# 2025-05-13 16:02:23.738672
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  -- ab_logs.deleted_at AS ab_logs_deleted_at,
+  -- analytics.deleted_at AS analytics_deleted_at,
+  -- call_contexts.deleted_at AS call_contexts_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+WHERE calls.uuid = 'oMno3Prvz8jXw_phd9qw2Q..';

# 2025-05-13 16:02:40.265709
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.deleted_at AS ab_logs_deleted_at,
+  analytics.deleted_at AS analytics_deleted_at,
+  call_contexts.deleted_at AS call_contexts_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+WHERE calls.uuid = 'oMno3Prvz8jXw_phd9qw2Q..';

# 2025-05-13 16:02:44.032026
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  -- ab_logs.deleted_at AS ab_logs_deleted_at,
+  -- analytics.deleted_at AS analytics_deleted_at,
+  -- call_contexts.deleted_at AS call_contexts_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+WHERE calls.uuid = 'oMno3Prvz8jXw_phd9qw2Q..';

# 2025-05-14 14:13:40.740074
+select calls.uuid, conversations.uuid from conversations inner join calls on calls.id = conversations.call_id order by id desc limit 10;

# 2025-05-14 14:13:44.383021
+select calls.uuid, conversations.uuid from conversations inner join calls on calls.id = conversations.call_id order by calls.id desc limit 10;

# 2025-05-14 14:14:01.355502
+SELECT
+  calls.deleted_at AS calls_deleted_at,
+  -- ab_logs.deleted_at AS ab_logs_deleted_at,
+  -- analytics.deleted_at AS analytics_deleted_at,
+  -- call_contexts.deleted_at AS call_contexts_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1;

# 2025-05-14 14:14:26.173676
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  calls.deleted_at AS calls_deleted_at,
+  -- ab_logs.deleted_at AS ab_logs_deleted_at,
+  -- analytics.deleted_at AS analytics_deleted_at,
+  -- call_contexts.deleted_at AS call_contexts_deleted_at,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1;

# 2025-05-14 14:14:54.067433
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id,
+  analytics.id,
+  call_contexts.id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1;

# 2025-05-14 14:15:13.365893
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1;

# 2025-05-14 14:16:01.712578
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  live_contexts.metadata->>'agent_type' as agent_type,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1;

# 2025-05-14 14:52:55.673933
+select * from ab_logs;

# 2025-05-14 14:56:47.514624
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  live_contexts.metadata->>'agent_type' as agent_type,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1;

# 2025-05-14 14:56:54.118243
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  live_contexts.metadata->>'agent_type' as agent_type,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1; \watch 5

# 2025-05-14 14:57:55.486340
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  live_contexts.metadata->>'agent_type' as agent_type,
+  live_contexts.metadata->>'is_transfer' as is_transfer,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1; \watch 5

# 2025-05-14 14:59:01.734623
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  live_contexts.metadata->>'agent_type' as agent_type,
+  live_contexts.metadata->>'is_transfer' as is_transfer,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1; \watch 5;

# 2025-05-14 14:59:07.114176
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  live_contexts.metadata->>'agent_type' as agent_type,
+  live_contexts.metadata->>'is_transfer' as is_transfer,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1;

# 2025-05-15 16:29:46.740169
+\c fsm_service

# 2025-05-15 16:29:51.553670
+select * from calls;

# 2025-05-15 16:29:57.213680
+select count(*) from calls;

# 2025-05-15 16:30:01.116046
+\c orchestrator_service

# 2025-05-15 16:30:10.021119
+select count(*) from interactions;

# 2025-05-15 21:27:04.426016
+\c orchestrator_service

# 2025-05-15 21:27:09.985592
+select * from provider_configs;

# 2025-05-15 21:27:25.075020
+select * from virtual_number where virtual_id = '202';

# 2025-05-15 21:27:26.658658
+select * from virtual_number where virtual_id = '204';

# 2025-05-15 21:27:31.006197
+select * from virtual_number where virtual_id = '205';

# 2025-05-15 21:28:36.645389
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-05-15 21:28:42.115109
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 5

# 2025-05-15 21:32:15.731401
+UPDATE integrations
+SET request_config = (
+  SELECT jsonb_set(
+    request_config::jsonb,
+    '{0,url}',
+    to_jsonb(
+      replace(
+        request_config::jsonb->0->>'url',
+        'http://integration-proxy-live.crm.svc.cluster.local',
+        'http://localhost:8007'
+      )
+    )
+  )
+)
+WHERE request_config IS NOT NULL and request_config::text like '%integration-proxy%';

# 2025-05-15 21:32:23.865607
+UPDATE integrations
+SET request_config = (
+  SELECT jsonb_set(
+    request_config::jsonb,
+    '{0,url}',
+    to_jsonb(
+      replace(
+        request_config::jsonb->0->>'url',
+        'http://integration-proxy.crm.svc.cluster.local',
+        'http://localhost:8007'
+      )
+    )
+  )
+)
+WHERE request_config IS NOT NULL and request_config::text like '%integration-proxy%';

# 2025-05-15 21:46:47.991314
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-05-19 17:19:43.253312
+\c fsm_service

# 2025-05-19 17:19:53.875100
+select * from calls where uuid = '8xP6sTIAqiEVqcJcX0kuXw..'

# 2025-05-19 17:20:08.648273
+\c fsm_service

# 2025-05-19 17:20:48.453599
+select * from calls order by id desc limit 1

# 2025-05-19 17:20:53.408286
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  live_contexts.metadata->>'agent_type' as agent_type,
+  live_contexts.metadata->>'is_transfer' as is_transfer,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1;

# 2025-05-19 17:20:59.886936
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  live_contexts.metadata->>'agent_type' as agent_type,
+  live_contexts.metadata->>'is_transfer' as is_transfer,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1; \watch 5

# 2025-05-19 17:21:12.201634
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  live_contexts.metadata->>'agent_type' as agent_type,
+  live_contexts.metadata->>'is_transfer' as is_transfer,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1;

# 2025-05-19 17:23:43.631812
+select deleted_at from calls;

# 2025-05-19 17:25:32.263824
+SELECT
+  calls.id,
+  calls.uuid,
+  calls.created_at,
+  live_contexts.metadata->>'agent_type' as agent_type,
+  live_contexts.metadata->>'is_transfer' as is_transfer,
+  calls.deleted_at AS calls_deleted_at,
+  ab_logs.id as ab_logs_id,
+  analytics.id as analytics_id,
+  call_contexts.id as call_contexts_id,
+  conversations.deleted_at AS conversations_deleted_at,
+  live_contexts.deleted_at AS live_contexts_deleted_at,
+  report_histories.deleted_at AS report_histories_deleted_at,
+  reported_calls.deleted_at AS reported_calls_deleted_at,
+  reported_errors.deleted_at AS reported_errors_deleted_at
+FROM calls
+LEFT OUTER JOIN ab_logs ON ab_logs.call_id = calls.id
+LEFT OUTER JOIN analytics ON analytics.call_id = calls.id
+LEFT OUTER JOIN call_contexts ON call_contexts.call_id = calls.id
+LEFT OUTER JOIN conversations ON conversations.call_id = calls.id
+LEFT OUTER JOIN live_contexts ON live_contexts.call_id = calls.id
+LEFT OUTER JOIN report_histories ON report_histories.call_id = calls.id
+LEFT OUTER JOIN reported_calls ON reported_calls.call_id = calls.id
+LEFT OUTER JOIN reported_errors ON reported_errors.call_id = calls.id
+order by calls.id desc limit 1;

# 2025-05-20 16:42:20.703100
+\c orchestrator_service

# 2025-05-20 16:42:22.819308
+update assistants set assistant_type='JINJA';

# 2025-05-20 16:44:35.631457
+select interaction_metadata->>'is_transfer' from interactions;

# 2025-05-20 16:44:44.195375
+select * from interactions;

# 2025-05-20 16:44:51.822375
+select * from interactions order by id desc limit 10;

# 2025-05-20 16:45:03.499219
+select end_call_status  interactions order by id desc limit 10;

# 2025-05-20 16:45:07.091536
+select end_call_status interactions order by id desc limit 10;

# 2025-05-20 16:45:09.991405
+select end_call_status from interactions order by id desc limit 10;

# 2025-05-20 16:45:16.504108
+select call_duration, end_call_status from interactions order by id desc limit 10;

# 2025-05-20 16:45:23.479031
+select call_duration, end_call_status from interactions order by id desc limit 25;

# 2025-05-20 16:45:41.215231
+select created_at, call_duration, end_call_status from interactions order by id desc limit 25;

# 2025-05-27 17:56:10.227478
+\c orchestrator_service

# 2025-05-27 17:56:14.608386
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-05-27 18:03:21.113123
+update assistants set assistant_type='JINJA';

# 2025-05-27 20:15:03.853349
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-05-27 20:45:02.669219
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-05-28 14:34:25.332631
+create database studio;

# 2025-05-28 18:29:48.838669
+create database warehouse;

# 2025-05-28 19:23:25.657692
+\c orchestrator_service

# 2025-05-28 19:23:28.221383
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-05-29 14:58:16.162350
+\c orchestrator_service

# 2025-05-29 15:34:54.138753
+\c outbound_handlers_1745581640211843068_db

# 2025-05-29 15:34:56.425060
+\c orchestrator_service

# 2025-05-29 15:35:11.611025
+update assistants set assistant_type='JINJA';

# 2025-05-29 15:49:29.900099
+select
+interactions.created_at,
+vendor_call_id,
+end_call_status,
+call_duration,
+status,
+disposition,
+interaction_metadata->>'disposition' as "metadata_disposition",
+interaction_metadata->>'post_call_action' as "post_call_action",
+assistants.name,
+assistant_type,
+*
+from
+interactions
+inner join
+assistants on assistants.id = interactions.assistant_id
+where
+channel = 'VOICE'
+and is_test = false
+and interactions.created_at > '2025-05-26'
+and virtual_id <> 'web-call'
+and interaction_metadata->>'disposition' in (null, '')
+and interaction_metadata->>'application_parameters' is null
+and end_call_status is null
+-- [[ and ]]
+-- and disposition = ''
+-- and interaction_metadata->>'post_call_action' is null
+-- and end_call_status not in ('HANGUP', 'USER_HANGUP', 'TRANSFER')
+-- and vendor_call_id in ('d624fe6e-6e8b-4f0a-b37d-1914f251cef3', 'I400516310')
+
+-- group by assistants.name
+order by interactions.id desc

# 2025-05-29 15:49:56.115400
+select
+interactions.created_at,
+vendor_call_id,
+end_call_status,
+call_duration,
+status,
+disposition,
+interaction_metadata->>'disposition' as "metadata_disposition",
+interaction_metadata->>'post_call_action' as "post_call_action",
+assistants.name,
+assistant_type,
+*
+from
+interactions
+inner join
+assistants on assistants.id = interactions.assistant_id
+where
+channel = 'VOICE'
+and is_test = false
+and interactions.created_at > '2025-05-26'
+and virtual_id <> 'web-call'
+-- and interaction_metadata->>'disposition' in (null, '')
+-- and interaction_metadata->>'application_parameters' is null
+-- and end_call_status is null
+order by interactions.id desc

# 2025-05-29 15:52:05.599147
+select
+interactions.created_at,
+vendor_call_id,
+end_call_status,
+call_duration,
+status,
+disposition,
+interaction_metadata->>'disposition' as "metadata_disposition",
+interaction_metadata->>'post_call_action' as "post_call_action",
+assistants.name,
+assistant_type,
+*
+from
+interactions
+inner join
+assistants on assistants.id = interactions.assistant_id
+where
+channel = 'VOICE'
+and is_test = false
+and interactions.created_at > '2025-05-26'
+and virtual_id <> 'web-call'
+-- and interaction_metadata->>'disposition' in (null, '')
+-- and interaction_metadata->>'application_parameters' is null
+-- and end_call_status is null
+order by interactions.id desc limit 10;

# 2025-05-29 15:52:19.964416
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-05-29 15:52:27.877964
+select
+interactions.created_at,
+vendor_call_id,
+end_call_status,
+call_duration,
+status,
+disposition,
+interaction_metadata->>'disposition' as "metadata_disposition",
+interaction_metadata->>'post_call_action' as "post_call_action",
+assistants.name,
+assistant_type,
+*
+from
+interactions
+inner join
+assistants on assistants.id = interactions.assistant_id
+where
+channel = 'VOICE'
+and is_test = false
+and interactions.created_at > '2025-05-26'
+and virtual_id <> 'web-call'
+-- and interaction_metadata->>'disposition' in (null, '')
+-- and interaction_metadata->>'application_parameters' is null
+-- and end_call_status is null
+order by interactions.id desc limit 10 \watch 10;

# 2025-05-29 15:52:32.603268
+select
+interactions.created_at,
+vendor_call_id,
+end_call_status,
+call_duration,
+status,
+disposition,
+interaction_metadata->>'disposition' as "metadata_disposition",
+interaction_metadata->>'post_call_action' as "post_call_action",
+assistants.name,
+assistant_type,
+*
+from
+interactions
+inner join
+assistants on assistants.id = interactions.assistant_id
+where
+channel = 'VOICE'
+and is_test = false
+and interactions.created_at > '2025-05-26'
+and virtual_id <> 'web-call'
+-- and interaction_metadata->>'disposition' in (null, '')
+-- and interaction_metadata->>'application_parameters' is null
+-- and end_call_status is null
+order by interactions.id desc limit 10;

# 2025-05-29 15:53:35.828444
+select
+interactions.created_at,
+vendor_call_id,
+end_call_status,
+call_duration,
+status,
+disposition,
+interaction_metadata->>'disposition' as "metadata_disposition",
+interaction_metadata->>'post_call_action' as "post_call_action",
+assistants.name,
+assistant_type
+from
+interactions
+inner join
+assistants on assistants.id = interactions.assistant_id
+where
+channel = 'VOICE'
+and is_test = false
+and interactions.created_at > '2025-05-26'
+and virtual_id <> 'web-call'
+-- and interaction_metadata->>'disposition' in (null, '')
+-- and interaction_metadata->>'application_parameters' is null
+-- and end_call_status is null
+order by interactions.id desc limit 10;

# 2025-05-29 16:52:52.400653
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-05-29 17:04:35.411894
+select runtime_config->>'barge_in_enabled' from assistant_configs;

# 2025-05-29 17:04:41.579992
+select runtime_config from assistant_configs;

# 2025-05-29 17:04:51.566197
+select runtime_config->>'tts_config' from assistant_configs;

# 2025-05-29 17:04:57.938299
+select runtime_config->>'tts_config'->>'language' from assistant_configs;

# 2025-05-29 17:05:00.593825
+select runtime_config->'tts_config'->>'language' from assistant_configs;

# 2025-05-29 17:05:04.010486
+select runtime_config->'tts_config'->>'languages' from assistant_configs;

# 2025-05-29 17:05:06.252932
+select runtime_config from assistant_configs;

# 2025-05-29 17:05:17.647418
+select runtime_config->>'languages' from assistant_configs;

# 2025-05-29 17:05:22.717385
+select runtime_config from assistant_configs;

# 2025-05-29 17:05:34.410307
+select language from assistant_configs;

# 2025-05-29 17:05:44.371790
+select default_language_code from assistants;

# 2025-05-29 17:05:50.641045
+select default_language from assistants;

# 2025-05-29 17:05:57.448850
+select languages from assistants;

# 2025-05-29 17:06:03.895771
+select id, virtual_id, languages from assistants;

# 2025-05-29 17:06:10.245933
+select id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-05-29 17:06:14.882113
+select virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-05-29 17:32:23.151348
+select id, * from runtime_providers where name = 'GOOGLE' and type = 'TTS';

# 2025-05-29 17:32:34.205907
+select id, * from runtime_providers where name = 'GOOGLE' and type = 'ASR';

# 2025-05-29 17:32:41.967635
+select id, * from runtime_providers where type = 'ASR';

# 2025-05-29 17:32:56.268697
+select * from language_provider_defaults;

# 2025-05-29 17:32:59.659901
+select id, * from runtime_providers where type = 'ASR';

# 2025-05-29 17:33:12.744892
+select id, * from runtime_providers where language = 'hi-IN';

# 2025-05-29 17:33:25.359929
+select virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-05-29 17:34:09.150009
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-05-29 17:36:20.899438
+\c orchestrator_service

# 2025-05-29 17:42:45.476182
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-02 14:45:04.053635
+\c orchestrator_service

# 2025-06-02 14:45:07.213455
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-02 18:00:31.211274
+\c orchestrator_service

# 2025-06-02 18:00:34.037972
+update assistants set assistant_type='JINJA';

# 2025-06-02 19:38:57.979896
+\c orchestrator_service

# 2025-06-02 19:39:00.859148
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-06-02 19:40:58.308441
+select id, * from runtime_providers where name = 'GOOGLE' and type = 'ASR';

# 2025-06-02 19:41:01.647501
+select id, * from runtime_providers where name = 'GOOGLE' and type = 'TTS';

# 2025-06-02 19:41:30.435957
+select * from virtual_number where virtual_id = '205';

# 2025-06-02 19:41:46.025964
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-02 19:41:53.616532
+select assistants.id, virtual_id, languages, runtime_config from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-02 19:41:59.783873
+select language from assistant_configs;

# 2025-06-02 19:42:13.028871
+select runtime_config from assistant_configs where assistant_id = 22;

# 2025-06-02 19:42:21.994266
+select runtime_config->'tts_config' from assistant_configs where assistant_id = 22;

# 2025-06-02 19:42:37.809707
+select runtime_config->'tts_config'->>'' from assistant_configs where assistant_id = 22;

# 2025-06-02 19:42:40.961001
+select runtime_config->'tts_config' from assistant_configs where assistant_id = 22;

# 2025-06-02 19:42:47.225452
+select runtime_config->'tts_config'->1 from assistant_configs where assistant_id = 22;

# 2025-06-02 19:42:56.320683
+select runtime_config->'tts_config'->1->'model' from assistant_configs where assistant_id = 22;

# 2025-06-02 19:49:09.929504
+select runtime_config->'tts_config'->1 from assistant_configs where assistant_id = 22;

# 2025-06-02 19:49:37.805373
+select id, * from runtime_providers where name = 'GOOGLE' and type = 'TTS';

# 2025-06-02 19:52:47.416881
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-02 20:17:45.839498
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 5

# 2025-06-02 20:26:28.244485
+select count(*) from interactions;

# 2025-06-02 20:26:33.989742
+\c fsm_service

# 2025-06-02 20:26:49.968724
+select count(*) from calls;

# 2025-06-03 15:37:46.251214
+\c orchestrator_service

# 2025-06-03 15:37:48.505881
+update assistants set assistant_type='JINJA';

# 2025-06-03 15:38:34.930586
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-06-03 16:20:36.105978
+select runtime_config->'tts_config'->1 from assistant_configs where assistant_id = 22;

# 2025-06-03 16:21:47.847748
+select id, * from runtime_providers where name = 'GOOGLE' and type = 'TTS';

# 2025-06-03 16:21:58.563163
+select id, * from runtime_providers where name = 'DEEPGRAM' and type = 'AR';

# 2025-06-03 16:22:00.024846
+select id, * from runtime_providers where name = 'DEEPGRAM' and type = 'ASR';

# 2025-06-03 16:22:06.968768
+edit

# 2025-06-03 16:22:40.666464
+update runtime_providers set default_model = 'nova-3-general' where id = 11;

# 2025-06-03 16:22:44.004212
+select id, * from runtime_providers where name = 'DEEPGRAM' and type = 'ASR';

# 2025-06-03 16:23:08.511106
+select * from language_provider_defaults;

# 2025-06-03 16:23:15.854659
+select id, * from runtime_providers where name = 'DEEPGRAM' and type = 'ASR';

# 2025-06-03 16:23:33.673216
+select id, config from runtime_providers where name = 'DEEPGRAM' and type = 'ASR';

# 2025-06-03 16:23:45.390056
+select id, config from runtime_providers where name = 'DEEPGRAM' and type = 'ASR' where id = 11;

# 2025-06-03 16:23:48.888012
+select id, config from runtime_providers where name = 'DEEPGRAM' and type = 'ASR' and id = 11;

# 2025-06-03 16:23:54.630248
+\x

# 2025-06-03 16:23:55.948075
+select id, config from runtime_providers where name = 'DEEPGRAM' and type = 'ASR' and id = 11;

# 2025-06-03 16:24:15.508321
+select id, config from runtime_providers where name = 'DEEPGRAM' and type = 'ASR';

# 2025-06-03 16:24:16.727280
+\x

# 2025-06-03 16:24:17.874895
+select id, config from runtime_providers where name = 'DEEPGRAM' and type = 'ASR';

# 2025-06-03 16:24:27.374635
+select id, models from runtime_providers where name = 'DEEPGRAM' and type = 'ASR';

# 2025-06-03 16:25:20.420658
+update runtime_providers set models = {'nova-2-general', 'nova-3-general'} where name = 'DEEPGRAM';

# 2025-06-03 16:25:57.079484
+UPDATE runtime_providers 
+SET models = ARRAY['nova-2-general', 'nova-3-general'] 
+WHERE name = 'DEEPGRAM';
+

# 2025-06-03 16:26:02.597840
+select id, models from runtime_providers where name = 'DEEPGRAM' and type = 'ASR';

# 2025-06-03 16:29:53.515127
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 5

# 2025-06-03 18:40:02.328701
+select assistants.id, virtual_id, languages, runtime_config from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-03 18:40:08.481856
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-04 15:40:10.274593
+\c orchestrator_service

# 2025-06-04 15:40:12.511567
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 5

# 2025-06-04 15:40:25.257245
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-04 15:57:04.237930
+select runtime_config->>'barge_in_enabled' from assistant_configs;

# 2025-06-04 15:59:08.151053
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-04 18:22:53.472147
+select interaction_metadata->>'is_transfer' from interactions where vendor_call_id = 'TsAMCAa9a5VzJalcf--7Aw..';

# 2025-06-04 18:22:58.393537
+select interaction_metadata from interactions where vendor_call_id = 'TsAMCAa9a5VzJalcf--7Aw..';

# 2025-06-04 18:23:06.512655
+\x

# 2025-06-04 18:23:07.360842
+select interaction_metadata from interactions where vendor_call_id = 'TsAMCAa9a5VzJalcf--7Aw..';

# 2025-06-04 18:23:16.998215
+\x

# 2025-06-04 18:52:24.754554
+\c orchestrator_service

# 2025-06-04 18:52:29.713433
+select
+interactions.created_at,
+vendor_call_id,
+end_call_status,
+call_duration,
+status,
+disposition,
+interaction_metadata->>'disposition' as "metadata_disposition",
+interaction_metadata->>'post_call_action' as "post_call_action",
+assistants.name,
+assistant_type
+from
+interactions
+inner join
+assistants on assistants.id = interactions.assistant_id
+where
+channel = 'VOICE'
+and is_test = false
+and interactions.created_at > '2025-05-26'
+and virtual_id <> 'web-call'
+-- and interaction_metadata->>'disposition' in (null, '')
+-- and interaction_metadata->>'application_parameters' is null
+-- and end_call_status is null
+order by interactions.id desc limit 10;

# 2025-06-04 20:04:56.852460
+select id, * from runtime_providers where name = 'GOOGLE' and type = 'TTS';

# 2025-06-04 20:05:12.686938
+select id, config from runtime_providers where name = 'GOOGLE' and type = 'TTS' limit 1;

# 2025-06-04 20:05:14.122808
+\x

# 2025-06-04 20:05:14.895571
+select id, config from runtime_providers where name = 'GOOGLE' and type = 'TTS' limit 1;

# 2025-06-04 20:05:47.883623
+\x

# 2025-06-06 18:19:14.525753
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-06 18:23:26.744076
+select runtime_config from assistant_configs where assistant_id = 22;

# 2025-06-06 18:23:42.824643
+select runtime_config from assistant_configs limit 1;

# 2025-06-06 18:23:49.996220
+select runtime_config from assistant_configs order by id desc limit 1;

# 2025-06-06 18:24:21.853811
+select runtime_config from assistant_configs where runtime_config->'tts_config'->0->'GOOGLE' order by id desc limit 1;

# 2025-06-06 18:24:35.681622
+select runtime_config from assistant_configs where runtime_config->'tts_config'->0->>'name' = 'GOOGLE' order by id desc limit 1;

# 2025-06-06 18:24:42.560537
+select runtime_config from assistant_configs where runtime_config->'tts_config'->0->>'name' = 'GOOGLE';

# 2025-06-06 18:24:50.367179
+select runtime_config::json from assistant_configs where runtime_config->'tts_config'->0->>'name' = 'GOOGLE';

# 2025-06-06 18:24:55.750889
+select runtime_config::jsonb from assistant_configs where runtime_config->'tts_config'->0->>'name' = 'GOOGLE';

# 2025-06-06 18:25:01.518879
+select runtime_config::jsonb from assistant_configs where runtime_config->'tts_config'->1->>'name' = 'GOOGLE';

# 2025-06-06 18:25:40.797615
+select runtime_config::jsonb from assistant_configs where runtime_config->'tts_config'->1->>'name' = 'GOOGLE' and 'voice_id' in runtime_config;

# 2025-06-06 18:25:46.782758
+select runtime_config::jsonb from assistant_configs where runtime_config->'tts_config'->1->>'name' = 'GOOGLE' and 'voice_id' ~ runtime_config;

# 2025-06-06 18:25:56.252973
+select runtime_config::jsonb from assistant_configs where runtime_config->'tts_config'->1->>'name' = 'GOOGLE' and runtime_config::text ~ 'voice_id';

# 2025-06-06 18:26:15.313283
+select runtime_config::jsonb from assistant_configs where runtime_config->>'tts_config'::text ~ 'GOOGLE' and runtime_config::text ~ 'voice_id';

# 2025-06-06 18:27:36.822593
+UPDATE assistant_configs
+SET runtime_config = jsonb_set(
+    runtime_config,
+    '{tts_config}',
+    (
+        SELECT jsonb_agg(
+            CASE
+                WHEN config->'config' ? 'voice_id' AND name = 'GOOGLE' THEN
+                    jsonb_set(config, '{config}', (config->'config') - 'voice_id')
+                ELSE config
+            END
+        )
+        FROM jsonb_array_elements(runtime_config->'tts_config') AS config(config)
+    )
+)
+WHERE runtime_config->>'tts_config'::text ~ 'GOOGLE' 
+AND runtime_config::text ~ 'voice_id';

# 2025-06-06 18:27:58.903234
+UPDATE assistant_configs
+SET runtime_config = jsonb_set(
+    runtime_config,
+    '{tts_config}',
+    (
+        SELECT jsonb_agg(
+            CASE
+                WHEN config->'config' ? 'voice_id' AND name = 'GOOGLE' THEN
+                    jsonb_set(config, '{config}', (config->'config') - 'voice_id')
+                ELSE config
+            END
+        )
+        FROM json_array_elements(runtime_config->'tts_config') AS config(config)
+    )
+)
+WHERE runtime_config->>'tts_config'::text ~ 'GOOGLE' 
+AND runtime_config::text ~ 'voice_id';

# 2025-06-06 18:28:04.130545
+UPDATE assistant_configs
+SET runtime_config = jsonb_set(
+    runtime_config,
+    '{tts_config}',
+    (
+        SELECT jsonb_agg(
+            CASE
+                WHEN config->'config' ? 'voice_id' AND name = 'GOOGLE' THEN
+                    jsonb_set(config, '{config}', (config->'config') - 'voice_id')
+                ELSE config
+            END
+        )
+        FROM jsonb_array_elements(runtime_config->'tts_config') AS config(config)
+    )
+)
+WHERE runtime_config->>'tts_config'::text ~ 'GOOGLE' 
+AND runtime_config::text ~ 'voice_id';

# 2025-06-06 18:28:43.923468
+UPDATE assistant_configs
+SET runtime_config = jsonb_set(
+    runtime_config,
+    '{tts_config}',
+    (
+        SELECT jsonb_agg(
+            CASE
+                WHEN config->'config' ? 'voice_id' AND config->>'name' = 'GOOGLE' THEN
+                    jsonb_set(config, '{config}', (config->'config') - 'voice_id')
+                ELSE config
+            END
+        )
+        FROM jsonb_array_elements(runtime_config->'tts_config'::jsonb) AS config
+    )
+)
+WHERE runtime_config->>'tts_config'::text ~ 'GOOGLE' 
+AND runtime_config::text ~ 'voice_id';

# 2025-06-06 18:29:35.310552
+UPDATE assistant_configs
+SET runtime_config = jsonb_set(
+    runtime_config,
+    '{tts_config}',
+    (
+        SELECT jsonb_agg(
+            CASE
+                WHEN elem->>'name' = 'GOOGLE' AND elem->'config' ? 'voice_id' THEN
+                    jsonb_build_object(
+                        'name', elem->>'name',
+                        'model', elem->>'model',
+                        'config', (elem->'config') - 'voice_id'
+                    )::jsonb
+                ELSE elem
+            END
+        )
+        FROM jsonb_array_elements(runtime_config->'tts_config') elem
+    )
+)
+WHERE runtime_config->>'tts_config' IS NOT NULL
+AND runtime_config::text ~ 'GOOGLE'
+AND runtime_config::text ~ 'voice_id';

# 2025-06-06 18:29:46.918792
+UPDATE assistant_configs
+SET runtime_config = jsonb_set(
+    runtime_config,
+    '{tts_config}',
+    (
+        SELECT jsonb_agg(
+            CASE
+                WHEN elem->>'name' = 'GOOGLE' AND elem->'config' ? 'voice_id' THEN
+                    jsonb_build_object(
+                        'name', elem->>'name',
+                        'model', elem->>'model',
+                        'config', (elem->'config') - 'voice_id'
+                    )::jsonb
+                ELSE elem
+            END
+        )
+        FROM jsonb_array_elements(runtime_config->'tts_config')::jsonb elem
+    )
+)
+WHERE runtime_config->>'tts_config' IS NOT NULL
+AND runtime_config::text ~ 'GOOGLE'
+AND runtime_config::text ~ 'voice_id';

# 2025-06-06 18:30:06.541128
+UPDATE assistant_configs
+SET runtime_config = jsonb_set(
+    runtime_config,
+    '{tts_config}',
+    (
+        SELECT jsonb_agg(
+            CASE
+                WHEN elem->>'name' = 'GOOGLE' AND elem->'config' ? 'voice_id' THEN
+                    jsonb_build_object(
+                        'name', elem->>'name',
+                        'model', elem->>'model',
+                        'config', (elem->'config') - 'voice_id'
+                    )::jsonb
+                ELSE elem
+            END
+        )
+        FROM jsonb_array_elements(runtime_config->'tts_config'::jsonb) elem
+    )
+)
+WHERE runtime_config->>'tts_config' IS NOT NULL
+AND runtime_config::text ~ 'GOOGLE'
+AND runtime_config::text ~ 'voice_id';

# 2025-06-06 18:30:10.713308
+UPDATE assistant_configs
+SET runtime_config = jsonb_set(
+    runtime_config,
+    '{tts_config}',
+    (
+        SELECT jsonb_agg(
+            CASE
+                WHEN elem->>'name' = 'GOOGLE' AND elem->'config' ? 'voice_id' THEN
+                    jsonb_build_object(
+                        'name', elem->>'name',
+                        'model', elem->>'model',
+                        'config', (elem->'config') - 'voice_id'
+                    )::jsonb
+                ELSE elem
+            END
+        )
+        FROM jsonb_array_elements(runtime_config->'tts_config') elem
+    )
+)
+WHERE runtime_config->>'tts_config' IS NOT NULL
+AND runtime_config::text ~ 'GOOGLE'
+AND runtime_config::text ~ 'voice_id';

# 2025-06-06 18:30:40.520545
+UPDATE assistant_configs
+SET runtime_config = jsonb_set(
+    runtime_config::jsonb,
+    '{tts_config}',
+    (
+        WITH tts_elements AS (
+            SELECT jsonb_array_elements(runtime_config::jsonb->'tts_config') AS elem
+        )
+        SELECT jsonb_agg(
+            CASE
+                WHEN elem->>'name' = 'GOOGLE' AND elem->'config' ? 'voice_id' THEN
+                    jsonb_set(elem, '{config}', (elem->'config') - 'voice_id')
+                ELSE elem
+            END
+        ) FROM tts_elements
+    )
+)
+WHERE runtime_config->>'tts_config' IS NOT NULL
+AND runtime_config::text ~ 'GOOGLE'
+AND runtime_config::text ~ 'voice_id';

# 2025-06-06 18:30:50.612390
+select runtime_config::jsonb from assistant_configs where runtime_config->'tts_config'->1->>'name' = 'GOOGLE' and runtime_config::text ~ 'voice_id';

# 2025-06-06 18:31:02.084602
+select runtime_config::jsonb from assistant_configs where runtime_config->>'tts_config'::text ~ 'GOOGLE' and runtime_config::text ~ 'voice_id';

# 2025-06-06 18:31:12.316837
+select id, runtime_config::jsonb from assistant_configs where runtime_config->>'tts_config'::text ~ 'GOOGLE' and runtime_config::text ~ 'voice_id';

# 2025-06-06 18:31:26.744582
+select id, runtime_config->>'tts_config' from assistant_configs where runtime_config->>'tts_config'::text ~ 'GOOGLE' and runtime_config::text ~ 'voice_id';

# 2025-06-06 18:31:43.725772
+select id, runtime_config->'tts_config'->1 from assistant_configs where runtime_config->>'tts_config'::text ~ 'GOOGLE' and runtime_config::text ~ 'voice_id';

# 2025-06-06 18:31:56.347009
+select id, runtime_config->'tts_config'->1->'config' from assistant_configs where runtime_config->>'tts_config'::text ~ 'GOOGLE' and runtime_config::text ~ 'voice_id';

# 2025-06-06 18:32:16.689039
+\c orchestrator_service

# 2025-06-06 18:35:12.504240
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-06 18:35:51.217682
+select interaction_metadata from interactions order by id desc limit 1;

# 2025-06-06 18:36:00.677045
+select interaction_metadata->>'card_number' from interactions order by id desc limit 1;

# 2025-06-06 18:36:03.754467
+select interaction_metadata from interactions order by id desc limit 1;

# 2025-06-06 18:38:21.330896
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-06 18:38:30.624563
+select interaction_metadata from interactions order by id desc limit 1;

# 2025-06-06 20:19:51.342658
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-09 15:20:06.563829
+\c orchestrator_service

# 2025-06-09 15:20:09.778450
+select interaction_metadata from interactions order by id desc limit 1;

# 2025-06-09 15:20:18.390594
+select interaction_metadata->>'card_number' from interactions order by id desc limit 1;

# 2025-06-09 15:23:44.241194
+select interaction_metadata->>'card_cvv' from interactions order by id desc limit 1;

# 2025-06-09 16:17:55.477398
+select interaction_metadata->>'card_number' from interactions order by id desc limit 1;

# 2025-06-09 16:30:52.900046
+UPDATE integrations
+SET request_config = (
+  SELECT jsonb_set(
+    request_config::jsonb,
+    '{0,url}',
+    to_jsonb(
+      replace(
+        request_config::jsonb->0->>'url',
+        'http://integration-proxy.crm.svc.cluster.local',
+        'http://localhost:8007'
+      )
+    )
+  )
+)
+WHERE request_config IS NOT NULL and request_config::text like '%integration-proxy%';

# 2025-06-09 16:31:00.869590
+UPDATE integrations
+SET request_config = (
+  SELECT jsonb_set(
+    request_config::jsonb,
+    '{0,url}',
+    to_jsonb(
+      replace(
+        request_config::jsonb->0->>'url',
+        'http://integration-proxy-live.crm.svc.cluster.local',
+        'http://localhost:8007'
+      )
+    )
+  )
+)
+WHERE request_config IS NOT NULL and request_config::text like '%integration-proxy%';

# 2025-06-09 16:33:27.408285
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-10 17:45:33.731753
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-12 17:35:51.888533
+\c orchestrator_service

# 2025-06-12 19:49:32.949887
+select interaction_metadata->>'card_number' from interactions order by id desc limit 1;

# 2025-06-12 19:50:53.333732
+select interaction_metadata->>'assistant_name' from interactions order by id desc limit 1;

# 2025-06-12 19:51:02.410816
+select interaction_metadata->>'default_language_code' from interactions order by id desc limit 1;

# 2025-06-12 20:08:05.042853
+select interaction_metadata->>'language_code' from interactions order by id desc limit 1;

# 2025-06-12 20:08:16.097142
+select interaction_metadata from interactions order by id desc limit 1;

# 2025-06-12 20:08:23.215174
+select interaction_metadata->>'language_code' from interactions order by id desc limit 1;

# 2025-06-12 20:08:24.532428
+select interaction_metadata->>'default_language_code' from interactions order by id desc limit 1;

# 2025-06-17 16:53:53.682331
+\c orchestrator_service

# 2025-06-17 16:55:19.205460
+select id, config from runtime_providers where name = 'GOOGLE' and type = 'ASR' limit 1;

# 2025-06-17 16:55:35.325273
+select *, id, config from runtime_providers where name = 'GOOGLE' and type = 'ASR' limit 1;

# 2025-06-17 16:56:31.598363
+UPDATE runtime_providers 
+SET models = ARRAY['latest_long','default', 'latest_short', 'phonecall', 'chirp', 'chirp_2'] 
+WHERE name = 'GOOGLE';
+

# 2025-06-17 16:56:43.439845
+UPDATE runtime_providers 
+SET models = ARRAY['latest_long','default', 'latest_short', 'phonecall', 'chirp', 'chirp_2'] 
+WHERE name = 'GOOGLE' and type = 'TTS';
+

# 2025-06-17 16:59:20.620995
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-17 17:00:45.855865
+select *, id, config from runtime_providers where name = 'GOOGLE' and type = 'ASR' limit 1;

# 2025-06-17 17:05:47.352459
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-17 17:05:59.835091
+select id, runtime_config->'tts_config'->1->'config' from assistant_configs where runtime_config->>'tts_config'::text ~ 'GOOGLE' and runtime_config::text ~ 'voice_id';

# 2025-06-17 17:06:14.038855
+select id, runtime_config->'tts_config'->1->'config' from assistant_configs where runtime_config->>'assr_config'::text ~ 'GOOGLE';

# 2025-06-17 17:06:17.408790
+select id, runtime_config->'tts_config'->1->'config' from assistant_configs where runtime_config->>'asr_config'::text ~ 'GOOGLE';

# 2025-06-17 17:06:24.692268
+select id, runtime_config from assistant_configs where runtime_config->>'asr_config'::text ~ 'GOOGLE';

# 2025-06-17 17:09:35.311059
+select *, id, config from runtime_providers where name = 'GOOGLE' and type = 'ASR' limit 1;

# 2025-06-17 17:11:56.912692
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-18 20:43:59.115912
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-18 21:15:30.586355
+drop table runtime_providers;

# 2025-06-18 21:15:38.951311
+drop table runtime_providers cascade;

# 2025-06-18 21:16:20.804809
+select *, id, config from runtime_providers where name = 'GOOGLE' and type = 'ASR' limit 1;

# 2025-06-18 21:16:30.296524
+create table runtime_providers;

# 2025-06-18 21:16:46.347720
+\c orchestrator_service

# 2025-06-18 21:16:51.405101
+select *, id, config from runtime_providers where name = 'GOOGLE' and type = 'ASR' limit 1;

# 2025-06-18 21:17:02.189203
+select * from runtime_providers;

# 2025-06-18 21:20:05.251958
+CREATE TABLE runtime_providers (
+    id SERIAL PRIMARY KEY,
+    name VARCHAR NOT NULL,
+    type VARCHAR NOT NULL,
+    language VARCHAR NOT NULL,
+    models TEXT[] NOT NULL DEFAULT '{}',
+    default_model VARCHAR NOT NULL,
+    config JSONB NOT NULL DEFAULT '{}',
+    CONSTRAINT uix_provider_name_type_language UNIQUE (name, type, language)
+);
+

# 2025-06-18 21:20:43.696944
+CREATE TABLE runtime_providers (
+    id SERIAL PRIMARY KEY,
+    name VARCHAR NOT NULL,
+    type VARCHAR NOT NULL,
+    language VARCHAR NOT NULL,
+    models TEXT[] NOT NULL DEFAULT '{}',
+    default_model VARCHAR NOT NULL,
+    config JSONB NOT NULL DEFAULT '{}',
+    CONSTRAINT uix_provider_name_type_language UNIQUE (name, type, language)
+);

# 2025-06-18 21:20:56.588135
+\c orchestrator_service

# 2025-06-18 21:20:58.807518
+CREATE TABLE runtime_providers (
+    id SERIAL PRIMARY KEY,
+    name VARCHAR NOT NULL,
+    type VARCHAR NOT NULL,
+    language VARCHAR NOT NULL,
+    models TEXT[] NOT NULL DEFAULT '{}',
+    default_model VARCHAR NOT NULL,
+    config JSONB NOT NULL DEFAULT '{}',
+    CONSTRAINT uix_provider_name_type_language UNIQUE (name, type, language)
+);

# 2025-06-18 21:21:10.957450
+\d runtime_providers

# 2025-06-18 21:27:49.560853
+DROP TABLE IF EXISTS runtime_providers CASCADE;

# 2025-06-18 21:27:57.597246
+CREATE TABLE runtime_providers (
+      id SERIAL PRIMARY KEY,
+      name VARCHAR NOT NULL,
+      type VARCHAR NOT NULL CHECK (type IN ('ASR', 'TTS', 'LLM')),
+      language VARCHAR NOT NULL,
+      models VARCHAR[] NOT NULL DEFAULT '{}',
+      default_model VARCHAR NOT NULL,
+      config JSONB NOT NULL DEFAULT '{}',
+      created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL,
+      updated_at TIMESTAMP WITH TIME ZONE,
+      deleted_at TIMESTAMP WITH TIME ZONE,
+      CONSTRAINT uix_provider_name_type UNIQUE (name, type)
+  );

# 2025-06-18 21:28:56.959949
+select * from runtime_providers;

# 2025-06-18 21:29:31.477497
+select * from language_provider_defaults;

# 2025-06-18 21:29:42.592194
+\d

# 2025-06-18 21:29:49.869907
+select * from language_provider_defaults;

# 2025-06-18 21:33:23.437290
+select * from runtime_providers;

# 2025-06-18 21:33:27.748909
+\d runtime_providers

# 2025-06-18 21:33:36.758689
+DROP TABLE IF EXISTS runtime_providers CASCADE;

# 2025-06-18 21:34:08.017426
+\c orchestrator_service

# 2025-06-18 21:34:32.442290
+CREATE TABLE runtime_providers (
+      id SERIAL PRIMARY KEY,
+      name VARCHAR NOT NULL,
+      type VARCHAR NOT NULL CHECK (type IN ('ASR', 'TTS', 'LLM')),
+      language VARCHAR NOT NULL,
+      models VARCHAR[] NOT NULL DEFAULT '{}',
+      default_model VARCHAR NOT NULL,
+      config JSONB NOT NULL DEFAULT '{}',
+      created_at TIMESTAMP WITH TIME ZONE DEFAULT now() NOT NULL,
+      updated_at TIMESTAMP WITH TIME ZONE,
+      deleted_at TIMESTAMP WITH TIME ZONE,
+      CONSTRAINT uix_provider_name_type_language UNIQUE (name, type, language)
+  );

# 2025-06-18 21:34:54.978429
+\d runtime_providers

# 2025-06-18 21:34:57.816821
+select * from runtime_providers;

# 2025-06-18 21:35:09.253274
+\c orchestrator_service

# 2025-06-18 21:36:09.388125
+select * from language_provider_defaults;

# 2025-06-18 21:36:24.037142
+select * from runtime_providers;

# 2025-06-18 21:36:30.268985
+select distinct language from runtime_providers;

# 2025-06-18 21:37:14.374080
+select id, distinct language from runtime_providers;

# 2025-06-18 21:37:18.630692
+select id, language from runtime_providers;

# 2025-06-18 21:37:28.201321
+select id, language, type, name from runtime_providers;

# 2025-06-18 21:38:01.629153
+select * from language_provider_defaults;

# 2025-06-18 21:38:44.630155
+INSERT INTO language_provider_defaults (language, asr_provider_id, tts_provider_id, llm_provider_id)
+VALUES 
+  ('en-IN', 1, 9, NULL),
+  ('gu-IN', 3, 15, NULL),
+  ('kn-IN', 4, 14, NULL),
+  ('ml-IN', 5, 16, NULL),
+  ('mr-IN', 6, 17, NULL),
+  ('ta-IN', 8, 18, NULL),
+  ('te-IN', 12, 19, NULL);

# 2025-06-18 21:38:47.272771
+select * from language_provider_defaults;

# 2025-06-18 21:39:07.976528
+UPDATE language_provider_defaults
+SET asr_provider_id = 2, tts_provider_id = 13
+WHERE language = 'hi-IN';

# 2025-06-18 21:39:10.966252
+select * from language_provider_defaults;

# 2025-06-18 21:39:25.313483
+\c orchestrator_service

# 2025-06-18 21:48:00.119110
+select * from language_provider_defaults;

# 2025-06-19 02:43:48.796783
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-19 02:52:21.480833
+select *, id, config from runtime_providers where name = 'GOOGLE' and type = 'ASR' limit 1;

# 2025-06-19 02:53:06.825562
+UPDATE runtime_providers 
+SET models = ARRAY['long', 'chirp', 'chirp_2'] 
+WHERE name = 'GOOGLE' and type = 'ASR';

# 2025-06-19 02:55:49.110381
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-19 15:33:44.110326
+select * from language_provider_defaults;

# 2025-06-19 15:33:57.400654
+select id, language, type, name from runtime_providers;

# 2025-06-19 15:34:02.572046
+select id, language, type, name from runtime_providers order by id;

# 2025-06-19 15:34:19.522785
+select id, language, type, name from runtime_providers where type = 'ASR' order by id;

# 2025-06-19 15:35:38.940772
+select * from language_provider_defaults;

# 2025-06-19 15:35:49.331518
+update language_provider_defaults set as

# 2025-06-19 15:36:07.200924
+update language_provider_defaults set asr_provider_id=21 where language='en-US';

# 2025-06-19 15:36:10.322017
+select * from language_provider_defaults;

# 2025-06-19 15:36:16.150966
+update language_provider_defaults set asr_provider_id=21 where language='en-IN';

# 2025-06-19 15:37:14.021902
+select * from language_provider_defaults;

# 2025-06-19 15:37:48.692262
+select * from runtime_providers where id in (select tts_provider_id from language_provider_defaults);

# 2025-06-19 15:37:58.120122
+select * from runtime_providers where language = 'en-US' and id in (select tts_provider_id from language_provider_defaults);

# 2025-06-19 15:38:02.967124
+select * from runtime_providers where language = 'en-IN' and id in (select tts_provider_id from language_provider_defaults);

# 2025-06-19 15:39:24.329459
+select * from runtime_providers where language = 'en-US' and id in (select tts_provider_id from language_provider_defaults);

# 2025-06-19 15:39:58.742019
+select id, language, type, name from runtime_providers where type = 'TTS' and language = 'en-US' order by id;

# 2025-06-19 15:40:14.906445
+update language_provider_defaults set tts_provider_id=22 where language='en-US';

# 2025-06-19 19:11:43.257705
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-20 15:17:06.828917
+\c fsm_service

# 2025-06-20 15:17:18.557799
+select * from virtual_numbers;

# 2025-06-20 16:40:30.934010
+\c orchestrator_service

# 2025-06-20 19:13:12.246274
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-23 13:57:07.632611
+select * from runtime_providers;

# 2025-06-23 13:57:24.501801
+select type, name, * from runtime_providers;

# 2025-06-23 13:57:31.105401
+select type, name, language, * from runtime_providers;

# 2025-06-23 13:57:39.383548
+select type, name, language, default_model from runtime_providers;

# 2025-06-23 13:57:44.895748
+select type, name, language, models from runtime_providers;

# 2025-06-23 13:57:56.346155
+select type, name, language, models from runtime_providers where type = 'ASR';

# 2025-06-23 18:56:53.171259
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-27 15:36:05.003080
+\c orchestrator_service

# 2025-06-27 15:36:09.350957
+select runtime_config->>'barge_in_enabled' from assistant_configs;

# 2025-06-27 15:37:06.636063
+select runtime_config->>'barge_in_config' from assistant_configs;

# 2025-06-27 15:37:30.514474
+select runtime_config->>'barge_in_enabled' from assistant_configs;

# 2025-06-27 19:49:25.409261
+\c fsm_service

# 2025-06-27 19:49:30.798954
+select * from conversations;

# 2025-06-27 19:49:35.077338
+select * from conversations limit 2;

# 2025-06-27 19:49:48.272490
+select audio_path, audio_base_path from conversations limit 2;

# 2025-06-30 15:16:02.257537
+update assistants set assistant_type='JINJA';

# 2025-06-30 18:46:49.695737
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-06-30 18:50:29.661693
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-30 18:57:39.175862
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-30 18:58:48.193019
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-06-30 18:59:16.892494
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-06-30 18:59:20.154885
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-07-01 16:26:55.560912
+\c orchestrator_service

# 2025-07-01 16:26:58.124461
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-07-01 16:27:06.807458
+update assistants set assistant_type='JINJA';

# 2025-07-01 16:30:12.534099
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-07-01 16:34:48.220927
+update assistants set assistant_type='DEFAULT_LANGCHAIN';

# 2025-07-01 16:35:37.147929
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-07-01 16:35:56.530607
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-07-02 15:23:06.178137
+select runtime_config->>'barge_in_enabled' from assistant_configs;

# 2025-07-02 15:23:16.800808
+select runtime_config->>'user_idle_detection_config' from assistant_configs;

# 2025-07-02 15:23:31.450265
+select runtime_config->'user_idle_detection_config'->>'user_idle_detection_time' from assistant_configs;

# 2025-07-02 19:28:12.974159
+update assistant_configs set runtime_config->>'dtmf_config' = 5;

# 2025-07-02 19:28:18.057158
+update assistant_configs set runtime_config ? 'dtmf_config' = 5;

# 2025-07-02 19:28:46.322798
+update assistant_configs set runtime_config = jsonb_set(runtime_config, '{dtmf_config,inter_digit_timeout}', '5');
+

# 2025-07-02 19:28:55.393054
+update assistant_configs set runtime_config = json_set(runtime_config, '{dtmf_config,inter_digit_timeout}', '5');

# 2025-07-02 19:29:39.946170
+update assistant_configs set runtime_config::jsonb = jsonb_set(runtime_config, '{dtmf_config,inter_digit_timeout}', '5');

# 2025-07-02 19:31:01.399918
+UPDATE assistant_configs
+SET runtime_config = jsonb_set(
+    runtime_config,
+    '{dtmf_config,inter_digit_timeout}',
+    '5'
+);

# 2025-07-02 19:31:27.715108
+UPDATE assistant_configs
+SET runtime_config = 
+  runtime_config::jsonb #- '{dtmf_config,inter_digit_timeout}' || 
+  '{"dtmf_config": {"inter_digit_timeout": 5}}'::jsonb;

# 2025-07-02 19:31:32.182005
+select runtime_config->'user_idle_detection_config'->>'user_idle_detection_time' from assistant_configs;

# 2025-07-02 19:31:43.225736
+select
+runtime_config->'dtmf_config'->>'inter_digit_timeout'
+from
+assistant_configs

# 2025-07-02 19:31:58.159177
+UPDATE assistant_configs
+SET runtime_config = 
+  runtime_config::jsonb #- '{dtmf_config,inter_digit_timeout}' || 
+  '{"dtmf_config": {"inter_digit_timeout": 5}}'::jsonb;

# 2025-07-02 19:32:30.428937
+select runtime_config->>'barge_in_enabled' from assistant_configs;

# 2025-07-02 19:32:36.967582
+select runtime_config->>'barge_in_config' from assistant_configs;

# 2025-07-02 19:32:48.438941
+\c orchestrator_service

# 2025-07-02 19:32:51.254979
+select runtime_config->>'barge_in_config' from assistant_configs;

# 2025-07-02 19:32:56.458818
+select
+runtime_config->'dtmf_config'->>'inter_digit_timeout'
+from
+assistant_configs

# 2025-07-02 19:32:59.916399
+UPDATE assistant_configs
+SET runtime_config = 
+  runtime_config::jsonb #- '{dtmf_config,inter_digit_timeout}' || 
+  '{"dtmf_config": {"inter_digit_timeout": 5}}'::jsonb;

# 2025-07-02 19:33:06.109603
+select
+runtime_config->'dtmf_config'->>'inter_digit_timeout'
+from
+assistant_configs

# 2025-07-02 19:33:09.934739
+select runtime_config->>'barge_in_config' from assistant_configs;

# 2025-07-02 19:33:17.292734
+select runtime_config from assistant_configs;

# 2025-07-02 19:33:24.318225
+select runtime_config->> from assistant_configs;

# 2025-07-02 19:33:33.002685
+select runtime_config->>'dtmf_config' from assistant_configs;

# 2025-07-02 19:33:41.492948
+select runtime_config->>'user_idle_detection_config' from assistant_configs;

# 2025-07-03 15:45:46.815976
+select * from assistant_configs where assistant_id = 17;

# 2025-07-03 15:46:06.522016
+select * from flow_changes;

# 2025-07-03 15:46:11.749290
+select * from flow_configs;

# 2025-07-07 15:46:18.138954
+WITH integer_columns AS (
+    SELECT
+        c.oid::regclass::text AS table_name,
+        a.attname AS column_name,
+        t.typname AS data_type,
+        CASE
+            WHEN t.typname = 'int2' THEN 32767
+            WHEN t.typname = 'int4' THEN 2147483647
+            WHEN t.typname = 'int8' THEN 9223372036854775807
+        END AS max_value,
+        EXISTS (
+            SELECT 1 FROM pg_constraint con
+            WHERE con.conrelid = c.oid
+            AND con.conkey[1] = a.attnum
+            AND con.contype = 'p'
+        ) AS is_primary_key
+    FROM pg_class c
+    JOIN pg_attribute a ON a.attrelid = c.oid
+    JOIN pg_type t ON a.atttypid = t.oid
+    WHERE c.relkind = 'r'  -- Only tables
+    AND a.attnum > 0       -- System columns are < 0
+    AND NOT a.attisdropped -- No dropped columns
+    AND t.typname IN ('int2', 'int4', 'int8')
+)
+SELECT
+    ic.table_name,
+    ic.column_name,
+    ic.data_type,
+    ic.is_primary_key,
+    COALESCE(stats.max_val, 0) AS current_max_value,
+    ic.max_value AS type_max_value,
+    CASE
+        WHEN ic.max_value = 0 THEN 0
+        ELSE ROUND(100.0 * COALESCE(stats.max_val, 0) / ic.max_value, 2)
+    END AS percent_used,
+    CASE
+        WHEN ic.max_value = 0 THEN 'N/A'
+        WHEN COALESCE(stats.max_val, 0) / ic.max_value >= 0.9 THEN 'CRITICAL'
+        WHEN COALESCE(stats.max_val, 0) / ic.max_value >= 0.75 THEN 'WARNING'
+        WHEN COALESCE(stats.max_val, 0) / ic.max_value >= 0.5 THEN 'MONITOR'
+        ELSE 'OK'
+    END AS status
+FROM integer_columns ic
+LEFT JOIN LATERAL (
+    SELECT max(CASE
+                WHEN ic.data_type = 'int2' THEN (col::int2)::bigint
+                WHEN ic.data_type = 'int4' THEN (col::int4)::bigint
+                WHEN ic.data_type = 'int8' THEN (col::int8)::bigint
+              END) AS max_val
+    FROM (SELECT pg_catalog.substring(ic.table_name, 2, length(ic.table_name)-2)::regclass::text AS full_table,
+                 quote_ident(ic.column_name) AS col_name) x,
+         LATERAL pg_catalog.format('SELECT max(%s) as col FROM %s', 
+                                  x.col_name, 
+                                  x.full_table) y,
+         LATERAL pg_catalog.execute(y) z(col text)
+) stats ON true
+ORDER BY percent_used DESC, is_primary_key DESC
+LIMIT 100;

# 2025-07-08 17:34:37.502241
+\c orchestrator_service

# 2025-07-08 17:34:44.554885
+select * from runtime_providers;

# 2025-07-08 17:34:51.279015
+select * from runtime_providers where type = 'LLM';

# 2025-07-08 17:34:53.401972
+select * from runtime_providers;

# 2025-07-08 17:40:16.522651
+select type, name, language, models from runtime_providers where type = 'LLM';

# 2025-07-08 17:40:22.593118
+select * from runtime_providers where type = 'LLM';

# 2025-07-08 17:40:34.445308
+select * from assistant_configs where assistant_id = 17;

# 2025-07-08 17:40:45.837810
+select runtime_config->'llm_configs' from assistant_configs;

# 2025-07-08 17:40:50.117443
+select runtime_config->'tts_configs' from assistant_configs;

# 2025-07-08 17:40:52.682617
+select runtime_config->'tts_config' from assistant_configs;

# 2025-07-08 17:40:58.356067
+select runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 17:41:10.698973
+select id, name, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 17:41:17.923979
+select assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 17:41:42.584037
+select * from runtime_providers where type = 'LLM';

# 2025-07-08 17:41:46.703475
+select * from runtime_providers;

# 2025-07-08 17:41:58.302103
+select * from runtime_providers order by id;

# 2025-07-08 17:44:04.224586
+SELECT id 
+FROM runtime_providers 
+WHERE name = 'AZURE_OPENAI'
+AND type = 'LLM' 
+LIMIT 1

# 2025-07-08 17:44:15.233308
+SELECT id 
+FROM runtime_providers 
+WHERE name = 'OPENAI'
+AND type = 'LLM' 
+LIMIT 1

# 2025-07-08 17:45:40.386304
+select * from runtime_providers;

# 2025-07-08 17:45:43.759893
+SELECT id 
+FROM runtime_providers 
+WHERE name = 'OPENAI'
+AND type = 'LLM' 
+LIMIT 1

# 2025-07-08 17:45:53.234172
+SELECT id 
+FROM runtime_providers
+AND type = 'LLM' 
+LIMIT 1

# 2025-07-08 17:45:58.545930
+select assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 17:46:05.356547
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 17:47:03.119394
+select * from runtime_providers;

# 2025-07-08 17:47:05.717766
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 17:49:58.278677
+UPDATE assistant_configs
+SET runtime_config = 
+  runtime_config::jsonb #- '{llm_config}' || 
+  '{"llm_config": []}'::jsonb;
+

# 2025-07-08 17:50:06.095994
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 17:50:25.647632
+select updated_at, assistant_id, runtime_config->'llm_config' as llm_config from assistant_configs;

# 2025-07-08 17:50:28.643882
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 17:50:40.410457
+UPDATE assistant_configs
+SET runtime_config = 
+  runtime_config::jsonb #- '{llm_config}' || 
+  '{"llm_config": null}'::jsonb;
+

# 2025-07-08 17:50:43.442254
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 17:55:04.447363
+select updated_at, assistant_id, runtime_config->'llm_config' as llm_config from assistant_configs;

# 2025-07-08 17:55:15.369550
+select updated_at, assistant_id, runtime_config as llm_config from assistant_configs;

# 2025-07-08 17:55:25.847286
+select updated_at, assistant_id, runtime_config ? 'llm_config' from assistant_configs;

# 2025-07-08 17:55:30.730701
+select updated_at, assistant_id, runtime_config::jsonb ? 'llm_config' from assistant_configs;

# 2025-07-08 17:55:35.416012
+select updated_at, assistant_id, runtime_config::jsonb ? 'llm_configs' from assistant_configs;

# 2025-07-08 17:55:37.544625
+select updated_at, assistant_id, runtime_config::jsonb ? 'llm_config' from assistant_configs;

# 2025-07-08 17:56:12.319434
+select runtime_config as llm_config from assistant_configs limit 1;

# 2025-07-08 17:56:16.956605
+\x

# 2025-07-08 17:56:17.943949
+select runtime_config as llm_config from assistant_configs limit 1;

# 2025-07-08 17:56:31.121311
+\x

# 2025-07-08 17:57:58.958586
+SELECT 
+    id,
+    runtime_config::jsonb->'llm_config' AS llm_config,
+    CASE 
+        WHEN runtime_config IS NOT NULL AND (
+            runtime_config::jsonb ? 'llm_config' = false
+            OR runtime_config::jsonb->'llm_config' IS NULL
+            OR (
+                jsonb_typeof(runtime_config::jsonb->'llm_config') = 'array'
+                AND jsonb_array_length(runtime_config::jsonb->'llm_config') = 0
+            )
+        )
+        THEN 'Matches Condition'
+        ELSE 'Does Not Match Condition'
+    END AS condition_match
+FROM 
+    assistant_configs;
+

# 2025-07-08 17:58:40.778583
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 17:58:56.103469
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs where runtime_config->'llm_config' = null;

# 2025-07-08 17:59:05.982401
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs where runtime_config::jsonb->'llm_config' = null;

# 2025-07-08 17:59:18.144889
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs where runtime_config::jsonb->'llm_config' = 'null'::jsonb;

# 2025-07-08 17:59:28.900447
+\c orchestrator_service

# 2025-07-08 18:00:00.525421
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 18:22:47.050738
+select * from runtime_providers;

# 2025-07-08 18:25:43.165382
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 18:25:49.255272
+UPDATE assistant_configs
+SET runtime_config = 
+  runtime_config::jsonb #- '{llm_config}' || 
+  '{"llm_config": []}'::jsonb;
+

# 2025-07-08 18:26:01.456533
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 18:26:10.524726
+UPDATE assistant_configs
+SET runtime_config = 
+  runtime_config::jsonb #- '{llm_config}' || 
+  '{"llm_config": null}'::jsonb;
+

# 2025-07-08 18:26:22.775068
+select updated_at, assistant_id, runtime_config->'llm_config' from assistant_configs;

# 2025-07-08 19:00:34.074077
+select type, name, language, models from runtime_providers where type = 'LLM';

# 2025-07-08 19:00:38.868207
+select assistants.id, virtual_id, languages from assistants inner join virtual_number ON virtual_number.assistant_id = assistants.id;

# 2025-07-08 19:00:54.028615
+select * from runtime_providers;

# 2025-07-08 19:20:59.083382
+update assistants set assistant_type='JINJA';

# 2025-07-09 14:56:21.339357
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-07-09 15:13:05.864728
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-07-10 15:22:55.615744
+update assistants set assistant_type='JINJA';

# 2025-07-10 16:22:45.637094
+update assistants set assistant_type='STREAMING_PIPECAT';

# 2025-07-11 17:51:42.096484
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-07-11 18:05:24.982097
+select message from interaction_conversations order by id desc limit 20;

# 2025-07-11 18:05:26.960239
+select message from interaction_conversations order by id desc limit 30;

# 2025-07-11 18:05:33.188598
+select message from interaction_conversations order by id desc;

# 2025-07-11 18:06:10.752566
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);

# 2025-07-11 18:11:49.956113
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1); \watch 5

# 2025-07-11 19:10:13.653173
+select type, message from interaction_conversations where interaction_id = (select id from interactions order by id desc limit 1);
